"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1090],{5425:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(95155),o=n(12115),s=n(8724),i=n(86927),l=n(88453),r=n(44851),c=n(53218);function d(e){let{hue:t=0,hoverIntensity:n=.2,rotateOnHover:d=!0,forceHoverState:u=!1}=e,v=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e,a=v.current;if(!a)return;let o=new s.A({alpha:!0,premultipliedAlpha:!1}),f=o.gl;f.clearColor(0,0,0,0),a.appendChild(f.canvas);let h=new i.l(f),m=new l.B(f,{vertex:"\n    precision highp float;\n    attribute vec2 position;\n    attribute vec2 uv;\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = vec4(position, 0.0, 1.0);\n    }\n  ",fragment:"\n    precision highp float;\n\n    uniform float iTime;\n    uniform vec3 iResolution;\n    uniform float hue;\n    uniform float hover;\n    uniform float rot;\n    uniform float hoverIntensity;\n    varying vec2 vUv;\n\n    vec3 rgb2yiq(vec3 c) {\n      float y = dot(c, vec3(0.299, 0.587, 0.114));\n      float i = dot(c, vec3(0.596, -0.274, -0.322));\n      float q = dot(c, vec3(0.211, -0.523, 0.312));\n      return vec3(y, i, q);\n    }\n    \n    vec3 yiq2rgb(vec3 c) {\n      float r = c.x + 0.956 * c.y + 0.621 * c.z;\n      float g = c.x - 0.272 * c.y - 0.647 * c.z;\n      float b = c.x - 1.106 * c.y + 1.703 * c.z;\n      return vec3(r, g, b);\n    }\n    \n    vec3 adjustHue(vec3 color, float hueDeg) {\n      float hueRad = hueDeg * 3.14159265 / 180.0;\n      vec3 yiq = rgb2yiq(color);\n      float cosA = cos(hueRad);\n      float sinA = sin(hueRad);\n      float i = yiq.y * cosA - yiq.z * sinA;\n      float q = yiq.y * sinA + yiq.z * cosA;\n      yiq.y = i;\n      yiq.z = q;\n      return yiq2rgb(yiq);\n    }\n    \n    vec3 hash33(vec3 p3) {\n      p3 = fract(p3 * vec3(0.1031, 0.11369, 0.13787));\n      p3 += dot(p3, p3.yxz + 19.19);\n      return -1.0 + 2.0 * fract(vec3(\n        p3.x + p3.y,\n        p3.x + p3.z,\n        p3.y + p3.z\n      ) * p3.zyx);\n    }\n    \n    float snoise3(vec3 p) {\n      const float K1 = 0.333333333;\n      const float K2 = 0.166666667;\n      vec3 i = floor(p + (p.x + p.y + p.z) * K1);\n      vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);\n      vec3 e = step(vec3(0.0), d0 - d0.yzx);\n      vec3 i1 = e * (1.0 - e.zxy);\n      vec3 i2 = 1.0 - e.zxy * (1.0 - e);\n      vec3 d1 = d0 - (i1 - K2);\n      vec3 d2 = d0 - (i2 - K1);\n      vec3 d3 = d0 - 0.5;\n      vec4 h = max(0.6 - vec4(\n        dot(d0, d0),\n        dot(d1, d1),\n        dot(d2, d2),\n        dot(d3, d3)\n      ), 0.0);\n      vec4 n = h * h * h * h * vec4(\n        dot(d0, hash33(i)),\n        dot(d1, hash33(i + i1)),\n        dot(d2, hash33(i + i2)),\n        dot(d3, hash33(i + 1.0))\n      );\n      return dot(vec4(31.316), n);\n    }\n    \n    vec4 extractAlpha(vec3 colorIn) {\n      float a = max(max(colorIn.r, colorIn.g), colorIn.b);\n      return vec4(colorIn.rgb / (a + 1e-5), a);\n    }\n    \n    const vec3 baseColor1 = vec3(0.611765, 0.262745, 0.996078);\n    const vec3 baseColor2 = vec3(0.298039, 0.760784, 0.913725);\n    const vec3 baseColor3 = vec3(0.062745, 0.078431, 0.600000);\n    const float innerRadius = 0.6;\n    const float noiseScale = 0.65;\n    \n    float light1(float intensity, float attenuation, float dist) {\n      return intensity / (1.0 + dist * attenuation);\n    }\n    \n    float light2(float intensity, float attenuation, float dist) {\n      return intensity / (1.0 + dist * dist * attenuation);\n    }\n    \n    vec4 draw(vec2 uv) {\n      vec3 color1 = adjustHue(baseColor1, hue);\n      vec3 color2 = adjustHue(baseColor2, hue);\n      vec3 color3 = adjustHue(baseColor3, hue);\n      \n      float ang = atan(uv.y, uv.x);\n      float len = length(uv);\n      float invLen = len > 0.0 ? 1.0 / len : 0.0;\n      \n      float n0 = snoise3(vec3(uv * noiseScale, iTime * 0.5)) * 0.5 + 0.5;\n      float r0 = mix(mix(innerRadius, 1.0, 0.4), mix(innerRadius, 1.0, 0.6), n0);\n      float d0 = distance(uv, (r0 * invLen) * uv);\n      float v0 = light1(1.0, 10.0, d0);\n      v0 *= smoothstep(r0 * 1.05, r0, len);\n      float cl = cos(ang + iTime * 2.0) * 0.5 + 0.5;\n      \n      float a = iTime * -1.0;\n      vec2 pos = vec2(cos(a), sin(a)) * r0;\n      float d = distance(uv, pos);\n      float v1 = light2(1.5, 5.0, d);\n      v1 *= light1(1.0, 50.0, d0);\n      \n      float v2 = smoothstep(1.0, mix(innerRadius, 1.0, n0 * 0.5), len);\n      float v3 = smoothstep(innerRadius, mix(innerRadius, 1.0, 0.5), len);\n      \n      vec3 col = mix(color1, color2, cl);\n      col = mix(color3, col, v0);\n      col = (col + v1) * v2 * v3;\n      col = clamp(col, 0.0, 1.0);\n      \n      return extractAlpha(col);\n    }\n    \n    vec4 mainImage(vec2 fragCoord) {\n      vec2 center = iResolution.xy * 0.5;\n      float size = min(iResolution.x, iResolution.y);\n      vec2 uv = (fragCoord - center) / size * 2.0;\n      \n      float angle = rot;\n      float s = sin(angle);\n      float c = cos(angle);\n      uv = vec2(c * uv.x - s * uv.y, s * uv.x + c * uv.y);\n      \n      uv.x += hover * hoverIntensity * 0.1 * sin(uv.y * 10.0 + iTime);\n      uv.y += hover * hoverIntensity * 0.1 * sin(uv.x * 10.0 + iTime);\n      \n      return draw(uv);\n    }\n    \n    void main() {\n      vec2 fragCoord = vUv * iResolution.xy;\n      vec4 col = mainImage(fragCoord);\n      gl_FragColor = vec4(col.rgb * col.a, col.a);\n    }\n  ",uniforms:{iTime:{value:0},iResolution:{value:new r.e(f.canvas.width,f.canvas.height,f.canvas.width/f.canvas.height)},hue:{value:t},hover:{value:0},rot:{value:0},hoverIntensity:{value:n}}}),x=new c.e(f,{geometry:h,program:m});function g(){if(!a)return;let e=window.devicePixelRatio||1,t=a.clientWidth,n=a.clientHeight;o.setSize(t*e,n*e),f.canvas.style.width=t+"px",f.canvas.style.height=n+"px",m.uniforms.iResolution.value.set(f.canvas.width,f.canvas.height,f.canvas.width/f.canvas.height)}window.addEventListener("resize",g),g();let p=0,b=0,y=0,w=e=>{let t=a.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top,s=t.width,i=t.height,l=Math.min(s,i),r=(n-s/2)/l*2,c=(o-i/2)/l*2;p=+(.8>Math.sqrt(r*r+c*c))},E=()=>{p=0};a.addEventListener("mousemove",w),a.addEventListener("mouseleave",E);let j=a=>{e=requestAnimationFrame(j);let s=(a-b)*.001;b=a,m.uniforms.iTime.value=.001*a,m.uniforms.hue.value=t,m.uniforms.hoverIntensity.value=n;let i=u?1:p;m.uniforms.hover.value+=(i-m.uniforms.hover.value)*.1,d&&i>.5&&(y+=.3*s),m.uniforms.rot.value=y,o.render({scene:x})};return e=requestAnimationFrame(j),()=>{var t;cancelAnimationFrame(e),window.removeEventListener("resize",g),a.removeEventListener("mousemove",w),a.removeEventListener("mouseleave",E),a.removeChild(f.canvas),null==(t=f.getExtension("WEBGL_lose_context"))||t.loseContext()}},[t,n,d,u]),(0,a.jsx)("div",{ref:v,className:"w-full h-full"})}},26500:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(95155),o=n(12115),s=n(38564),i=n(55038),l=n.n(i),r=n(5430),c=n.n(r);let d=e=>{let{isOpen:t,onClose:n,review:i,onSubmit:r,isUpdating:d}=e,[u,v]=(0,o.useState)(0),[f,h]=(0,o.useState)("");(0,o.useEffect)(()=>{i&&(v(i.rating),h(i.reviewText))},[i]);let m=()=>{d||n()};return t&&i?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-black border border-white/20 rounded-2xl p-6 w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"".concat(c().className," text-xl font-semibold text-white"),children:"Edit Review"}),(0,a.jsx)("button",{onClick:m,disabled:d,className:"text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"".concat(l().className," block text-sm font-medium text-white mb-3"),children:["Rating ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>v(e),disabled:d,className:"w-8 h-8 transition-colors disabled:opacity-50 ".concat(e<=u?"text-yellow-400":"text-gray-600"),children:(0,a.jsx)(s.A,{className:"w-full h-full fill-current"})},e))}),(0,a.jsx)("p",{className:"".concat(l().className," text-xs text-gray-400"),children:u>0?"".concat(u," star").concat(u>1?"s":""):"Click to rate"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"".concat(l().className," block text-sm font-medium text-white mb-2"),children:["Review ",(0,a.jsx)("span",{className:"text-gray-400",children:"(Optional)"})]}),(0,a.jsx)("textarea",{value:f,onChange:e=>h(e.target.value),placeholder:"Share your updated thoughts...",disabled:d,className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 resize-none disabled:opacity-50",rows:4,maxLength:500}),(0,a.jsxs)("p",{className:"".concat(l().className," text-xs text-gray-400 mt-1"),children:[f.length,"/500 characters"]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:m,disabled:d,className:"".concat(l().className," flex-1 px-4 py-2 border border-white/30 text-white rounded-lg hover:bg-white/5 hover:border-white/60 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),children:"Cancel"}),(0,a.jsx)("button",{type:"button",onClick:()=>{i&&0!==u&&r(i._id,{rating:u,reviewText:f})},disabled:0===u||d,className:"".concat(l().className," flex-1 px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed"),children:d?"Updating...":"Update Review"})]})]})}):null}},28651:(e,t,n)=>{n.d(t,{oZ:()=>s,us:()=>r,lf:()=>i,Vp:()=>l});let a={GET_MOVIE_REVIEWS:e=>"/common/reviews/movies/".concat(e),GET_THEATER_REVIEWS:e=>"/common/reviews/theater/".concat(e),GET_THEATER_REVIEW_STATS:e=>"/common/reviews/stats/theaters/".concat(e),GET_MOVIE_REVIEW_STATS:e=>"/common/reviews/stats/movies/".concat(e)};var o=n(77567);let s=async e=>(await o.A.get(a.GET_MOVIE_REVIEWS(e))).data,i=async e=>(await o.A.get(a.GET_THEATER_REVIEWS(e))).data,l=async e=>(await o.A.get(a.GET_THEATER_REVIEW_STATS(e))).data,r=async e=>(await o.A.get(a.GET_MOVIE_REVIEW_STATS(e))).data},33991:(e,t,n)=>{n.d(t,{ConfirmDialog:()=>w,f:()=>E});var a=n(95155),o=n(12115),s=n(67372),i=n(52596),l=n(39688);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.QP)((0,i.$)(t))}let c=(0,n(74466).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"alert-dialog",...t})}function u(e){let{...t}=e;return(0,a.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...t})}function v(e){let{className:t,...n}=e;return(0,a.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:r("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function f(e){let{className:t,...n}=e;return(0,a.jsxs)(u,{children:[(0,a.jsx)(v,{}),(0,a.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:r("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n})]})}function h(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:r("flex flex-col gap-2 text-center sm:text-left",t),...n})}function m(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:r("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function x(e){let{className:t,...n}=e;return(0,a.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:r("text-lg font-semibold",t),...n})}function g(e){let{className:t,...n}=e;return(0,a.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:r("text-muted-foreground text-sm",t),...n})}function p(e){let{className:t,...n}=e;return(0,a.jsx)(s.rc,{className:r(c(),t),...n})}function b(e){let{className:t,...n}=e;return(0,a.jsx)(s.ZD,{className:r(c({variant:"outline"}),t),...n})}let y=null;function w(e){let{title:t,message:n,confirmText:s="Confirm",cancelText:i="Cancel"}=e,[l,r]=(0,o.useState)(!1),[c,u]=(0,o.useState)({title:t,message:n,confirmText:s,cancelText:i});(0,o.useEffect)(()=>{window.__openConfirmDialog=e=>(u(e),r(!0),new Promise(e=>{y=e}))},[]);let v=e=>{r(!1),null==y||y(e),y=null};return(0,a.jsx)(d,{open:l,onOpenChange:r,children:(0,a.jsxs)(f,{className:"bg-slate-800 text-slate-50 dark:bg-slate-900 dark:text-slate-100 rounded-lg shadow-lg p-6 border border-slate-700",children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(x,{children:c.title}),(0,a.jsx)(g,{children:c.message})]}),(0,a.jsxs)(m,{className:"flex justify-end space-x-2",children:[(0,a.jsx)(b,{onClick:()=>v(!1),className:"px-4 py-2 bg-muted text-muted-foreground rounded hover:bg-muted/90",children:c.cancelText}),(0,a.jsx)(p,{onClick:()=>v(!0),className:"px-4 py-2 bg-destructive text-destructive-foreground rounded hover:bg-destructive/90",children:c.confirmText})]})]})})}function E(e){return window.__openConfirmDialog(e)}},44326:(e,t,n)=>{n.d(t,{E0:()=>l.default,HS:()=>i.default,Id:()=>r.default,jq:()=>a.default,lq:()=>o.default,wi:()=>c.default,y:()=>s.default});var a=n(81534),o=n(95502),s=n(48109),i=n(67670),l=n(72607),r=n(87081),c=n(5079)},46e3:(e,t,n)=>{n.d(t,{kD:()=>s,Wr:()=>i,Gm:()=>l});let a={ADD_REVIEW:"/users/reviews",UPDATE_REVIEW:e=>"/users/reviews/".concat(e),DELETE_REVIEW:e=>"/users/reviews/".concat(e)};var o=n(77567);let s=async e=>(await o.A.post(a.ADD_REVIEW,e)).data,i=async e=>(await o.A.delete(a.DELETE_REVIEW(e))).data,l=async(e,t)=>(await o.A.put(a.UPDATE_REVIEW(e),t)).data}}]);