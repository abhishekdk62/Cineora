(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{3636:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l2});var t=a(95155),l=a(12115),r=a(30463),i=a.n(r),n=a(41066),c=a(17580),o=a(71007),d=a(1240),x=a(72713),m=a(39785),g=a(69074),h=a(61432),u=a(74783),p=a(34835),y=a(33208),b=a(34540),j=a(35695);let v={fontFamily:"Lexend",fontWeight:"500"},N={fontFamily:"Lexend",fontWeight:"400"},f=e=>{let{activeTab:s,setActiveTab:a,sidebarOpen:l,setSidebarOpen:r}=e,i=[{id:"movies",label:"Movies",icon:n.A,count:0},{id:"users",label:"Users",icon:c.A,count:1247},{id:"owners",label:"Owners and Theaters",icon:o.A,count:12},{id:"screens",label:"Screens and Showtimes",icon:d.A,count:1247},{id:"analytics",label:"Analytics",icon:x.A},{id:"wallet",label:"Wallet",icon:m.A},{id:"bookings",label:"Bookings",icon:g.A,count:89},{id:"coupon",label:"Coupons",icon:h.A,count:5}],f=(0,b.wA)(),w=(0,j.useRouter)(),A=async()=>{try{await f((0,y.y4)()).unwrap(),console.log("Logged out successfully"),w.push("/login")}catch(e){console.error("Logout failed:",e)}};return(0,t.jsxs)("div",{className:"".concat(l?"w-72":"w-20"," bg-black/95 backdrop-blur-sm border-r border-yellow-500/20 transition-all duration-300 flex flex-col"),children:[(0,t.jsx)("div",{className:"p-6 border-b border-yellow-500/20",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[l&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl text-yellow-400 mb-1",style:v,children:"Showteria"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:N,children:"Movie Management"})]}),(0,t.jsx)("button",{onClick:()=>r(!l),className:"text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 p-2 rounded-lg transition-all duration-200",children:(0,t.jsx)(u.A,{size:20})})]})}),(0,t.jsx)("nav",{className:"flex-1 p-4",children:(0,t.jsx)("ul",{className:"space-y-2",children:i.map(e=>{let r=e.icon,i=s===e.id;return(0,t.jsx)("li",{children:(0,t.jsxs)("button",{onClick:()=>a(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat(i?"bg-yellow-500 text-black":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-500/10"),children:[(0,t.jsx)(r,{size:20,className:i?"text-black":"text-yellow-400"}),l&&(0,t.jsx)("div",{className:"flex-1 flex items-center justify-between",children:(0,t.jsx)("span",{className:"text-left",style:N,children:e.label})})]})},e.id)})})}),(0,t.jsx)("div",{className:"p-4 border-t border-yellow-500/20",children:(0,t.jsxs)("button",{onClick:A,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:text-red-400 hover:bg-red-500/10 transition-all duration-200",children:[(0,t.jsx)(p.A,{size:20,className:"text-red-400"}),l&&(0,t.jsx)("span",{style:N,children:"Logout"})]})})]})};var w=a(47716),A=a.n(w),k=a(44891),S=a.n(k),C=a(14186),T=a(84616);let z={fontFamily:"Lexend",fontWeight:"400"},F=e=>{let{activeView:s,setActiveView:a,currentCount:l,expiredCount:r}=e,i=[{id:"current",label:"Current Movies",icon:n.A,count:l,color:"text-green-400"},{id:"expired",label:"Inactive Movies",icon:C.A,count:r,color:"text-red-400"},{id:"tmdb",label:"Add from TMDB",icon:T.A,color:"text-blue-400"}];return(0,t.jsx)("div",{className:"bg-gray-900/90 backdrop-blur-sm border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:i.map(e=>{let l=e.icon,r=s===e.id;return(0,t.jsxs)("button",{onClick:()=>a(e.id),className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat(r?"bg-yellow-500 text-black font-medium":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-500/10 border border-yellow-500/30"),children:[(0,t.jsx)(l,{size:18,className:r?"text-black":"text-yellow-400"}),(0,t.jsx)("span",{style:z,children:e.label}),void 0!==e.count&&(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(r?"bg-black/20 text-black":"bg-yellow-500/20 text-yellow-400"),style:z,children:e.count})]},e.id)})})})},D={POPULAR_MOVIES:"/movie/popular",GENRES:"/genre/movie/list",SEARCH_MOVIES:"/search/movie"},E=a(23464).A.create({baseURL:"https://api.themoviedb.org/3",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5NDI5ZTk2NjM0MjZkYTI3NzAxYTFiNzI5ZTFhYjI4NiIsIm5iZiI6MTczNzY1MDg5Ni4xODU5OTk5LCJzdWIiOiI2NzkyNzJkMGVhNjQ2ODIzNGVlYWQxYmUiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.X9OMStrcWC9IeHFbMd7_s7qWFhwlB5Lol_T65QEMULY",Accept:"application/json"}}),R=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(await E.get(D.POPULAR_MOVIES,{params:{language:"en-US",page:e}})).data},P=async()=>(await E.get(D.GENRES,{params:{language:"en-US"}})).data.genres,I=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(await E.get(D.SEARCH_MOVIES,{params:{query:e,page:s}})).data},O=(0,l.createContext)(void 0),M=e=>{let{children:s}=e,[a,r]=(0,l.useState)([]),[i,n]=(0,l.useState)([]),[c,o]=(0,l.useState)(!1);return(0,t.jsx)(O.Provider,{value:{movies:a,setMovies:r,tmdbMovies:i,setTmdbMovies:n,loading:c,setLoading:o},children:s})},L=()=>{let e=(0,l.useContext)(O);if(!e)throw Error("useAdmin must be used within AdminProvider");return e};var U=a(68237),_=a.n(U),V=a(95280),B=a.n(V);let G=()=>(0,t.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(_().className," text-2xl font-bold text-white mb-2"),children:"Add Movies from TMDB"}),(0,t.jsx)("p",{className:"".concat(B().className," text-gray-300"),children:"Search and add movies from The Movie Database"})]})});var q=a(47924),W=a(66932),Y=a(54653),H=a(15968),J=a(6434),Z=a.n(J);let Q=e=>{let{searchTerm:s,setSearchTerm:a,selectedGenre:l,setSelectedGenre:r,sortBy:i,setSortBy:n,viewMode:c,setViewMode:o,genres:d}=e;return(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search movies on TMDB...",value:s,onChange:e=>a(e.target.value),className:"".concat(Z().className," w-full pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]")})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(W.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:l,onChange:e=>r(e.target.value),className:"w-48 pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white appearance-none focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]",children:[(0,t.jsx)("option",{value:"all",children:"All Genres"}),d.map(e=>(0,t.jsx)("option",{value:e.id.toString(),children:e.name},e.id))]})]}),(0,t.jsxs)("select",{value:i,onChange:e=>n(e.target.value),className:"w-40 px-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white appearance-none focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]",children:[(0,t.jsx)("option",{value:"popularity",children:"Popularity"}),(0,t.jsx)("option",{value:"title",children:"Title"}),(0,t.jsx)("option",{value:"release_date",children:"Release Date"}),(0,t.jsx)("option",{value:"vote_average",children:"Rating"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>o("grid"),className:"p-2 rounded border transition-colors ".concat("grid"===c?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:border-[#e78f03] hover:text-white"),children:(0,t.jsx)(Y.A,{size:16})}),(0,t.jsx)("button",{onClick:()=>o("list"),className:"p-2 rounded border transition-colors ".concat("list"===c?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:border-[#e78f03] hover:text-white"),children:(0,t.jsx)(H.A,{size:16})})]})]})})};var X=a(38564),K=a(51154),$=a(48369),ee=a.n($),es=a(52844),ea=a.n(es);let et=e=>{let{movie:s,onAddMovie:a,getGenreNames:l,loading:r}=e;return(0,t.jsxs)("div",{className:"group bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300 hover:shadow-2xl hover:shadow-[#e78f03]/20 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-t-lg",children:[(0,t.jsx)("img",{src:s.poster_path?"".concat("https://image.tmdb.org/t/p/w500").concat(s.poster_path):"/placeholder.svg",alt:s.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,t.jsx)("div",{className:"absolute top-3 left-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-black/50 text-yellow-400 text-xs px-2 py-1 rounded-full",children:[(0,t.jsx)(X.A,{size:12,fill:"currentColor"}),(0,t.jsx)("span",{children:s.vote_average.toFixed(1)})]})}),(0,t.jsx)("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,t.jsx)("button",{className:"h-8 w-8 p-0 bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md flex items-center justify-center transition-colors",onClick:()=>a(s),disabled:r,children:r?(0,t.jsx)(K.A,{size:14,className:"animate-spin"}):(0,t.jsx)(T.A,{size:14})})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"".concat(ee().className," text-lg font-semibold text-white line-clamp-1"),children:s.title}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,t.jsx)(g.A,{size:12}),(0,t.jsx)("span",{children:s.release_date?new Date(s.release_date).getFullYear():"N/A"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mb-3",children:(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border bg-blue-500/20 text-blue-200 border-blue-400/50",children:l(s.genre_ids.slice(0,2))})}),(0,t.jsx)("p",{className:"".concat(ea().className," text-gray-300 text-sm mb-4 line-clamp-2"),children:s.overview}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(X.A,{size:14,fill:"currentColor"}),(0,t.jsx)("span",{className:"text-sm",children:s.vote_average.toFixed(1)}),(0,t.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",s.vote_count,")"]})]}),(0,t.jsxs)("button",{className:"bg-[#e78f03] text-black hover:bg-[#d17a02] px-3 py-1 rounded-md text-sm font-medium transition-colors flex items-center gap-1",onClick:()=>a(s),disabled:r,children:[r?(0,t.jsx)(K.A,{size:14,className:"animate-spin"}):(0,t.jsx)(T.A,{size:14}),"Add"]})]})]})]})};var el=a(63596),er=a.n(el),ei=a(77475),en=a.n(ei);let ec=e=>{let{movie:s,onAddMovie:a,getGenreNames:l,loading:r}=e;return(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300",children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("img",{src:s.poster_path?"".concat("https://image.tmdb.org/t/p/w500").concat(s.poster_path):"/placeholder.svg",alt:s.title,className:"w-16 h-24 object-cover rounded-lg"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"".concat(er().className," text-lg font-semibold text-white"),children:s.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(X.A,{size:14,fill:"currentColor"}),(0,t.jsx)("span",{className:"text-sm",children:s.vote_average.toFixed(1)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,t.jsx)(g.A,{size:12}),(0,t.jsx)("span",{children:new Date(s.release_date).getFullYear()})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border bg-blue-500/20 text-blue-200 border-blue-400/50",children:l(s.genre_ids.slice(0,3))}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm",children:["Votes: ",s.vote_count]})]}),(0,t.jsx)("p",{className:"".concat(en().className," text-gray-300 text-sm mb-3 line-clamp-1"),children:s.overview})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("button",{className:"px-4 py-2 text-sm bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md transition-colors font-medium flex items-center gap-2",onClick:()=>a(s),disabled:r,children:[r?(0,t.jsx)(K.A,{size:14,className:"animate-spin"}):(0,t.jsx)(T.A,{size:14}),"Add Movie"]})})]})})})};var eo=a(42355),ed=a(13052);let ex={fontFamily:"Lexend",fontWeight:"400"},em=e=>{let{currentPage:s,totalPages:a,onPageChange:l}=e;return a<=1?null:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 mt-8",children:[(0,t.jsx)("button",{onClick:()=>l(Math.max(s-1,1)),disabled:1===s,className:"p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-yellow-400 hover:bg-yellow-500/10 hover:border-yellow-500/60 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-800/50 disabled:hover:border-yellow-500/30 transition-all duration-200",children:(0,t.jsx)(eo.A,{size:20})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,a)},(e,r)=>{let i=Math.max(1,s-2)+r;return i>a?null:(0,t.jsx)("button",{onClick:()=>l(i),className:"px-4 py-2 rounded-lg transition-all duration-200 ".concat(s===i?"bg-yellow-500 text-black font-medium":"bg-gray-800/50 border border-yellow-500/30 text-yellow-400 hover:bg-yellow-500/10 hover:border-yellow-500/60"),style:ex,children:i},i)})}),(0,t.jsx)("button",{onClick:()=>l(Math.min(s+1,a)),disabled:s===a,className:"p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-yellow-400 hover:bg-yellow-500/10 hover:border-yellow-500/60 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-800/50 disabled:hover:border-yellow-500/30 transition-all duration-200",children:(0,t.jsx)(ed.A,{size:20})})]})};var eg=a(78770),eh=a.n(eg),eu=a(89677),ep=a.n(eu);let ey=()=>(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-12 text-center",children:[(0,t.jsx)(K.A,{className:"h-16 w-16 text-[#e78f03] mx-auto mb-4 animate-spin"}),(0,t.jsx)("h3",{className:"".concat(eh().className," text-xl text-white mb-2"),children:"Loading Movies..."}),(0,t.jsx)("p",{className:"".concat(ep().className," text-gray-400"),children:"Fetching data from TMDB"})]});var eb=a(6361),ej=a.n(eb),ev=a(64276),eN=a.n(ev);let ef=()=>(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-12 text-center",children:[(0,t.jsx)(q.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"".concat(ej().className," text-xl text-white mb-2"),children:"No movies found"}),(0,t.jsx)("p",{className:"".concat(eN().className," text-gray-400"),children:"Try adjusting your search or filter criteria"})]}),ew=e=>{let{onAddMovie:s}=e,{searchTerm:a,setSearchTerm:r,selectedGenre:i,setSelectedGenre:n,sortBy:c,setSortBy:o,viewMode:d,setViewMode:x,currentPage:m,setCurrentPage:g,totalPages:h,genres:u,loading:p,filteredMovies:y,getGenreNames:b,TMDB_IMAGE_BASE_URL:j}=(()=>{let{tmdbMovies:e,setTmdbMovies:s,loading:a,setLoading:t}=L(),[r,i]=(0,l.useState)(""),[n,c]=(0,l.useState)("all"),[o,d]=(0,l.useState)("popularity"),[x,m]=(0,l.useState)("grid"),[g,h]=(0,l.useState)(1),[u,p]=(0,l.useState)(1),[y,b]=(0,l.useState)([]);(0,l.useEffect)(()=>{if(r.trim()){let e=r.trim(),s=setTimeout(()=>{v(e,g)},500);return()=>clearTimeout(s)}j(g)},[r,g]);let j=async e=>{t(!0);try{let[a,t]=await Promise.all([R(e),P()]);s(a.results),b(t),p(a.total_pages)}catch(e){console.error(e)}finally{t(!1)}},v=async(e,a)=>{t(!0);try{let t=await I(e,a);s(t.results),p(t.total_pages)}catch(e){console.error(e)}finally{t(!1)}},N=(e||[]).filter(e=>"all"===n||e.genre_ids.includes(+n)).sort((e,s)=>{switch(o){case"title":return e.title.localeCompare(s.title);case"release_date":return new Date(s.release_date).getTime()-new Date(e.release_date).getTime();case"vote_average":return s.vote_average-e.vote_average;default:var a,t;return(null!=(a=s.popularity)?a:0)-(null!=(t=e.popularity)?t:0)}});return{searchTerm:r,setSearchTerm:e=>{i(e),h(1)},selectedGenre:n,setSelectedGenre:c,sortBy:o,setSortBy:d,viewMode:x,setViewMode:m,currentPage:g,setCurrentPage:h,totalPages:u,genres:y,loading:a,filteredMovies:N,getGenreNames:e=>e.map(e=>{var s;return null==(s=y.find(s=>s.id===e))?void 0:s.name}).filter(Boolean).join(", "),TMDB_IMAGE_BASE_URL:"https://image.tmdb.org/t/p/w500"}})(),v=async e=>{try{let a={tmdbId:e.id,title:e.title,genre:b(e.genre_ids).split(", ").filter(Boolean),releaseDate:e.release_date,duration:120,rating:"PG-13",description:e.overview,poster:"".concat(j).concat(e.poster_path),trailer:"",cast:["Sample Actor 1","Sample Actor 2"],director:"Sample Director",language:e.original_language};s(a)}catch(e){console.error("Error adding movie:",e)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(G,{}),(0,t.jsx)(Q,{searchTerm:a,setSearchTerm:r,selectedGenre:i,setSelectedGenre:n,sortBy:c,setSortBy:o,viewMode:d,setViewMode:x,genres:u}),p&&(0,t.jsx)(ey,{}),p||0!==y.length?p?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid"===d?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:y.map(e=>"grid"===d?(0,t.jsx)(et,{movie:e,onAddMovie:v,getGenreNames:b,loading:p},e.id):(0,t.jsx)(ec,{movie:e,onAddMovie:v,getGenreNames:b,loading:p},e.id))}),(0,t.jsx)(em,{currentPage:m,totalPages:h,onPageChange:g})]}):(0,t.jsx)(ef,{})]})};var eA=a(21917),ek=a.n(eA),eS=a(54416),eC=a(4229),eT=a(23447),ez=a.n(eT),eF=a(43990),eD=a.n(eF);let eE=e=>{let{poster:s,onPosterChange:a}=e;return(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"".concat(ez().className," text-lg text-white mb-4"),children:"Movie Poster"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("img",{src:s||"/placeholder.svg",alt:"Movie Poster",className:"w-full h-80 object-cover rounded-lg border border-gray-500"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"".concat(eD().className," block text-sm text-gray-300 font-medium"),children:"Poster URL"}),(0,t.jsx)("input",{type:"url",name:"poster",value:s,onChange:a,className:"w-full px-3 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]",placeholder:"https://example.com/poster.jpg"})]})]})]})};var eR=a(23206),eP=a.n(eR);let eI=e=>{var s;let{formData:a}=e;return(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"".concat(eP().className," text-lg text-white mb-4"),children:"Movie Details"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,t.jsx)(X.A,{className:"h-4 w-4 text-yellow-400"}),(0,t.jsxs)("span",{className:"text-sm",children:["TMDB ID: ",a.tmdbId||"N/A"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,t.jsx)(g.A,{className:"h-4 w-4 text-blue-400"}),(0,t.jsxs)("span",{className:"text-sm",children:["Release:"," ",a.releaseDate?new Date(a.releaseDate).getFullYear():"N/A"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 text-green-400"}),(0,t.jsxs)("span",{className:"text-sm",children:["Duration: ",a.duration||0," minutes"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-purple-400"}),(0,t.jsxs)("span",{className:"text-sm",children:["Cast: ",(null==(s=a.cast)?void 0:s.length)||0," actors"]})]})]})]})};var eO=a(46783),eM=a.n(eO);let eL=e=>{var s,a,l,r,i,n,c,o;let{register:d,errors:x,watchedValues:m}=e;return(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:["Title ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",...d("title"),className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.title?"border-red-400":"border-gray-500"," rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]"),placeholder:"Enter movie title"}),x.title&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(s=x.title)?void 0:s.message)||"This field is required")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:"Duration (minutes)"}),(0,t.jsx)("input",{type:"number",...d("duration",{valueAsNumber:!0}),min:"1",className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.duration?"border-red-400":"border-gray-500"," rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]"),placeholder:"120"}),x.duration&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(a=x.duration)?void 0:a.message)||"Duration is required")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:"Rating"}),(0,t.jsxs)("select",{...d("rating"),className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.rating?"border-red-400":"border-gray-500"," rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]"),children:[(0,t.jsx)("option",{value:"",children:"Select rating"}),["G","PG","PG-13","R","NC-17"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),x.rating&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(l=x.rating)?void 0:l.message)||"Rating is required")})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:["Release Date ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"date",...d("releaseDate"),className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.releaseDate?"border-red-400":"border-gray-500"," rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]")}),x.releaseDate&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(r=x.releaseDate)?void 0:r.message)||"Release date is required")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:"Language"}),(0,t.jsxs)("select",{...d("language"),className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.language?"border-red-400":"border-gray-500"," rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]"),children:[(0,t.jsx)("option",{value:"",children:"Select language"}),[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"zh",name:"Chinese"},{code:"hi",name:"Hindi"},{code:"ar",name:"Arabic"}].map(e=>(0,t.jsx)("option",{value:e.code,children:e.name},e.code))]}),x.language&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(i=x.language)?void 0:i.message)||"Language is required")})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:"Director"}),(0,t.jsx)("input",{type:"text",...d("director"),className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.director?"border-red-400":"border-gray-500"," rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]"),placeholder:"Director name"}),x.director&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(n=x.director)?void 0:n.message)||"Director is required")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:"Trailer URL"}),(0,t.jsx)("input",{type:"url",...d("trailer"),className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.trailer?"border-red-400":"border-gray-500"," rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]"),placeholder:"https://youtube.com/watch?v=..."}),x.trailer&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(c=x.trailer)?void 0:c.message)||"Invalid trailer URL")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"".concat(eM().className," block text-sm text-gray-300 font-medium"),children:["Description ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("textarea",{...d("description"),rows:4,className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(x.description?"border-red-400":"border-gray-500"," rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] resize-none"),placeholder:"Enter movie description..."}),x.description&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String((null==(o=x.description)?void 0:o.message)||"Description is required")})]})]})};var eU=a(73833),e_=a.n(eU),eV=a(39652),eB=a.n(eV);let eG=e=>{let{selectedGenres:s,onGenreChange:a,genreError:l}=e;return(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border ".concat(l?"border-red-400":"border-gray-600"," rounded-lg p-4"),children:[(0,t.jsxs)("h3",{className:"".concat(e_().className," text-lg text-white mb-4"),children:["Genres ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto",children:["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Science Fiction","TV Movie","Thriller","War","Western"].map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-[#2a2a2a] p-2 rounded-md transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:s.includes(e),onChange:()=>a(e),className:"rounded border-gray-400 text-[#e78f03] focus:ring-[#e78f03] focus:ring-2"}),(0,t.jsx)("span",{className:"".concat(eB().className," text-gray-300 text-sm"),children:e})]},e))}),l&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-2",children:l}),(0,t.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:s.map((e,s)=>(0,t.jsx)("span",{className:"bg-[#e78f03] text-black px-2 py-1 rounded-full text-xs font-medium",children:e},s))})]})};var eq=a(74433),eW=a.n(eq),eY=a(22364),eH=a.n(eY);let eJ=e=>{let{cast:s,onCastChange:a,castError:r}=e,[i,n]=(0,l.useState)(s.join(", "));return l.useEffect(()=>{n(s.join(", "))},[s]),(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border ".concat(r?"border-red-400":"border-gray-600"," rounded-lg p-4"),children:[(0,t.jsxs)("h3",{className:"".concat(eW().className," text-lg text-white mb-4"),children:["Cast ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"".concat(eH().className," block text-sm text-gray-300 font-medium"),children:"Cast Members (comma-separated)"}),(0,t.jsx)("textarea",{value:i,onChange:e=>(e=>{n(e),a(e.split(",").map(e=>e.trim()).filter(e=>e))})(e.target.value),rows:6,className:"w-full px-3 py-2 bg-[#2a2a2a] border ".concat(r?"border-red-400":"border-gray-500"," rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] resize-none"),placeholder:"Actor 1, Actor 2, Actor 3..."}),r&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:r})]}),(0,t.jsx)("div",{className:"mt-4 space-y-2 max-h-40 overflow-y-auto",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"bg-[#2a2a2a] border border-gray-500 rounded-md p-2 flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-purple-400"}),(0,t.jsx)("span",{className:"".concat(eH().className," text-gray-300 text-sm"),children:e})]},s))})]})};var eZ=a(62177),eQ=a(90221),eX=a(98386);let eK=e=>{var s,a,r;let{isOpen:i,onClose:c,onSubmit:o,tmdbMovie:d,editingMovie:x}=e,[m,g]=(0,l.useState)(!1),{register:h,handleSubmit:u,formState:{errors:p},setValue:y,watch:b,control:j,reset:v}=(0,eZ.mN)({resolver:(0,eQ.u)(eX.GW),defaultValues:{tmdbId:0,title:"",genre:[],releaseDate:"",duration:0,rating:"",description:"",poster:"",trailer:"",cast:[],director:"",language:"",isActive:!0}}),N=b(),f=async e=>{g(!0);try{o(e)}catch(e){console.error("Error saving movie:",e),alert("Error saving movie. Please try again.")}finally{g(!1)}};return((0,l.useEffect)(()=>{if(d)v({tmdbId:d.tmdbId||0,title:d.title||"",genre:Array.isArray(d.genre)?d.genre:[],releaseDate:d.releaseDate||"",duration:d.duration||120,rating:d.rating||"PG-13",description:d.description||"",poster:d.poster||"",trailer:d.trailer||"",cast:Array.isArray(d.cast)?d.cast:[],director:d.director||"",language:d.language||"en",isActive:!0});else if(x){var e;v({tmdbId:"string"==typeof x.tmdbId?parseInt(x.tmdbId)||0:x.tmdbId||0,title:x.title||"",genre:Array.isArray(x.genre)?x.genre:[],releaseDate:x.releaseDate instanceof Date?x.releaseDate.toISOString().split("T")[0]:x.releaseDate||"",duration:x.duration||120,rating:x.rating||"PG-13",description:x.description||"",poster:x.poster||"",trailer:x.trailer||"",cast:Array.isArray(x.cast)?x.cast:[],director:x.director||"",language:x.language||"en",isActive:null==(e=x.isActive)||e})}},[d,x,v]),i)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-[#0a0a0a] border border-gray-600 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-600 sticky top-0 bg-[#0a0a0a] z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.A,{className:"h-6 w-6 text-[#e78f03]"}),(0,t.jsx)("h2",{className:"".concat(ek().className," text-2xl text-white"),children:x?"Edit Movie":"Add New Movie"})]}),(0,t.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-white p-2 rounded-md transition-colors",disabled:m,children:(0,t.jsx)(eS.A,{size:24})})]}),(0,t.jsxs)("form",{onSubmit:u(f),className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(eE,{poster:N.poster||"",onPosterChange:e=>y("poster",e.target.value),posterError:null==(s=p.poster)?void 0:s.message}),(0,t.jsx)(eI,{formData:N})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(eL,{register:h,errors:p,watchedValues:N})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(eG,{selectedGenres:N.genre||[],onGenreChange:e=>{let s=N.genre||[];y("genre",s.includes(e)?s.filter(s=>s!==e):[...s,e])},genreError:null==(a=p.genre)?void 0:a.message}),(0,t.jsx)(eJ,{cast:N.cast||[],onCastChange:e=>y("cast",e),castError:null==(r=p.cast)?void 0:r.message})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-600",children:[(0,t.jsxs)("button",{type:"submit",disabled:m,className:"bg-[#e78f03] text-black hover:bg-[#d17a02] px-6 py-3 rounded-lg flex items-center gap-2 transition-colors font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[m?(0,t.jsx)(K.A,{size:16,className:"animate-spin"}):(0,t.jsx)(eC.A,{size:16}),x?"Update Movie":"Add Movie"]}),(0,t.jsx)("button",{type:"button",onClick:c,disabled:m,className:"border border-gray-500 text-gray-300 hover:bg-[#2a2a2a] hover:text-white bg-transparent px-6 py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})}):null},e$={BASE:"/admin/movies",FILTER:"/admin/movies/filter",TOGGLE_STATUS:e=>"/admin/movies/".concat(e,"/toggle-status"),BY_ID:e=>"/admin/movies/".concat(e)};var e0=a(77567);let e4=async e=>(await e0.A.post(e$.BASE,e)).data,e2=async()=>(await e0.A.get(e$.BASE)).data,e1=async e=>{let s=new URLSearchParams;return Object.entries(e).forEach(e=>{let[a,t]=e;null!=t&&""!==t&&s.append(a,t.toString())}),(await e0.A.get("".concat(e$.FILTER,"?").concat(s.toString()))).data},e5=async e=>(await e0.A.patch(e$.TOGGLE_STATUS(e))).data,e3=async(e,s)=>(await e0.A.put(e$.BY_ID(e),s)).data,e6=async e=>(await e0.A.delete(e$.BY_ID(e))).data;var e8=a(13568),e7=a(33991),e9=a(59362),se=a(15598),ss=a.n(se),sa=a(25281),st=a.n(sa),sl=a(82178),sr=a(85690),si=a(13717),sn=a(62525),sc=a(92657);let so=e=>{let{movies:s,onEdit:a,onDelete:r,onToggleStatus:i,title:n,emptyMessage:o}=e,[d,x]=(0,l.useState)("grid"),[m,h]=(0,l.useState)(""),[u,p]=(0,l.useState)("all"),[y,b]=(0,l.useState)("title"),j=["all",...Array.from(new Set(null==s?void 0:s.flatMap(e=>e.genre)))],v=null==s?void 0:s.filter(e=>{let s=e.title.toLowerCase().includes(m.toLowerCase())||e.genre.some(e=>e.toLowerCase().includes(m.toLowerCase()))||e.director.toLowerCase().includes(m.toLowerCase()),a="all"===u||e.genre.includes(u);return s&&a}).sort((e,s)=>{switch(y){case"title":return e.title.localeCompare(s.title);case"releaseDate":return new Date(s.releaseDate).getTime()-new Date(e.releaseDate).getTime();case"duration":return s.duration-e.duration;default:return 0}}),N=e=>{switch(e){case"G":return"bg-green-500";case"PG":return"bg-blue-500";case"PG-13":return"bg-yellow-500";case"R":return"bg-orange-500";case"NC-17":return"bg-red-500";default:return"bg-gray-500"}},f=e=>({Action:"bg-red-500/20 text-red-200 border-red-400/50",Comedy:"bg-yellow-500/20 text-yellow-200 border-yellow-400/50",Drama:"bg-purple-500/20 text-purple-200 border-purple-400/50",Horror:"bg-gray-500/20 text-gray-200 border-gray-400/50","Sci-Fi":"bg-blue-500/20 text-blue-200 border-blue-400/50",Romance:"bg-pink-500/20 text-pink-200 border-pink-400/50",Thriller:"bg-orange-500/20 text-orange-200 border-orange-400/50",Crime:"bg-indigo-500/20 text-indigo-200 border-indigo-400/50"})[e]||"bg-gray-500/20 text-gray-200 border-gray-400/50";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Total Movies"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:s.length})]}),(0,t.jsx)(sc.A,{className:"h-8 w-8 text-[#e78f03]"})]})}),(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Active"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-400",children:s.filter(e=>e.isActive).length})]}),(0,t.jsx)(sr.A,{className:"h-8 w-8 text-green-400"})]})}),(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Inactive"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-400",children:s.filter(e=>!e.isActive).length})]}),(0,t.jsx)(sl.A,{className:"h-8 w-8 text-red-400"})]})}),(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Genres"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:j.length-1})]}),(0,t.jsx)(W.A,{className:"h-8 w-8 text-[#e78f03]"})]})})]}),(0,t.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,t.jsx)("h2",{className:"".concat(ss().className," text-2xl font-bold text-white"),children:n})}),(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search movies by title, genre, or director...",value:m,onChange:e=>h(e.target.value),className:"".concat(st().className," w-full pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]")})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(W.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("select",{value:u,onChange:e=>p(e.target.value),className:"w-48 pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] appearance-none",children:j.map(e=>(0,t.jsx)("option",{value:e,className:"bg-[#2a2a2a]",children:"all"===e?"All Genres":e},e))})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"w-40 px-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] appearance-none",children:[(0,t.jsx)("option",{value:"title",children:"Sort by Title"}),(0,t.jsx)("option",{value:"releaseDate",children:"Sort by Date"}),(0,t.jsx)("option",{value:"duration",children:"Sort by Duration"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>x("grid"),className:"p-2 rounded-md border transition-colors ".concat("grid"===d?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:text-white hover:border-[#e78f03]"),children:(0,t.jsx)(Y.A,{size:16})}),(0,t.jsx)("button",{onClick:()=>x("list"),className:"p-2 rounded-md border transition-colors ".concat("list"===d?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:text-white hover:border-[#e78f03]"),children:(0,t.jsx)(H.A,{size:16})})]})]})}),0===v.length?(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-12 text-center",children:[(0,t.jsx)(sc.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"".concat(ss().className," text-xl text-white mb-2"),children:o}),(0,t.jsx)("p",{className:"".concat(st().className," text-gray-400"),children:"Try adjusting your search or filter criteria"})]}):(0,t.jsx)("div",{className:"grid"===d?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:v.map(e=>"grid"===d?(e=>(0,t.jsxs)("div",{className:"group bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300 hover:shadow-2xl hover:shadow-[#e78f03]/20 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-t-lg",children:[(0,t.jsx)("img",{src:e.poster||"/placeholder.svg",alt:e.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,t.jsx)("div",{className:"absolute top-3 left-3",children:(0,t.jsx)("span",{className:"".concat(N(e.rating)," text-white text-xs px-2 py-1 rounded-full font-medium"),children:e.rating})}),(0,t.jsx)("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{className:"h-8 w-8 p-0 bg-blue-500 hover:bg-blue-600 text-white rounded-md flex items-center justify-center transition-colors",onClick:()=>i(e),title:e.isActive?"Deactivate":"Activate",children:e.isActive?(0,t.jsx)(sl.A,{size:14}):(0,t.jsx)(sr.A,{size:14})}),(0,t.jsx)("button",{className:"h-8 w-8 p-0 bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md flex items-center justify-center transition-colors",onClick:()=>a(e),children:(0,t.jsx)(si.A,{size:14})}),(0,t.jsx)("button",{className:"h-8 w-8 p-0 bg-red-500 hover:bg-red-600 text-white rounded-md flex items-center justify-center transition-colors",onClick:()=>r(e),children:(0,t.jsx)(sn.A,{size:14})})]})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"".concat(ss().className," text-lg font-semibold text-white line-clamp-1"),children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(X.A,{size:14,fill:"currentColor"}),(0,t.jsx)("span",{className:"text-sm",children:"4.5"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[e.genre.slice(0,2).map((e,s)=>(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border ".concat(f(e)),children:e},s)),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,t.jsx)(C.A,{size:12}),(0,t.jsxs)("span",{children:[e.duration,"m"]})]})]}),(0,t.jsx)("p",{className:"".concat(st().className," text-gray-300 text-sm mb-4 line-clamp-2"),children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[(0,t.jsx)(c.A,{size:12}),(0,t.jsx)("span",{children:e.director})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,t.jsx)(g.A,{size:12}),(0,t.jsx)("span",{children:new Date(e.releaseDate).getFullYear()})]})]})]})]},e._id))(e):(e=>(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300",children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("img",{src:e.poster||"/placeholder.svg",alt:e.title,className:"w-16 h-24 object-cover rounded-lg"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"".concat(ss().className," text-lg font-semibold text-white"),children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"".concat(N(e.rating)," text-white text-xs px-2 py-1 rounded-full font-medium"),children:e.rating}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(X.A,{size:14,fill:"currentColor"}),(0,t.jsx)("span",{className:"text-sm",children:"4.5"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-2 flex-wrap",children:[e.genre.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border ".concat(f(e)),children:e},s)),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,t.jsx)(C.A,{size:12}),(0,t.jsxs)("span",{children:[e.duration,"m"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,t.jsx)(g.A,{size:12}),(0,t.jsx)("span",{children:new Date(e.releaseDate).getFullYear()})]})]}),(0,t.jsx)("p",{className:"".concat(st().className," text-gray-300 text-sm mb-3 line-clamp-1"),children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"px-3 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>i(e),title:e.isActive?"Deactivate":"Activate",children:e.isActive?(0,t.jsx)(sl.A,{size:14}):(0,t.jsx)(sr.A,{size:14})}),(0,t.jsx)("button",{className:"px-3 py-2 text-sm bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md transition-colors font-medium",onClick:()=>a(e),children:(0,t.jsx)(si.A,{size:14})}),(0,t.jsx)("button",{className:"px-3 py-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors",onClick:()=>r(e),children:(0,t.jsx)(sn.A,{size:14})})]})]})})},e._id))(e))})]})},sd=()=>{let{movies:e,setMovies:s}=L(),[a,r]=(0,l.useState)("current"),[i,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)(null),[m,g]=(0,l.useState)([]),[h,u]=(0,l.useState)(!1),[p,y]=(0,l.useState)({}),[b,j]=(0,l.useState)(!1),[v,N]=(0,l.useState)(1),[f,w]=(0,l.useState)(1),[k,C]=(0,l.useState)(0),[T]=(0,l.useState)(10),z=async()=>{try{u(!0);let e=await e2();s(e.data||[]),b||(g(e.data||[]),C((e.data||[]).length),w(Math.ceil((e.data||[]).length/T)))}catch(e){console.log(e),e8.Ay.error("Failed to load movies")}finally{u(!1)}};(0,l.useEffect)(()=>{z()},[]);let D=(0,l.useCallback)(e=>{N(e),b&&E({...p,page:e,limit:T},!1)},[p,T,b]),E=(0,l.useCallback)(async function(s){var a,t,l;let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(r?(N(1),s={...s,page:1,limit:T}):s={...s,limit:T},JSON.stringify(s)===JSON.stringify(p))return;y(s);let i=Object.entries(s).some(e=>{let[s,a]=e;return"page"!==s&&"limit"!==s&&null!=a&&""!==a});if(j(i),!i){g(e),w(Math.ceil(e.length/T)),C(e.length),N(1);return}try{u(!0);let e=await e1(s);console.log(e),g(e.data||[]),(null==(a=e.meta)?void 0:a.pagination)&&(w(e.meta.pagination.totalPages),C(e.meta.pagination.total),N(e.meta.pagination.currentPage))}catch(e){console.error("Filter error:",e),e instanceof e9.pe&&(e8.Ay.error((null==(l=e.response)||null==(t=l.data)?void 0:t.message)||"Filter failed"),g([]),w(1),C(0))}finally{u(!1)}},[p,e,T,b]),R=async e=>{try{let a=await e4(e);e8.Ay.success("Movie added successfully!"),a.data&&s(e=>[...e,a.data]),n(!1),o(null),b?E(p,!1):z()}catch(e){e&&e8.Ay.error("Movie already exists!"),console.error(e)}},P=async e=>{if(d)try{await e3(d._id,e),e8.Ay.success("Movie updated successfully!"),s(s=>s.map(s=>{if(s._id===d._id)return{...s,...e,updatedAt:new Date}})),n(!1),x(null),b&&E(p,!1)}catch(e){var a,t;e8.Ay.error((null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to update movie"),console.error(e)}},I=e=>{x(e),n(!0),o(null)},O=async e=>{if(await (0,e7.f)({title:"Delete Movie?",message:'Are you sure you want to delete "'.concat(e.title,'"?'),confirmText:"Delete",cancelText:"Cancel"}))try{await e6(e._id),e8.Ay.success("Movie deleted successfully!"),b?E(p,!1):z()}catch(e){var s,a;console.error(e),e8.Ay.error((null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Failed to delete movie")}},M=async e=>{try{let s=e.isActive?"disable":"activate",a=s[0].toUpperCase()+s.slice(1);if(!await (0,e7.f)({title:"".concat(a," Movie?"),message:"Are you sure you want to ".concat(s,' "').concat(e.title,'"?'),confirmText:a,cancelText:"Cancel"}))return;(await e5(e._id)).success?(e8.Ay.success("Movie ".concat(s,"d successfully!")),b?E(p,!1):z()):e8.Ay.error("Failed to ".concat(s," movie."))}catch(e){console.error(e),e8.Ay.error("Something went wrong")}},U=()=>{let e="current"===a?m.filter(e=>e.isActive):m.filter(e=>!e.isActive);if(!b){let s=(v-1)*T,a=s+T;return e.slice(s,a)}return e},_=e.filter(e=>e.isActive),V=e.filter(e=>!e.isActive);return(0,t.jsx)(l.Fragment,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"".concat(A().className," text-3xl font-bold text-white mb-2"),children:"Movies Management"}),(0,t.jsx)("p",{className:"".concat(S().className," text-gray-300"),children:"Manage your movie collection and track performance"})]})}),(0,t.jsx)(F,{activeView:a,setActiveView:r,currentCount:_.length,expiredCount:V.length}),"current"===a&&(0,t.jsx)(so,{movies:U(),allMovies:e,onEdit:I,onDelete:O,onToggleStatus:M,onFiltersChange:E,isLoading:h,currentFilters:p,title:"Current Movies",emptyMessage:"No active movies found",currentPage:v,totalPages:f,totalItems:k,onPageChange:D}),"expired"===a&&(0,t.jsx)(so,{movies:U(),allMovies:e,onEdit:I,onDelete:O,onToggleStatus:M,onFiltersChange:E,isLoading:h,currentFilters:p,title:"Inactive Movies",emptyMessage:"No inactive movies found",currentPage:v,totalPages:f,totalItems:k,onPageChange:D}),"tmdb"===a&&(0,t.jsx)(ew,{onAddMovie:e=>{o(e),n(!0)}}),i&&(0,t.jsx)(eK,{isOpen:i,onClose:()=>{n(!1),o(null),x(null)},onSubmit:d?P:R,tmdbMovie:c,editingMovie:d})]})})},sx={BASE:"/admin/owners",REQUESTS:"/admin/owners/requests",COUNTS:"/admin/owners/counts",ACCEPT_REQUEST:e=>"/admin/owners/requests/".concat(e,"/accept"),REJECT_REQUEST:e=>"/admin/owners/requests/".concat(e,"/reject"),TOGGLE_STATUS:e=>"/admin/owners/".concat(e,"/toggle-status")},sm=e=>{let s=new URLSearchParams;return Object.entries(e).forEach(e=>{let[a,t]=e;void 0!==t&&""!==t&&null!==t&&s.append(a,t.toString())}),s.toString()},sg=async e=>{let s=sm(e);return(await e0.A.get("".concat(sx.BASE,"?").concat(s))).data},sh=async e=>{let s=sm(e);return(await e0.A.get("".concat(sx.REQUESTS,"?").concat(s))).data},su=async()=>(await e0.A.get(sx.COUNTS)).data,sp=async e=>(await e0.A.patch(sx.ACCEPT_REQUEST(e))).data,sy=async(e,s)=>(await e0.A.patch(sx.REJECT_REQUEST(e),s)).data,sb=async e=>(await e0.A.patch(sx.TOGGLE_STATUS(e))).data;var sj=a(68417),sv=a.n(sj),sN=a(85213),sf=a(6877),sw=a(94558),sA=a.n(sw),sk=a(28883),sS=a(19420),sC=a(40646),sT=a(54861),sz=a(75525),sF=a(48136),sD=a(81586),sE=a(27414),sR=a(57434),sP=a(33786);let sI={BASE:"/admin/theaters",VERIFY:e=>"/admin/theaters/verify/".concat(e),REJECT:e=>"/admin/theaters/reject/".concat(e),TOGGLE_STATUS:e=>"/admin/theaters/".concat(e)};async function sO(e){return(await e0.A.patch(sI.VERIFY(e))).data}async function sM(e){return(await e0.A.patch(sI.REJECT(e))).data}let sL=async e=>(await e0.A.patch(sI.TOGGLE_STATUS(e))).data,sU=async(e,s)=>{try{return console.log(e),(await e0.A.get(sI.BASE,{params:{ownerId:e,...s}})).data}catch(e){throw console.error("Error fetching theaters:",e),e}},s_=e=>{let{owner:s,actions:a,setViewThaeter:r}=e,[i,n]=(0,l.useState)(!1),c=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[x,m]=(0,l.useState)([]);async function h(){let e=await sU(s._id);m(e.data.theaters),console.log(e.data)}return(0,l.useEffect)(()=>{h()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-700/50 hover:border-yellow-500/30 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[s.ownerPhotoUrl?(0,t.jsx)("img",{src:s.ownerPhotoUrl,alt:s.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-yellow-500/30 shadow-lg"}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700/50 flex items-center justify-center border-2 border-yellow-500/30 shadow-lg",children:(0,t.jsx)(o.A,{className:"text-gray-400",size:24})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"".concat(sA().className," text-xl font-medium text-white mb-2"),children:s.ownerName}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 text-sm text-gray-300",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sk.A,{size:14,className:"text-gray-400"}),s.email]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sS.A,{size:14,className:"text-gray-400"}),s.phone]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-medium ".concat(s.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:[s.isActive?(0,t.jsx)(sC.A,{size:12}):(0,t.jsx)(sT.A,{size:12}),s.isActive?"Active":"Blocked"]}),s.isVerified&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-medium bg-blue-500/20 text-blue-400 border border-blue-500/30",children:[(0,t.jsx)(sz.A,{size:12}),"Verified"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(g.A,{size:14,className:"text-yellow-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Joined"})]}),(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:c(s.createdAt)})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(sC.A,{size:14,className:"text-green-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Approved"})]}),(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:c(s.approvedAt)})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(sF.A,{size:14,className:"text-blue-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Theatres"})]}),(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:s.theatres.length})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(C.A,{size:14,className:"text-purple-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Last Login"})]}),(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:s.lastLogin?c(s.lastLogin):"Never"})]})]}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 text-yellow-400 hover:text-yellow-300 text-sm font-medium transition-colors",children:[(0,t.jsx)(sc.A,{size:14}),"View Full Details"]}),(0,t.jsxs)("button",{onClick:()=>{r(s.id)},className:"flex items-center gap-2 text-yellow-400 hover:text-yellow-300 text-sm font-medium transition-colors",children:[(0,t.jsx)(sF.A,{size:14}),"View Theaters"]})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-2 ml-6",children:a.map((e,a)=>{let l=e.icon;return(0,t.jsx)("button",{onClick:()=>e.onClick(s),className:"p-3 rounded-lg transition-all duration-200 flex items-center justify-center ".concat(e.className),title:e.label,children:(0,t.jsx)(l,{size:16})},a)})})]})}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-5xl max-h-[90vh] overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[s.ownerPhotoUrl?(0,t.jsx)("img",{src:s.ownerPhotoUrl,alt:s.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-yellow-500/30 shadow-lg"}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700/50 flex items-center justify-center border-2 border-yellow-500/30",children:(0,t.jsx)(o.A,{className:"text-gray-400",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(sA().className," text-2xl text-yellow-400 font-medium"),children:s.ownerName}),(0,t.jsx)("p",{className:"text-gray-300",children:s.email}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(s.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:s.isActive?"Active":"Blocked"}),s.isVerified&&(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500/20 text-blue-400",children:"Verified"})]})]})]}),(0,t.jsx)("button",{onClick:()=>n(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,t.jsx)(eS.A,{size:24})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(s.isActive?"bg-green-500/20":"bg-red-500/20"),children:(0,t.jsx)(sC.A,{className:s.isActive?"text-green-400":"text-red-400",size:16})}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Status"})]}),(0,t.jsx)("p",{className:"font-medium ".concat(s.isActive?"text-green-400":"text-red-400"),children:s.isActive?"Active Account":"Blocked Account"})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(s.isVerified?"bg-blue-500/20":"bg-red-500/20"),children:(0,t.jsx)(sz.A,{className:s.isVerified?"text-blue-400":"text-red-400",size:16})}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Verification"})]}),(0,t.jsx)("p",{className:"font-medium ".concat(s.isVerified?"text-blue-400":"text-red-400"),children:s.isVerified?"Verified Owner":"Not Verified"})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(sF.A,{className:"text-yellow-400",size:16})}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Theatres"})]}),(0,t.jsx)("p",{className:"text-white font-medium text-lg",children:s.theatres.length})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(sD.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h4",{className:"".concat(sA().className," text-white text-lg font-medium"),children:"KYC Information"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Aadhaar Number"}),(0,t.jsxs)("p",{className:"text-white font-medium",children:["****",s.aadhaar.slice(-4)]})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"PAN Number"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.pan})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(sE.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h4",{className:"".concat(sA().className," text-white text-lg font-medium"),children:"Bank Details"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Holder"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.accountHolder||"Not provided"})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Bank Name"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.bankName||"Not provided"})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Number"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.accountNumber?"****".concat(s.accountNumber.slice(-4)):"Not provided"})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"IFSC Code"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.ifsc||"Not provided"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(sR.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h4",{className:"".concat(sA().className," text-white text-lg font-medium"),children:"KYC Documents"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("a",{href:s.aadhaarUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700/30 p-4 rounded-lg border border-yellow-500/20 hover:border-blue-500/50 transition-all duration-200 group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:(0,t.jsx)(sR.A,{size:20,className:"text-blue-400 group-hover:text-blue-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium block",children:"Aadhaar Card"}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:["View document ",(0,t.jsx)(sP.A,{size:12})]})]})]})}),(0,t.jsx)("a",{href:s.panUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700/30 p-4 rounded-lg border border-yellow-500/20 hover:border-green-500/50 transition-all duration-200 group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-green-500/20 p-2 rounded-lg",children:(0,t.jsx)(sR.A,{size:20,className:"text-green-400 group-hover:text-green-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium block",children:"PAN Card"}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:["View document ",(0,t.jsx)(sP.A,{size:12})]})]})]})}),(0,t.jsx)("a",{href:s.ownerPhotoUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700/30 p-4 rounded-lg border border-yellow-500/20 hover:border-purple-500/50 transition-all duration-200 group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-purple-500/20 p-2 rounded-lg",children:(0,t.jsx)(o.A,{size:20,className:"text-purple-400 group-hover:text-purple-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium block",children:"Owner Photo"}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:["View photo ",(0,t.jsx)(sP.A,{size:12})]})]})]})})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(C.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h4",{className:"".concat(sA().className," text-white text-lg font-medium"),children:"Activity Timeline"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Registration Date"}),(0,t.jsx)("p",{className:"text-white font-medium",children:d(s.createdAt)})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Approval Date"}),(0,t.jsx)("p",{className:"text-white font-medium",children:d(s.approvedAt)})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Last Login"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.lastLogin?d(s.lastLogin):"Never logged in"})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Profile Updated"}),(0,t.jsx)("p",{className:"text-white font-medium",children:d(s.updatedAt)})]})]})]})]})}),(0,t.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>n(!1),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-6 py-2 font-medium rounded-lg transition-all duration-200",children:"Close"})})]})})]})},sV=e=>{let{owners:s,isLoading:a,currentFilters:l,currentPage:r,totalPages:i,totalItems:n,onPageChange:c,ownerSearchValue:d,onFiltersChange:x,onViewDetails:m,onToggleStatus:g,setViewThaeter:h}=e,u=e=>{x({...l,search:e})};return(0,t.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(sv().className," text-lg text-yellow-400 font-medium"),children:"Search & Filters"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search active owners by name, email...",value:d||"",onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:"".concat(l.sortBy||"ownerName","-").concat(l.sortOrder||"asc"),onChange:e=>{let[s,a]=e.target.value.split("-");x({...l,sortBy:s,sortOrder:a})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[200px] cursor-pointer hover:bg-gray-700/50",children:[(0,t.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"}),(0,t.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,t.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,t.jsx)("option",{value:"approvedAt-desc",children:"Recently Approved"}),(0,t.jsx)("option",{value:"approvedAt-asc",children:"Oldest Approved"}),(0,t.jsx)("option",{value:"lastLogin-desc",children:"Recently Active"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,t.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:n}),(0,t.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"active owners"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(o.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(sv().className," text-lg text-yellow-400 font-medium"),children:"Owners List"})]}),(0,t.jsx)("div",{className:"space-y-4",children:a?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading active owners..."})]}):s.length>0?s.map(e=>(0,t.jsx)("div",{className:"transition-all duration-200 hover:scale-[1.01]",children:(0,t.jsx)(s_,{setViewThaeter:h,owner:e,actions:[{label:"Block Owner",icon:sf.A,onClick:g,className:"bg-red-500 hover:bg-red-400 text-white px-4 py-2 rounded-lg transition-all duration-200"}]})},e._id)):(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,t.jsx)("div",{className:"bg-yellow-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(o.A,{size:32,className:"text-yellow-400"})}),(0,t.jsx)("h3",{className:"".concat(sv().className," text-xl text-white mb-2"),children:"No active owners found"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"No owners match your current search criteria. Try adjusting your search terms or filters."}),(0,t.jsx)("button",{onClick:()=>u(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),i>1&&(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:r})," of"," ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:i})," (",n," total)"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>c(r-1),disabled:1===r,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(eo.A,{size:16})}),(0,t.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(i,5))].map((e,s)=>{let a=s+1;if(i>5&&(a=Math.max(1,r-2)+s)>i)return null;let l=a===r;return(0,t.jsx)("button",{onClick:()=>c(a),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 ".concat(l?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"),children:a},a)})}),(0,t.jsx)("button",{onClick:()=>c(r+1),disabled:r===i,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(ed.A,{size:16})})]})]})})]})})};var sB=a(14690),sG=a.n(sB),sq=a(85339),sW=a(55670),sY=a(913),sH=a.n(sY);let sJ=e=>{let{request:s,actions:a,showProcessedInfo:r=!1,showRejectionReason:i=!1}=e,[n,c]=(0,l.useState)(!1),d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return console.log(s),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-6 hover:border-gray-500 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[s.ownerPhotoUrl?(0,t.jsx)("img",{src:s.ownerPhotoUrl,alt:s.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600"}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#2a2a2a] flex items-center justify-center border-2 border-gray-600",children:(0,t.jsx)(o.A,{className:"text-gray-400",size:24})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"".concat(sH().className," text-xl font-semibold text-white mb-1"),children:s.ownerName}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sk.A,{size:14}),s.email]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sS.A,{size:14}),s.phone]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat("pending"===s.status?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/50":"approved"===s.status?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-red-500/20 text-red-400 border border-red-500/50"),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),s.emailVerified&&(0,t.jsxs)("span",{className:"inline-block px-2 py-1 rounded-full text-xs bg-green-500/20 text-green-400 border border-green-500/50",children:[(0,t.jsx)(sC.A,{size:12,className:"inline mr-1"}),"Email Verified"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(g.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Submitted"})]}),(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:new Date(s.submittedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(sD.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"PAN"})]}),(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:s.pan})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(sR.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Documents"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-1 py-0.5 rounded text-xs",children:"ID"}),(0,t.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-1 py-0.5 rounded text-xs",children:"PAN"}),s.ownerPhotoUrl&&(0,t.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-1 py-0.5 rounded text-xs",children:"Photo"})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(sz.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Status"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[s.emailVerified?(0,t.jsx)(sC.A,{size:14,className:"text-green-400"}):(0,t.jsx)(sT.A,{size:14,className:"text-red-400"}),(0,t.jsx)("span",{className:"text-xs ".concat(s.emailVerified?"text-green-400":"text-red-400"),children:s.emailVerified?"Verified":"Pending"})]})]})]}),i&&s.rejectionReason&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 p-3 rounded-lg mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(sT.A,{size:14,className:"text-red-400"}),(0,t.jsx)("span",{className:"text-red-400 font-medium text-sm",children:"Rejection Reason:"})]}),(0,t.jsx)("p",{className:"text-red-300 text-sm",children:s.rejectionReason})]}),(0,t.jsx)("button",{onClick:()=>c(!0),className:"text-[#e78f03] hover:text-orange-400 text-sm font-medium transition-colors",children:"View Full Details"})]}),(0,t.jsx)("div",{className:"flex flex-col gap-2 ml-6",children:a.map((e,a)=>{let l=e.icon;return(0,t.jsx)("button",{onClick:()=>e.onClick(s),className:"p-3 rounded-lg text-white transition-colors ".concat(e.className," flex items-center justify-center"),title:e.label,children:(0,t.jsx)(l,{size:16})},a)})})]})}),n&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[s.ownerPhotoUrl?(0,t.jsx)("img",{src:s.ownerPhotoUrl,alt:s.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600"}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#2a2a2a] flex items-center justify-center border-2 border-gray-600",children:(0,t.jsx)(o.A,{className:"text-gray-400",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(sH().className," text-2xl font-bold text-white"),children:s.ownerName}),(0,t.jsx)("p",{className:"text-gray-400",children:s.email}),(0,t.jsx)("div",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium mt-1 ".concat("pending"===s.status?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/50":"approved"===s.status?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-red-500/20 text-red-400 border border-red-500/50"),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})]}),(0,t.jsx)("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(eS.A,{className:"text-gray-400",size:20})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sC.A,{className:"approved"===s.status?"text-green-400":"pending"===s.status?"text-yellow-400":"text-red-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Request Status"})]}),(0,t.jsx)("p",{className:"font-medium ".concat("approved"===s.status?"text-green-400":"pending"===s.status?"text-yellow-400":"text-red-400"),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sz.A,{className:s.emailVerified?"text-green-400":"text-red-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Email Verification"})]}),(0,t.jsx)("p",{className:"font-medium ".concat(s.emailVerified?"text-green-400":"text-red-400"),children:s.emailVerified?"Verified":"Not Verified"})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(C.A,{className:"text-blue-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"OTP Code"})]}),(0,t.jsx)("p",{className:"text-white font-medium font-mono text-lg",children:s.otp})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"".concat(sH().className," text-white text-lg font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(sS.A,{size:20}),"Contact Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Owner Name:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.ownerName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Email Address:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Phone Number:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Email Status:"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s.emailVerified?(0,t.jsx)(sC.A,{size:16,className:"text-green-400"}):(0,t.jsx)(sT.A,{size:16,className:"text-red-400"}),(0,t.jsx)("p",{className:"font-medium ".concat(s.emailVerified?"text-green-400":"text-red-400"),children:s.emailVerified?"Verified":"Not Verified"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"".concat(sH().className," text-white text-lg font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(sD.A,{size:20}),"KYC Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Aadhaar Number:"}),(0,t.jsx)("p",{className:"text-white font-medium font-mono",children:s.aadhaar})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"PAN Number:"}),(0,t.jsx)("p",{className:"text-white font-medium font-mono",children:s.pan})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Request ID:"}),(0,t.jsx)("p",{className:"text-white font-medium text-sm font-mono",children:s._id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"OTP Code:"}),(0,t.jsx)("p",{className:"text-white font-medium font-mono",children:s.otp})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"".concat(sH().className," text-white text-lg font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(sF.A,{size:20}),"Bank Details"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Account Holder:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.accountHolder||"Not provided"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Bank Name:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.bankName||"Not provided"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Account Number:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.accountNumber||"Not provided"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"IFSC Code:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.ifsc||"Not provided"})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"".concat(sH().className," text-white text-lg font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(sR.A,{size:20}),"KYC Documents"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("a",{href:s.aadhaarUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 hover:border-blue-400 transition-colors group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sR.A,{size:20,className:"text-blue-400 group-hover:text-blue-300"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Aadhaar Card"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to view document"})]})]})}),(0,t.jsx)("a",{href:s.panUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 hover:border-green-400 transition-colors group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sR.A,{size:20,className:"text-green-400 group-hover:text-green-300"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"PAN Card"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to view document"})]})]})}),s.ownerPhotoUrl?(0,t.jsx)("a",{href:s.ownerPhotoUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 hover:border-purple-400 transition-colors group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.A,{size:20,className:"text-purple-400 group-hover:text-purple-300"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Owner Photo"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to view photo"})]})]})}):(0,t.jsx)("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 opacity-50",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.A,{size:20,className:"text-gray-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 font-medium",children:"Owner Photo"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Not provided"})]})]})})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"".concat(sH().className," text-white text-lg font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(sz.A,{size:20}),"Verification & Agreement Status"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#1a1a1a] rounded-lg",children:[s.emailVerified?(0,t.jsx)(sC.A,{className:"text-green-400",size:16}):(0,t.jsx)(sT.A,{className:"text-red-400",size:16}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:["Email ",s.emailVerified?"Verified":"Not Verified"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#1a1a1a] rounded-lg",children:[s.declaration?(0,t.jsx)(sC.A,{className:"text-green-400",size:16}):(0,t.jsx)(sT.A,{className:"text-red-400",size:16}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Declaration Accepted"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#1a1a1a] rounded-lg",children:[s.agree?(0,t.jsx)(sC.A,{className:"text-green-400",size:16}):(0,t.jsx)(sT.A,{className:"text-red-400",size:16}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Terms Agreed"})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"".concat(sH().className," text-white text-lg font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(C.A,{size:20}),"Request Information"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Request Submitted:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:d(s.submittedAt)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Created Date:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:d(s.createdAt)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Last Updated:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:d(s.updatedAt)})]}),s.reviewedAt&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Reviewed At:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:d(s.reviewedAt)})]})]}),s.reviewedBy&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Reviewed By (Admin ID):"}),(0,t.jsx)("p",{className:"text-white font-medium text-sm font-mono",children:s.reviewedBy})]}),s.rejectionReason&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 p-3 rounded-lg",children:[(0,t.jsx)("span",{className:"text-red-400 font-medium",children:"Rejection Reason:"}),(0,t.jsx)("p",{className:"text-red-300 mt-1",children:s.rejectionReason})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"".concat(sH().className," text-white text-lg font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(sz.A,{size:20}),"System Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Request ID:"}),(0,t.jsx)("span",{className:"text-white font-mono text-sm break-all",children:s._id})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"OTP Code:"}),(0,t.jsx)("span",{className:"text-white font-mono text-sm",children:s.otp})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Current Status:"}),(0,t.jsx)("span",{className:"font-medium ".concat("approved"===s.status?"text-green-400":"pending"===s.status?"text-yellow-400":"text-red-400"),children:s.status.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Email Verified:"}),(0,t.jsx)("span",{className:"font-medium ".concat(s.emailVerified?"text-green-400":"text-red-400"),children:s.emailVerified?"YES":"NO"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Declaration:"}),(0,t.jsx)("span",{className:"font-medium ".concat(s.declaration?"text-green-400":"text-red-400"),children:s.declaration?"ACCEPTED":"NOT ACCEPTED"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Terms Agreement:"}),(0,t.jsx)("span",{className:"font-medium ".concat(s.agree?"text-green-400":"text-red-400"),children:s.agree?"AGREED":"NOT AGREED"})]})]})]})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-600 flex justify-between items-center",children:[(0,t.jsx)("button",{onClick:()=>c(!1),className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors",children:"Close"}),(0,t.jsx)("div",{className:"flex gap-3",children:a.map((e,a)=>{let l=e.icon;return(0,t.jsxs)("button",{onClick:()=>{c(!1),e.onClick(s)},className:"px-4 py-2 rounded-lg text-white transition-colors flex items-center gap-2 ".concat(e.className),children:[(0,t.jsx)(l,{size:16}),e.label]},a)})})]})]})})]})};var sZ=a(65342);let sQ=e=>{let{requests:s,isLoading:a,currentFilters:r,currentPage:i,totalPages:n,totalItems:c,onPageChange:o,onFiltersChange:d,onViewDetails:x,onAcceptRequest:m,onRejectRequest:g}=e,[h,u]=(0,l.useState)(!1),[p,y]=(0,l.useState)(null),[b,j]=(0,l.useState)(""),v=(0,sZ.d)(e=>{d({...r,search:e})},500),N=e=>{v(e)},f=e=>{y(e),j(""),u(!0)};return(0,t.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[c>0&&(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(C.A,{className:"text-blue-400",size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-blue-400 font-medium",children:"Pending Requests"}),(0,t.jsxs)("p",{className:"text-blue-300 text-sm",children:[c," request",c>1?"s":""," awaiting your review and approval."]})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(sG().className," text-lg text-yellow-400 font-medium"),children:"Search & Filters"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search pending requests by name, email...",value:r.search||"",onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:"".concat(r.sortBy||"submittedAt","-").concat(r.sortOrder||"desc"),onChange:e=>{let[s,a]=e.target.value.split("-");d({...r,sortBy:s,sortOrder:a})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[200px] cursor-pointer hover:bg-gray-700/50",children:[(0,t.jsx)("option",{value:"submittedAt-desc",children:"Newest First"}),(0,t.jsx)("option",{value:"submittedAt-asc",children:"Oldest First"}),(0,t.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"}),(0,t.jsx)("option",{value:"reviewedAt-desc",children:"Recently Reviewed"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,t.jsx)("span",{className:"text-blue-400 font-medium text-sm",children:c}),(0,t.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"pending requests"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(sW.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(sG().className," text-lg text-yellow-400 font-medium"),children:"Pending Requests"})]}),(0,t.jsx)("div",{className:"space-y-4",children:a?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading pending requests..."})]}):s.length>0?s.map(e=>(0,t.jsx)("div",{className:"transition-all duration-200 hover:scale-[1.01]",children:(0,t.jsx)(sJ,{request:e,actions:[{label:"View Details",icon:sc.A,onClick:x,className:"bg-blue-500 hover:bg-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-200"},{label:"Accept",icon:sC.A,onClick:m,className:"bg-green-500 hover:bg-green-400 text-white px-4 py-2 rounded-lg transition-all duration-200"},{label:"Reject",icon:sT.A,onClick:f,className:"bg-red-500 hover:bg-red-400 text-white px-4 py-2 rounded-lg transition-all duration-200"}]})},e._id)):(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,t.jsx)("div",{className:"bg-green-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(sW.A,{size:32,className:"text-green-400"})}),(0,t.jsx)("h3",{className:"".concat(sG().className," text-xl text-white mb-2"),children:"All Requests Processed"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Great! All owner requests have been reviewed and processed."}),(0,t.jsx)("button",{onClick:()=>N(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),n>1&&(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:i})," of"," ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:n})," (",c," total)"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>o(i-1),disabled:1===i,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(eo.A,{size:16})}),(0,t.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(n,5))].map((e,s)=>{let a=s+1;if(n>5&&(a=Math.max(1,i-2)+s)>n)return null;let l=a===i;return(0,t.jsx)("button",{onClick:()=>o(a),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 ".concat(l?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"),children:a},a)})}),(0,t.jsx)("button",{onClick:()=>o(i+1),disabled:i===n,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(ed.A,{size:16})})]})]})}),h&&p?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:(0,t.jsxs)("div",{className:"bg-gray-900/95 border border-red-500/30 rounded-lg w-full max-w-md shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(sq.A,{className:"text-red-400 mt-0.5",size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-red-400 font-medium text-sm",children:"Warning: This action cannot be undone"}),(0,t.jsxs)("p",{className:"text-red-300/80 text-sm mt-1",children:["Are you sure you want to reject ",(0,t.jsx)("span",{className:"font-semibold text-white",children:p.ownerName}),"'s request?"]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Rejection Reason ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("textarea",{className:"w-full p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500/20 resize-none transition-all duration-200",placeholder:"Please provide a detailed reason for rejection...",value:b,rows:4,onChange:e=>j(e.target.value)}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"This reason will be sent to the applicant via email."})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-red-500/20 bg-gray-800/30 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>{u(!1),y(null),j("")},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-all duration-200 font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!b.trim())return void e8.Ay.error("Please provide a rejection reason.");p&&(g(p,b.trim()),u(!1),y(null),j(""))},className:"bg-red-500 hover:bg-red-400 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Reject Request"})]})]})}):null]})})};var sX=a(67993),sK=a.n(sX),s$=a(19892),s0=a.n(s$),s4=a(40133),s2=a(4516),s1=a(44957),s5=a.n(s1),s3=a(99808),s6=a.n(s3),s8=a(76517),s7=a(57930),s9=a(67312),ae=a(84355),as=a(35742),aa=a(90232),at=a(27265);let al=(0,a(55028).default)(()=>Promise.all([a.e(9484),a.e(1761),a.e(683)]).then(a.bind(a,70683)),{loadableGenerated:{webpack:()=>[70683]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"w-full h-64 bg-gray-800/50 border border-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(K.A,{className:"w-6 h-6 animate-spin text-yellow-400"})})}),ar=e=>{var s,a,l,r;let{theater:i,isOpen:n,onClose:c,onStatusToggle:d,onVerifyTheater:x,onRejectTheater:m}=e;if(!n||!i)return null;let h=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=async()=>{let e=i.isActive,s=e?"disable":"enable",a=e?"Disable":"Enable";if(await (0,e7.f)({title:"".concat(a," Theater?"),message:"Are you sure you want to ".concat(s,' "').concat(i.name,'"?'),confirmText:a,cancelText:"Cancel"}))try{d&&(await sL(i._id),e8.Ay.success("Theater ".concat(s,"d successfully!")),d())}catch(e){e instanceof e9.pe&&e8.Ay.error(e.message||"Failed to ".concat(s," theater"))}},p=async()=>{if(await (0,e7.f)({title:"Verify Theater?",message:'Are you sure you want to verify "'.concat(i.name,'"? This action cannot be undone and will allow the theater to operate fully.'),confirmText:"Verify",cancelText:"Cancel"}))try{x&&(await sO(i._id),e8.Ay.success("Theater verified successfully!"),x())}catch(e){e instanceof e9.pe&&e8.Ay.error(e.message||"Failed to verify theater")}},y=async()=>{if(await (0,e7.f)({title:"Reject Theater?",message:'Are you sure you want to reject "'.concat(i.name,'"?'),confirmText:"Reject",cancelText:"Cancel"}))try{m&&(await sM(i._id),e8.Ay.success("Theater rejected successfully!"),m())}catch(e){e instanceof e9.pe&&e8.Ay.error(e.message||"Failed to reject theater")}},b=null==(a=i.location)||null==(s=a.coordinates)?void 0:s[1],j=null==(r=i.location)||null==(l=r.coordinates)?void 0:l[0];return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity",onClick:c}),(0,t.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative w-full max-w-5xl bg-gray-900/95 border border-yellow-500/30 rounded-lg shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(sF.A,{className:"text-yellow-400",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(s5().className," text-2xl text-yellow-400 font-medium"),children:i.name}),(0,t.jsx)("p",{className:"".concat(s6().className," text-gray-300"),children:"Theater Details & Management"})]})]}),(0,t.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,t.jsx)(eS.A,{size:24})})]}),(0,t.jsx)("div",{className:"max-h-[75vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[i.isActive?(0,t.jsx)("div",{className:"bg-green-500/20 p-2 rounded-lg",children:(0,t.jsx)(sC.A,{className:"text-green-400",size:20})}):(0,t.jsx)("div",{className:"bg-red-500/20 p-2 rounded-lg",children:(0,t.jsx)(sT.A,{className:"text-red-400",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Status"}),(0,t.jsx)("p",{className:"font-medium ".concat(i.isActive?"text-green-400":"text-red-400"),children:i.isActive?"Active":"Inactive"})]})]})}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[i.isVerified?(0,t.jsx)("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:(0,t.jsx)(sC.A,{className:"text-blue-400",size:20})}):(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(C.A,{className:"text-yellow-400",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Verification"}),(0,t.jsx)("p",{className:"font-medium ".concat(i.isVerified?"text-blue-400":"text-yellow-400"),children:i.isVerified?"Verified":"Pending"})]})]})}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(sF.A,{className:"text-yellow-400",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Screens"}),(0,t.jsxs)("p",{className:"font-medium text-white",children:[i.screens," ",1===i.screens?"Screen":"Screens"]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(s2.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(s5().className," text-lg text-yellow-400 font-medium"),children:"Basic Information"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(s2.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Address"}),(0,t.jsx)("p",{className:"".concat(s6().className," text-white font-medium"),children:i.address}),(0,t.jsxs)("p",{className:"".concat(s6().className," text-gray-300"),children:[i.city,", ",i.state," - ",i.pincode]})]})]})}),(0,t.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(sS.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Contact Number"}),(0,t.jsx)("p",{className:"".concat(s6().className," text-white font-medium"),children:i.phone})]})]})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Created"}),(0,t.jsx)("p",{className:"".concat(s6().className," text-white font-medium"),children:h(i.createdAt)})]})]})}),(0,t.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(C.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Last Updated"}),(0,t.jsx)("p",{className:"".concat(s6().className," text-white font-medium"),children:h(i.updatedAt)})]})]})})]})]}),b&&j&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(as.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Location on Map"})]}),(0,t.jsx)("button",{onClick:()=>{let e="https://www.google.com/maps?q=".concat(b,",").concat(j);window.open(e,"_blank")},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-3 py-1 rounded-lg text-xs font-medium transition-all duration-200",children:"View on Google Maps"})]}),(0,t.jsx)("div",{className:"border border-yellow-500/20 rounded-lg overflow-hidden",children:(0,t.jsx)(al,{readOnly:!0,initialPosition:[b,j]})})]})]}),"object"==typeof i.ownerId&&i.ownerId&&(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(o.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(s5().className," text-lg text-yellow-400 font-medium"),children:"Owner Information"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.A,{className:"text-gray-400",size:16}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Owner Name"}),(0,t.jsx)("p",{className:"".concat(s6().className," text-white font-medium"),children:i.ownerId.ownerName})]})]})}),(0,t.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sk.A,{className:"text-gray-400",size:16}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Owner Email"}),(0,t.jsx)("p",{className:"".concat(s6().className," text-white font-medium"),children:i.ownerId.email})]})]})})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(X.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(s5().className," text-lg text-yellow-400 font-medium"),children:"Facilities & Amenities"})]}),i.facilities&&i.facilities.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:i.facilities.map((e,s)=>{let a=(e=>{let s=e.toLowerCase();return s.includes("wifi")||s.includes("internet")?s8.A:s.includes("parking")?s7.A:s.includes("cafe")||s.includes("food")?s9.A:s.includes("security")?sz.A:s.includes("cctv")||s.includes("camera")?ae.A:X.A})(e);return(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-700/30 rounded-lg border border-yellow-500/10 hover:border-yellow-500/20 transition-all duration-200",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-1.5 rounded",children:(0,t.jsx)(a,{className:"text-yellow-400 flex-shrink-0",size:14})}),(0,t.jsx)("span",{className:"".concat(s6().className," text-gray-300"),children:e})]},s)})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"bg-gray-700/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(sF.A,{className:"text-gray-400",size:24})}),(0,t.jsx)("p",{className:"text-gray-400",children:"No facilities information available"})]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-yellow-500/20 bg-gray-800/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[!i.isVerified&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:p,className:"flex items-center gap-2 bg-green-500 hover:bg-green-400 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:[(0,t.jsx)(aa.A,{size:16}),"Verify Theater"]}),(0,t.jsxs)("button",{onClick:y,className:"flex items-center gap-2 bg-red-500 hover:bg-red-400 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:[(0,t.jsx)(sT.A,{size:16}),"Reject Theater"]})]}),i.isVerified&&(0,t.jsxs)("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 font-medium ".concat(i.isActive?"bg-red-500 hover:bg-red-400 text-white":"bg-green-500 hover:bg-green-400 text-white"),children:[(0,t.jsx)(at.A,{size:16}),i.isActive?"Disable Theater":"Enable Theater"]})]}),(0,t.jsx)("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-all duration-200 font-medium",children:"Close"})]})]})})]})},ai=e=>{let{setViewInactiveTheater:s,ownerId:a,onClose:r,status:i}=e,[n,c]=(0,l.useState)([]),[o,d]=(0,l.useState)(!1),[x,m]=(0,l.useState)(""),[g,h]=(0,l.useState)("createdAt"),[u,p]=(0,l.useState)("desc"),[y,b]=(0,l.useState)(1),[j,v]=(0,l.useState)(1),[N,f]=(0,l.useState)(0),[w,A]=(0,l.useState)(null),[k]=(0,l.useState)(10),[S,C]=(0,l.useState)(!1),T=async()=>{C(!1),R()},z=async()=>{C(!1),R()},F=async()=>{C(!1),R()},D=(()=>{switch(i){case"active":return{title:"Active Theaters",icon:sC.A,iconColor:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/30",statusBadgeColor:"text-green-400",statusText:"Active",emptyMessage:"No Active Theaters",emptyDescription:"This owner doesn't have any active theaters yet."};case"inactive":return{title:"Inactive Theaters",icon:sT.A,iconColor:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/30",statusBadgeColor:"text-red-400",statusText:"Inactive",emptyMessage:"No Inactive Theaters",emptyDescription:"This owner doesn't have any inactive theaters."};default:return{title:"Theaters",icon:sF.A,iconColor:"text-gray-400",bgColor:"bg-gray-500/20",borderColor:"border-gray-500/30",statusBadgeColor:"text-gray-400",statusText:"Unknown",emptyMessage:"No Theaters",emptyDescription:"No theaters found."}}})(),E=D.icon,R=async function(){var e,s,t,l,r,o;let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{d(!0);let r={ownerId:a,status:i,page:y,limit:k,...x},o=await sU(a,r);c((null==(e=o.data)?void 0:e.theaters)||o.theaters||[]),(null==(t=o.data)||null==(s=t.meta)?void 0:s.pagination)?(v(o.data.meta.pagination.totalPages),f(o.data.meta.pagination.total),b(o.data.meta.pagination.currentPage)):(null==(l=o.meta)?void 0:l.pagination)?(v(o.meta.pagination.totalPages),f(o.meta.pagination.total),b(o.meta.pagination.currentPage)):(v(1),f(n.length))}catch(e){e instanceof e9.pe&&(console.error("Error fetching theaters:",e),e8.Ay.error((null==(o=e.response)||null==(r=o.data)?void 0:r.message)||"Failed to load theaters"),c([]),v(1),f(0))}finally{d(!1)}};(0,l.useEffect)(()=>{R()},[a,y,i]);let P=(0,sZ.d)(e=>{R(e)},700),I=e=>{b(e)};return(0,t.jsxs)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"".concat(D.bgColor," p-2 rounded-lg"),children:(0,t.jsx)(E,{className:D.iconColor,size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(sK().className," text-2xl text-yellow-400 font-medium"),children:D.title}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage and monitor theater operations and status"})]})]}),(0,t.jsxs)("button",{className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 font-medium",onClick:()=>s(),children:["View ","active"===i?"Inactive":"Active"," Theaters"]})]})}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(sK().className," text-lg text-yellow-400 font-medium"),children:"Search & Filters"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),b(1),P({search:x,sortBy:g,sortOrder:u,page:1})},className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search theaters by name, location...",value:x,onChange:e=>{m(e.target.value),b(1),P({ownerId:a,search:e.target.value,sortBy:g,sortOrder:u,page:1})},className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:g,onChange:e=>(e=>{let s=g===e&&"desc"===u?"asc":"desc";h(e),p(s),b(1),R({ownerId:a,search:x,sortBy:e,sortOrder:s,page:1})})(e.target.value),className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[180px] cursor-pointer hover:bg-gray-700/50",children:[(0,t.jsx)("option",{value:"createdAt",children:"Sort by Date"}),(0,t.jsx)("option",{value:"theaterName",children:"Sort by Name"}),(0,t.jsx)("option",{value:"verifiedAt",children:"Sort by Verified Date"}),(0,t.jsx)("option",{value:"totalScreens",children:"Sort by Screens"}),(0,t.jsx)("option",{value:"totalSeats",children:"Sort by Seats"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("button",{onClick:()=>R({ownerId:a,search:x,sortBy:g,sortOrder:u}),className:"flex items-center gap-2 bg-gray-800/50 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50 text-white px-4 py-3 rounded-lg transition-all duration-200",disabled:o,children:[(0,t.jsx)(s4.A,{size:16,className:o?"animate-spin":""}),o?"Loading...":"Refresh"]})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg w-fit",children:[(0,t.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:N}),(0,t.jsxs)("span",{className:"text-gray-300 text-sm",children:[D.statusText.toLowerCase()," theaters found"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(sF.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(sK().className," text-lg text-yellow-400 font-medium"),children:"Theaters List"})]}),o?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading theaters..."})]}):0===n.length?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto",children:[(0,t.jsx)("div",{className:"".concat(D.bgColor," rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"),children:(0,t.jsx)(E,{size:32,className:D.iconColor})}),(0,t.jsx)("h3",{className:"".concat(sK().className," text-xl text-white mb-2"),children:D.emptyMessage}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:x?'No theaters found matching "'.concat(x,'"'):D.emptyDescription}),x&&(0,t.jsx)("button",{onClick:()=>{m(""),b(1),R({ownerId:a,sortBy:g,sortOrder:u,page:1})},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})}):(0,t.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-700/50 hover:border-yellow-500/30 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("h3",{className:"".concat(sK().className," text-xl font-medium text-white"),children:e.name}),(0,t.jsx)(E,{className:D.iconColor,size:18}),e.isVerified&&(0,t.jsxs)("span",{className:"bg-green-500/20 text-green-400 border border-green-500/30 px-3 py-1 text-xs rounded-full flex items-center gap-1",children:[(0,t.jsx)(sz.A,{size:12}),"Verified"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(s2.A,{size:16,className:"text-gray-400"}),(0,t.jsxs)("span",{className:"".concat(s0().className," text-sm text-white"),children:[e.city,", ",e.state]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(sS.A,{size:16,className:"text-gray-400"}),(0,t.jsx)("span",{className:"".concat(s0().className," text-sm text-white"),children:e.phone})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(sF.A,{size:16,className:"text-gray-400"}),(0,t.jsxs)("span",{className:"".concat(s0().className," text-sm text-white"),children:[e.screens," Screens"]})]})]}),e.facilities&&e.facilities.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Facilities:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.facilities.slice(0,4).map((e,s)=>(0,t.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-3 py-1 text-xs rounded-full",children:e},s)),e.facilities.length>4&&(0,t.jsxs)("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 text-xs rounded-full",children:["+",e.facilities.length-4," more"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg ".concat(e.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.isActive?"bg-green-400":"bg-red-400")}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.isActive?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg ".concat(e.isVerified?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"),children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.isVerified?"bg-blue-400":"bg-yellow-400")}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.isVerified?"Verified":"Pending Verification"})]})]})]}),(0,t.jsx)("div",{className:"ml-6",children:(0,t.jsxs)("button",{onClick:()=>{A(e),C(!0)},className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:[(0,t.jsx)(sc.A,{size:16}),(0,t.jsx)("span",{className:"".concat(s0().className," text-sm"),children:"View Details"})]})})]})},e._id))}),(()=>{if(j<=1)return null;let e=[],s=Math.max(1,y-Math.floor(2.5)),a=Math.min(j,s+5-1);a-s<4&&(s=Math.max(1,a-5+1));for(let t=s;t<=a;t++)e.push(t);return(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 mt-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:(y-1)*k+1})," to"," ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:Math.min(y*k,N)})," of"," ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:N})," theaters"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>I(y-1),disabled:1===y,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(eo.A,{size:16})}),(0,t.jsx)("div",{className:"flex gap-1",children:e.map(e=>(0,t.jsx)("button",{onClick:()=>I(e),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 ".concat(y===e?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"),children:e},e))}),(0,t.jsx)("button",{onClick:()=>I(y+1),disabled:y===j,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(ed.A,{size:16})})]})]})})})()]})]}),(0,t.jsx)(ar,{theater:w,isOpen:S,onClose:()=>{A(null),C(!1)},onStatusToggle:T,onVerifyTheater:z,onRejectTheater:F})]})};var an=a(59322),ac=a.n(an),ao=a(1243),ad=a(12318);let ax=e=>{let{owners:s,isLoading:a,currentFilters:l,currentPage:r,totalPages:i,totalItems:n,onPageChange:c,onFiltersChange:o,onViewDetails:d,onToggleStatus:x,setViewThaeter:m}=e,g=e=>{o({...l,search:e})};return(0,t.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[n>0&&(0,t.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(ao.A,{className:"text-orange-400",size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-orange-400 font-medium",children:"Inactive Owners Alert"}),(0,t.jsxs)("p",{className:"text-orange-300 text-sm",children:[n," owner",n>1?"s":""," currently blocked. Their theaters may be affected."]})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(ac().className," text-lg text-yellow-400 font-medium"),children:"Search & Filters"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search inactive owners by name, email...",value:l.search||"",onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:"".concat(l.sortBy||"createdAt","-").concat(l.sortOrder||"desc"),onChange:e=>{let[s,a]=e.target.value.split("-");o({...l,sortBy:s,sortOrder:a})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[200px] cursor-pointer hover:bg-gray-700/50",children:[(0,t.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,t.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,t.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"}),(0,t.jsx)("option",{value:"approvedAt-desc",children:"Recently Approved"}),(0,t.jsx)("option",{value:"approvedAt-asc",children:"Oldest Approved"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:[(0,t.jsx)("span",{className:"text-orange-400 font-medium text-sm",children:n}),(0,t.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"inactive owners"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(C.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(ac().className," text-lg text-yellow-400 font-medium"),children:"Inactive Owners List"})]}),(0,t.jsx)("div",{className:"space-y-4",children:a?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading inactive owners..."})]}):s.length>0?s.map(e=>(0,t.jsxs)("div",{className:"relative transition-all duration-200 hover:scale-[1.01]",children:[(0,t.jsx)("div",{className:"bg-orange-500/20 border border-orange-500/30 rounded-t-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-orange-500/30 p-2 rounded-lg",children:(0,t.jsx)(C.A,{className:"text-orange-400",size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-orange-400 font-medium text-sm block",children:"Owner Account Blocked"}),(0,t.jsx)("span",{className:"text-orange-300/80 text-xs",children:"Account status changed to inactive"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/20 px-3 py-1 rounded-lg",children:(0,t.jsxs)("span",{className:"text-orange-300 text-xs",children:["Theaters: ",e.theatres.length]})})})]})}),(0,t.jsx)("div",{className:"border-t-0 rounded-t-none",children:(0,t.jsx)(s_,{setViewThaeter:m,owner:e,actions:[{label:"Reactivate Owner",icon:ad.A,onClick:x,className:"bg-green-500 hover:bg-green-400 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium"}]})})]},e._id)):(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,t.jsx)("div",{className:"bg-green-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(C.A,{size:32,className:"text-green-400"})}),(0,t.jsx)("h3",{className:"".concat(ac().className," text-xl text-white mb-2"),children:"All Owners Active"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Great! All owners are currently active. No blocked accounts found."}),(0,t.jsx)("button",{onClick:()=>g(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),i>1&&(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:r})," of"," ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:i})," (",n," total)"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>c(r-1),disabled:1===r,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(eo.A,{size:16})}),(0,t.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(i,5))].map((e,s)=>{let a=s+1;if(i>5&&(a=Math.max(1,r-2)+s)>i)return null;let l=a===r;return(0,t.jsx)("button",{onClick:()=>c(a),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 ".concat(l?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"),children:a},a)})}),(0,t.jsx)("button",{onClick:()=>c(r+1),disabled:r===i,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(ed.A,{size:16})})]})]})})]})})};var am=a(64237),ag=a.n(am);let ah=e=>{let{requests:s,isLoading:a,currentFilters:l,currentPage:r,totalPages:i,totalItems:n,onPageChange:c,onFiltersChange:o,onViewDetails:d}=e,x=(0,sZ.d)(e=>{o({...l,search:e})},500),m=e=>{x(e)};return(0,t.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[n>0&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sq.A,{className:"text-red-400",size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-red-400 font-medium",children:"Rejected Applications"}),(0,t.jsxs)("p",{className:"text-red-300 text-sm",children:[n," application",n>1?"s":""," have been rejected. You can review the reasons and details here."]})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(ag().className," text-lg text-yellow-400 font-medium"),children:"Search & Filters"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search rejected requests by name, email...",value:l.search||"",onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:"".concat(l.sortBy||"reviewedAt","-").concat(l.sortOrder||"desc"),onChange:e=>{let[s,a]=e.target.value.split("-");o({...l,sortBy:s,sortOrder:a})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[220px] cursor-pointer hover:bg-gray-700/50",children:[(0,t.jsx)("option",{value:"reviewedAt-desc",children:"Recently Rejected"}),(0,t.jsx)("option",{value:"reviewedAt-asc",children:"Oldest Rejected"}),(0,t.jsx)("option",{value:"submittedAt-desc",children:"Request Date (New)"}),(0,t.jsx)("option",{value:"submittedAt-asc",children:"Request Date (Old)"}),(0,t.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,t.jsx)("span",{className:"text-red-400 font-medium text-sm",children:n}),(0,t.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"rejected requests"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(sT.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(ag().className," text-lg text-yellow-400 font-medium"),children:"Rejected Applications"})]}),(0,t.jsx)("div",{className:"space-y-4",children:a?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading rejected requests..."})]}):s.length>0?s.map(e=>(0,t.jsxs)("div",{className:"relative transition-all duration-200 hover:scale-[1.01]",children:[(0,t.jsxs)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-t-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-red-500/30 p-2 rounded-lg",children:(0,t.jsx)(sT.A,{className:"text-red-400",size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-red-400 font-medium text-sm block",children:"Application Rejected"}),(0,t.jsx)("span",{className:"text-red-300/80 text-xs",children:"Request was reviewed and declined"})]})]}),e.reviewedAt&&(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-red-500/10 border border-red-500/20 px-3 py-1 rounded-lg",children:[(0,t.jsx)(C.A,{className:"text-red-400",size:12}),(0,t.jsx)("span",{className:"text-red-300 text-xs",children:new Date(e.reviewedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),e.rejectionReason&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(sq.A,{className:"text-red-400 mt-0.5 flex-shrink-0",size:14}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-red-400 font-medium text-xs mb-1",children:"Rejection Reason:"}),(0,t.jsx)("p",{className:"text-red-300 text-sm leading-relaxed",children:e.rejectionReason})]})]})})]}),(0,t.jsx)("div",{className:"border-t-0 rounded-t-none",children:(0,t.jsx)(sJ,{request:e,actions:[{label:"View Details",icon:sc.A,onClick:d,className:"bg-blue-500 hover:bg-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-200"}],showProcessedInfo:!0,showRejectionReason:!1})})]},e._id)):(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,t.jsx)("div",{className:"bg-green-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(sT.A,{size:32,className:"text-green-400"})}),(0,t.jsx)("h3",{className:"".concat(ag().className," text-xl text-white mb-2"),children:"No Rejected Requests"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Great! No owner applications have been rejected. All applications are being processed successfully."}),(0,t.jsx)("button",{onClick:()=>m(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),i>1&&(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:r})," of"," ",(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:i})," (",n," total)"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>c(r-1),disabled:1===r,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(eo.A,{size:16})}),(0,t.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(i,5))].map((e,s)=>{let a=s+1;if(i>5&&(a=Math.max(1,r-2)+s)>i)return null;let l=a===r;return(0,t.jsx)("button",{onClick:()=>c(a),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 ".concat(l?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"),children:a},a)})}),(0,t.jsx)("button",{onClick:()=>c(r+1),disabled:r===i,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,t.jsx)(ed.A,{size:16})})]})]})})]})})},au=e=>{let{activeView:s,owners:a,ownerRequests:l,isLoading:r,ownerFilters:i,requestFilters:n,currentPage:c,totalPages:o,totalItems:d,ownerId:x,ownerSearchValue:m,requestSearchValue:g,onPageChange:h,onOwnerFiltersChange:u,onRequestFiltersChange:p,onViewDetails:y,onToggleOwnerStatus:b,onAcceptRequest:j,onRejectRequest:v,setViewThaeter:N,setViewInactiveTheater:f,onClose:w}=e,A={isLoading:r,currentFilters:i,ownerSearchValue:m,currentPage:c,totalPages:o,totalItems:d,onPageChange:h,onFiltersChange:u,onViewDetails:y},k={isLoading:r,currentFilters:n,requestSearchValue:g,currentPage:c,totalPages:o,totalItems:d,onPageChange:h,onFiltersChange:p,onViewDetails:y};switch(s){case"active":default:return(0,t.jsx)(sV,{...A,owners:a,onToggleStatus:b,setViewThaeter:N});case"inactive":return(0,t.jsx)(ax,{...A,owners:a,onToggleStatus:b,setViewThaeter:N});case"pending":return(0,t.jsx)(sQ,{...k,requests:l,onAcceptRequest:j,onRejectRequest:v});case"rejected":return(0,t.jsx)(ah,{...k,requests:l});case"active-theaters":return(0,t.jsx)(ai,{setViewInactiveTheater:f,ownerId:x,onClose:w,status:"active"});case"inactive-theaters":return(0,t.jsx)(ai,{setViewInactiveTheater:f,ownerId:x,onClose:w,status:"inactive"})}};var ap=a(61936),ay=a.n(ap),ab=a(91231),aj=a.n(ab),av=a(9446);let aN=e=>{var s,a;let{activeView:l,setActiveView:r,activeCounts:i,countsLoading:n}=e,c=i||{activeOwners:0,inactiveOwners:0,pendingRequests:0,rejectedRequests:0},d=[{id:"active",label:"Active Owners",icon:o.A,count:c.activeOwners,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/30"},{id:"inactive",label:"Inactive Owners",icon:C.A,count:c.inactiveOwners,color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/30"},{id:"pending",label:"Pending Requests",icon:sW.A,count:c.pendingRequests,color:"text-blue-400",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/30"},{id:"rejected",label:"Rejected Requests",icon:av.A,count:c.rejectedRequests,color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/30"}],m=Object.values(c).reduce((e,s)=>e+s,0);return n?(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(x.A,{className:"text-yellow-400",size:20})}),(0,t.jsx)("h3",{className:"".concat(ay().className," text-lg text-yellow-400 font-medium"),children:"Owners Statistics"})]}),(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"Loading statistics..."})]})})]}):(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"".concat(ay().className," text-sm text-gray-400 uppercase tracking-wider"),children:"Filter by Category"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:d.map(e=>{let s=e.icon,a=l===e.id;return(0,t.jsxs)("button",{onClick:()=>r(e.id),className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 min-w-[160px] ".concat(a?"bg-yellow-500 hover:bg-yellow-400 text-black shadow-lg transform scale-105":"bg-gray-800/50 border border-yellow-500/30 text-gray-300 hover:text-white hover:bg-gray-700/50 hover:border-yellow-500/50"),children:[(0,t.jsx)(s,{size:18,className:a?"text-black":e.color}),(0,t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,t.jsx)("span",{className:"".concat(aj().className," text-sm font-medium"),children:e.label}),(0,t.jsxs)("span",{className:"text-xs ".concat(a?"text-black/70":"text-gray-400"),children:[e.count," ",1===e.count?"item":"items"]})]}),(0,t.jsx)("div",{className:"ml-auto px-2 py-1 rounded-full text-xs font-medium ".concat(a?"bg-black/20 text-black":"".concat(e.bgColor," ").concat(e.color)),children:e.count})]},e.id)})})]}),m>0&&(0,t.jsx)("div",{className:"mt-6 pt-4 border-t border-yellow-500/20",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-400",children:["Showing ",(null==(s=d.find(e=>e.id===l))?void 0:s.label.toLowerCase())||"all items"]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("div",{className:"bg-gray-800/50 px-3 py-1 rounded-lg",children:(0,t.jsxs)("span",{className:"text-gray-300",children:[(((null==(a=d.find(e=>e.id===l))?void 0:a.count)||0)/m*100).toFixed(1),"%"]})})})]})})]})};var af=a(73898),aw=a.n(af);let aA=()=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"".concat(aw().className," text-3xl font-bold text-white mb-2"),children:"Owners Management"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage cinema owners and their requests"})]}),ak=()=>{let[e,s]=(0,l.useState)("active"),[a,r]=(0,l.useState)([]),[i,n]=(0,l.useState)([]),[c,o]=(0,l.useState)(!1),[d,x]=(0,l.useState)(""),[m,g]=(0,l.useState)(""),[h,u]=(0,l.useState)({}),[p,y]=(0,l.useState)({}),[b,j]=(0,l.useState)(""),[v,N]=(0,l.useState)(!0),[f,w]=(0,l.useState)(1),[A,k]=(0,l.useState)(1),[S,C]=(0,l.useState)(0),[T]=(0,l.useState)(1),[z,F]=(0,l.useState)({activeOwners:0,inactiveOwners:0,pendingRequests:0,rejectedRequests:0}),D=async()=>{var e,s,a;try{N(!0);let s=await su();(null==s||null==(e=s.data)?void 0:e.counts)?F(s.data.counts):(null==s?void 0:s.counts)?F(s.counts):(console.error("Unexpected response format:",s),e8.Ay.error("Failed to load counts - invalid response format"))}catch(e){console.error("Error fetching counts:",e),e8.Ay.error((null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Failed to load counts"),F({activeOwners:0,inactiveOwners:0,pendingRequests:0,rejectedRequests:0})}finally{N(!1)}};(0,l.useEffect)(()=>{D()},[]);let E=(0,sZ.d)((0,l.useCallback)(async function(s){var a,t,l,i,c,d;let x=!(arguments.length>1)||void 0===arguments[1]||arguments[1];x?(w(1),s={...s,page:1,limit:T}):s={...s,limit:T},u(s);try{o(!0);let c={...s,status:e},d=await sg(c);r((null==(a=d.data)?void 0:a.owners)||d.owners||[]),n([]),(null==(l=d.data)||null==(t=l.meta)?void 0:t.pagination)?(k(d.data.meta.pagination.totalPages),C(d.data.meta.pagination.total),w(d.data.meta.pagination.currentPage)):(null==(i=d.meta)?void 0:i.pagination)&&(k(d.meta.pagination.totalPages),C(d.meta.pagination.total),w(d.meta.pagination.currentPage))}catch(e){console.error("Filter error:",e),e8.Ay.error((null==(d=e.response)||null==(c=d.data)?void 0:c.message)||"Filter failed"),r([]),k(1),C(0)}finally{o(!1)}},[e,T]),500),R=(0,sZ.d)((0,l.useCallback)(async function(s){var a,t,l,i,c,d;let x=!(arguments.length>1)||void 0===arguments[1]||arguments[1];x?(w(1),s={...s,page:1,limit:T}):s={...s,limit:T},y(s);try{o(!0);let c={...s,status:e},d=await sh(c);n((null==(a=d.data)?void 0:a.requests)||d.requests||[]),r([]),(null==(l=d.data)||null==(t=l.meta)?void 0:t.pagination)?(k(d.data.meta.pagination.totalPages),C(d.data.meta.pagination.total),w(d.data.meta.pagination.currentPage)):(null==(i=d.meta)?void 0:i.pagination)&&(k(d.meta.pagination.totalPages),C(d.meta.pagination.total),w(d.meta.pagination.currentPage))}catch(e){console.error("Filter error:",e),e8.Ay.error((null==(d=e.response)||null==(c=d.data)?void 0:c.message)||"Filter failed"),n([]),k(1),C(0)}finally{o(!1)}},[e,T]),500),P=(0,l.useCallback)(s=>{w(s),"inactive"===e||"active"===e?I({...h,page:s,limit:T},!1):O({...p,page:s,limit:T},!1)},[h,p,T,e]),I=async function(s){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0!==s.search&&s.search!==h.search)x(s.search||""),E(s,a);else{var t,l,i,c,d,m;a?(w(1),s={...s,page:1,limit:T}):s={...s,limit:T},u(s);try{o(!0);let a={...s,status:e},d=await sg(a);r((null==(t=d.data)?void 0:t.owners)||d.owners||[]),n([]),(null==(i=d.data)||null==(l=i.meta)?void 0:l.pagination)?(k(d.data.meta.pagination.totalPages),C(d.data.meta.pagination.total),w(d.data.meta.pagination.currentPage)):(null==(c=d.meta)?void 0:c.pagination)&&(k(d.meta.pagination.totalPages),C(d.meta.pagination.total),w(d.meta.pagination.currentPage))}catch(e){console.error("Filter error:",e),e8.Ay.error((null==(m=e.response)||null==(d=m.data)?void 0:d.message)||"Filter failed"),r([]),k(1),C(0)}finally{o(!1)}}},O=async function(s){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0!==s.search&&s.search!==p.search)R(s,a);else{var t,l,i,c,d,x;a?(w(1),s={...s,page:1,limit:T}):s={...s,limit:T},y(s);try{o(!0);let a={...s,status:e},d=await sh(a);n((null==(t=d.data)?void 0:t.requests)||d.requests||[]),r([]),(null==(i=d.data)||null==(l=i.meta)?void 0:l.pagination)?(k(d.data.meta.pagination.totalPages),C(d.data.meta.pagination.total),w(d.data.meta.pagination.currentPage)):(null==(c=d.meta)?void 0:c.pagination)&&(k(d.meta.pagination.totalPages),C(d.meta.pagination.total),w(d.meta.pagination.currentPage))}catch(e){console.error("Filter error:",e),e8.Ay.error((null==(x=e.response)||null==(d=x.data)?void 0:d.message)||"Filter failed"),n([]),k(1),C(0)}finally{o(!1)}}};(0,l.useEffect)(()=>{u({}),y({}),w(1),r([]),n([]),"inactive"===e||"active"===e?I({},!0):("pending"===e||"rejected"===e)&&O({},!0)},[e]);let M=async e=>{try{let s=e.isActive?"disable":"activate",a=s[0].toUpperCase()+s.slice(1);if(!await (0,e7.f)({title:"".concat(a," Owner?"),message:"Are you sure you want to ".concat(s,' "').concat(e.ownerName,'"?'),confirmText:a,cancelText:"Cancel"}))return;await sb(e._id);let t=e.isActive?"blocked":"activated";e8.Ay.success("Owner ".concat(t," successfully!")),D(),Object.keys(h).length>0&&I(h,!1)}catch(e){var s,a;console.error("Error toggling owner status:",e),e8.Ay.error((null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Failed to update owner status")}},L=async e=>{try{if(!await (0,e7.f)({title:"Accept Owner Request?",message:'Are you sure you want to accept "'.concat(e.ownerName,"\"'s request?"),confirmText:"Accept",cancelText:"Cancel"}))return;await sp(e._id),e8.Ay.success("Owner request accepted! New owner account created."),D(),Object.keys(p).length>0&&O(p,!1)}catch(e){var s,a;console.error("Error accepting request:",e),e8.Ay.error((null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Failed to accept request")}},U=async(e,s)=>{try{await sy(e._id,s),e8.Ay.success("Owner request rejected!"),D(),Object.keys(p).length>0&&O(p,!1)}catch(e){var a,t;console.error("Error rejecting request:",e),e8.Ay.error((null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to reject request")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(aA,{}),(0,t.jsx)(aN,{activeView:e,setActiveView:s,activeCounts:z,countsLoading:v}),(0,t.jsx)(au,{activeView:e,owners:a,ownerRequests:i,isLoading:c,ownerSearchValue:d,requestSearchValue:m,ownerFilters:h,requestFilters:p,currentPage:f,totalPages:A,totalItems:S,ownerId:b,onPageChange:P,onOwnerFiltersChange:I,onRequestFiltersChange:O,onViewDetails:e=>{console.log("View details for:",e.ownerName)},onToggleOwnerStatus:M,onAcceptRequest:L,onRejectRequest:U,setViewThaeter:e=>{s("active-theaters"),j(e)},setViewInactiveTheater:()=>{"active-theaters"==e?s("inactive-theaters"):s("active-theaters")},onClose:()=>{s("active")}})]})};var aS=a(86920),aC=a.n(aS),aT=a(36919),az=a.n(aT),aF=a(51580),aD=a.n(aF),aE=a(30417),aR=a.n(aE);let aP=e=>{let{user:s,onViewDetails:a,onToggleStatus:l}=e,r=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 hover:border-gray-500 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsxs)("div",{className:"relative",children:[s.profilePicture?(0,t.jsx)("img",{src:s.profilePicture,alt:s.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-600"}):(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-[#2a2a2a] border-2 border-gray-600 flex items-center justify-center",children:(0,t.jsx)(o.A,{size:20,className:"text-gray-400"})}),s.isVerified&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:(0,t.jsx)(sz.A,{size:10,className:"text-white"})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"".concat(aR().className," text-lg font-medium text-white"),children:s.name}),(0,t.jsxs)("div",{className:"flex gap-1",children:[s.emailVerified&&(0,t.jsx)(sk.A,{size:14,className:"text-green-400"}),s.phoneVerified&&(0,t.jsx)(sS.A,{size:14,className:"text-green-400"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"text-gray-300",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Email:"})," ",s.email]}),(0,t.jsxs)("div",{className:"text-gray-300",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Phone:"})," ",s.phone]}),(0,t.jsxs)("div",{className:"text-gray-300",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Joined:"})," ",r(s.joinedAt)]}),(0,t.jsxs)("div",{className:"text-gray-300",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Last Login:"})," ",(e=>{if(!e||"0"===e)return"Never logged in";let s=new Date(e),a=Math.floor((new Date().getTime()-s.getTime())/36e5);if(a<24)return"".concat(a," hours ago");{let e=Math.floor(a/24);return"".concat(e," days ago")}})(s.lastActive)]}),s.gender&&(0,t.jsxs)("div",{className:"text-gray-300",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Gender:"})," ",s.gender]}),s.dateOfBirth&&(0,t.jsxs)("div",{className:"text-gray-300",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"DOB:"})," ",r(s.dateOfBirth)]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-3 flex-wrap",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.isActive?"bg-green-900/50 text-green-400 border border-green-500/30":"bg-red-900/50 text-red-400 border border-red-500/30"),children:s.isActive?"Active":"Inactive"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.isVerified?"bg-blue-900/50 text-blue-400 border border-blue-500/30":"bg-gray-900/50 text-gray-400 border border-gray-500/30"),children:s.isVerified?"Verified":"Unverified"}),s.bookingHistory&&s.bookingHistory.length>0&&(0,t.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-900/50 text-purple-400 border border-purple-500/30",children:[s.bookingHistory.length," Bookings"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 flex-col sm:flex-row",children:[(0,t.jsxs)("button",{onClick:()=>a(s),className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-1",children:[(0,t.jsx)(sc.A,{size:14}),"View"]}),(0,t.jsxs)("button",{onClick:()=>l(s),className:"px-3 py-2 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-1 ".concat(s.isActive?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"),children:[(0,t.jsx)(sf.A,{size:14}),s.isActive?"Block":"Activate"]})]})]})})},aI=e=>{let{users:s,isLoading:a,currentFilters:l,currentPage:r,totalPages:i,totalItems:n,onPageChange:c,onFiltersChange:d,onSearchChange:x,onViewDetails:m,onToggleStatus:g,searchLoading:h}=e;return(0,t.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(aD().className," text-lg text-yellow-400 font-medium"),children:"Search & Filters"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search users by name, email, or phone...",value:l.search||"",onChange:e=>x(e.target.value),className:"w-full pl-10 pr-10 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"}),h&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-500 border-t-transparent"})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:"".concat(l.sortBy||"name","-").concat(l.sortOrder||"asc"),onChange:e=>{let[s,a]=e.target.value.split("-");d({...l,sortBy:s,sortOrder:a},!0)},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[180px] cursor-pointer hover:bg-gray-700/50",children:[(0,t.jsx)("option",{value:"name-asc",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"name-desc",children:"Name (Z-A)"}),(0,t.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,t.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,t.jsx)("option",{value:"lastLogin-desc",children:"Recently Active"}),(0,t.jsx)("option",{value:"lastLogin-asc",children:"Least Active"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,t.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:n}),(0,t.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"users found"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(o.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(aD().className," text-lg text-yellow-400 font-medium"),children:"Users List"})]}),(0,t.jsx)("div",{className:"space-y-4",children:a?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading users..."})]}):s.length>0?s.map(e=>(0,t.jsx)("div",{className:"transition-all duration-200 hover:scale-[1.01]",children:(0,t.jsx)(aP,{user:e,onViewDetails:m,onToggleStatus:g})},e._id)):(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,t.jsx)("div",{className:"bg-yellow-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(o.A,{size:32,className:"text-yellow-400"})}),(0,t.jsx)("h3",{className:"".concat(aD().className," text-xl text-white mb-2"),children:"No users found"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed",children:"No users match your current search criteria. Try adjusting your search terms or filters."}),(0,t.jsx)("button",{onClick:()=>x(""),className:"mt-4 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),i>1&&(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsx)(em,{currentPage:r,totalPages:i,onPageChange:c})})]})})},aO={BASE:"/admin/users",COUNTS:"/admin/users/counts",TOGGLE_STATUS:e=>"/admin/users/".concat(e,"/toggle-status")},aM=async()=>(await e0.A.get(aO.COUNTS)).data,aL=async e=>{let s=(e=>{let s=new URLSearchParams;return Object.entries(e).forEach(e=>{let[a,t]=e;void 0!==t&&""!==t&&null!==t&&s.append(a,t.toString())}),s.toString()})(e);return(await e0.A.get("".concat(aO.BASE,"?").concat(s))).data},aU=async e=>(await e0.A.patch(aO.TOGGLE_STATUS(e))).data;var a_=a(42104),aV=a.n(a_),aB=a(69037),aG=a(34869),aq=a(79397);let aW=e=>{let{user:s,isOpen:a,onClose:l}=e;if(!a||!s)return null;let r=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",i=e=>({en:"English",hi:"Hindi",es:"Spanish",fr:"French"})[e]||e.toUpperCase();return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(o.A,{size:20,className:"text-yellow-400"})}),(0,t.jsx)("h2",{className:"".concat(aV().className," text-2xl text-yellow-400 font-medium"),children:"User Details"})]}),(0,t.jsx)("button",{onClick:l,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,t.jsx)(eS.A,{size:24})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-6",children:[(0,t.jsxs)("div",{className:"relative",children:[s.profilePicture?(0,t.jsx)("img",{src:s.profilePicture,alt:s.username,className:"w-28 h-28 rounded-full object-cover border-4 border-yellow-500/30 shadow-lg"}):(0,t.jsx)("div",{className:"w-28 h-28 rounded-full bg-gray-700/50 border-4 border-yellow-500/30 flex items-center justify-center shadow-lg",children:(0,t.jsx)(o.A,{size:48,className:"text-gray-400"})}),s.isVerified&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 bg-green-500 rounded-full p-2 border-2 border-gray-900 shadow-lg",children:(0,t.jsx)(sz.A,{size:16,className:"text-white"})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,t.jsx)("h3",{className:"".concat(aV().className," text-3xl font-medium text-white"),children:s.username})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsxs)("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 px-3 py-1 rounded-full flex items-center gap-2",children:[(0,t.jsx)(aB.A,{size:14}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[s.xpPoints," XP"]})]}),(0,t.jsxs)("div",{className:"bg-blue-500/20 text-blue-400 border border-blue-500/30 px-3 py-1 rounded-full flex items-center gap-2",children:[(0,t.jsx)(aG.A,{size:14}),(0,t.jsx)("span",{className:"text-sm font-medium",children:i(null==s?void 0:s.language)})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsxs)("span",{className:"px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 ".concat(s.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:[s.isActive?(0,t.jsx)(sC.A,{size:16}):(0,t.jsx)(sT.A,{size:16}),s.isActive?"Active":"Inactive"]}),(0,t.jsxs)("span",{className:"px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 ".concat(s.isVerified?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"),children:[(0,t.jsx)(sz.A,{size:16}),s.isVerified?"Verified":"Unverified"]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("h4",{className:"".concat(aV().className," text-lg text-yellow-400 font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(o.A,{size:20}),"Account Information"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(sk.A,{size:16,className:"text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Email"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.email})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(o.A,{size:16,className:"text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Username"}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.username})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(sz.A,{size:16,className:"text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Auth Provider"}),(0,t.jsx)("p",{className:"text-white font-medium capitalize",children:s.authProvider})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(aG.A,{size:16,className:"text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Language"}),(0,t.jsx)("p",{className:"text-white font-medium",children:i(s.language)})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("h4",{className:"".concat(aV().className," text-lg text-yellow-400 font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(aq.A,{size:20}),"Activity Information"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(g.A,{size:16,className:"text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Joined"}),(0,t.jsx)("p",{className:"text-white font-medium",children:r(s.joinedAt)})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(C.A,{size:16,className:"text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Last Active"}),(0,t.jsx)("p",{className:"text-white font-medium",children:(e=>{if(!e)return"Never active";let s=new Date(e),a=Math.floor((new Date().getTime()-s.getTime())/36e5);if(a<1)return"Active now";if(a<24)return"".concat(a," hours ago");let t=Math.floor(a/24);return t<7?"".concat(t," days ago"):r(e)})(s.lastActive)})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(aq.A,{size:16,className:"text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Last Updated"}),(0,t.jsx)("p",{className:"text-white font-medium",children:(e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")(s.updatedAt)})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)(X.A,{size:16,className:"text-yellow-400 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"XP Points"}),(0,t.jsx)("p",{className:"text-yellow-400 font-bold text-lg",children:s.xpPoints})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("h4",{className:"".concat(aV().className," text-lg text-yellow-400 font-medium mb-4 flex items-center gap-2"),children:[(0,t.jsx)(s2.A,{size:20}),"Location & Status"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm block mb-2",children:"Location"}),(0,t.jsxs)("a",{href:"https://www.google.com/maps?q=".concat(s.location.coordinates[1],",").concat(s.location.coordinates[0]),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:[(0,t.jsx)(s2.A,{size:16}),"View on Google Maps",(0,t.jsx)(sP.A,{size:14})]}),(0,t.jsx)("p",{className:"text-gray-300 text-xs mt-2",children:(e=>{if(!(null==e?void 0:e.coordinates))return"Unknown";let[s,a]=e.coordinates;return"".concat(a.toFixed(4),"\xb0, ").concat(s.toFixed(4),"\xb0")})(s.location)})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm block mb-2",children:"Account Status"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg text-sm font-medium ".concat(s.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:[s.isActive?(0,t.jsx)(sC.A,{size:16}):(0,t.jsx)(sT.A,{size:16}),s.isActive?"Active Account":"Inactive Account"]})]})]})]})]}),(0,t.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30 flex justify-end gap-3",children:(0,t.jsx)("button",{onClick:l,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-all duration-200 font-medium",children:"Close"})})]})})},aY=e=>{let{activeView:s,setActiveView:a,activeCounts:l}=e,r=l||{activeUsers:0,inactiveUsers:0,verifiedUsers:0,unverifiedUsers:0},i=[{id:"active",label:"Active Users",icon:o.A,count:r.activeUsers,color:"text-green-400"},{id:"inactive",label:"Inactive Users",icon:C.A,count:r.inactiveUsers,color:"text-orange-400"}];return(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>{let l=e.icon,r=s===e.id;return(0,t.jsxs)("button",{onClick:()=>{a(e.id)},className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat(r?"bg-[#e78f03] text-black font-medium shadow-lg":"text-gray-300 hover:text-white hover:bg-[#2a2a2a] border border-gray-500"),children:[(0,t.jsx)(l,{size:16,className:r?"text-black":e.color}),(0,t.jsx)("span",{className:"".concat(az().className),children:e.label}),(0,t.jsx)("span",{className:"".concat(r?"bg-black/20 text-black":"bg-[#2a2a2a] text-gray-300"," text-xs px-2 py-1 rounded-full ml-1"),children:e.count})]},e.id)})})})},aH=()=>{let[e,s]=(0,l.useState)("active"),[a,r]=(0,l.useState)([]),[i,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)({}),[d,x]=(0,l.useState)(!0),[m,g]=(0,l.useState)(1),[h,u]=(0,l.useState)(1),[p,y]=(0,l.useState)(!1),[b,j]=(0,l.useState)(0),[v]=(0,l.useState)(3),[N,f]=(0,l.useState)(""),w=(0,l.useRef)(),[A,k]=(0,l.useState)({activeUsers:0,inactiveUsers:0,verifiedUsers:0,unverifiedUsers:0}),[S,C]=(0,l.useState)(null),[T,z]=(0,l.useState)(!1),F=async()=>{try{x(!0);let e=await aM();k(e)}catch(e){console.error("Error fetching counts:",e),e8.Ay.error("Failed to load user counts"),k({activeUsers:0,inactiveUsers:0,verifiedUsers:0,unverifiedUsers:0})}finally{x(!1)}};(0,l.useEffect)(()=>{F()},[]);let D=(0,l.useCallback)(e=>{g(e),E({...c,page:e,limit:v},!1)},[c,v]),E=async function(s){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];a?(g(1),s={...s,page:1,limit:v}):s={...s,limit:v},o(s);try{n(!0);let a={...s};"active"===e||"inactive"===e?a.status=e:"verified"===e?a.isVerified=!0:"unverified"===e&&(a.isVerified=!1);let t=await aL(a);console.log(t),r(t.data.users),u(t.data.meta.pagination.totalPages),j(t.data.meta.pagination.total),g(t.data.meta.pagination.currentPage)}catch(e){console.error("Filter error:",e),e8.Ay.error("Failed to load users"),r([]),u(1),j(0)}finally{n(!1),y(!1)}},R=(0,l.useRef)(c);R.current=c,(0,sZ.d)(e=>{E({...R.current,search:e},!0)},650);let P=(0,l.useCallback)(e=>{if(f(e),o(s=>({...s,search:e})),!e.trim())return void y(!1);y(!0),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{E({...c,search:e},!0)},650)},[c]);(0,l.useEffect)(()=>()=>{w.current&&clearTimeout(w.current)},[]),(0,l.useEffect)(()=>{f(""),o({}),g(1),r([]),E({},!0)},[e]);let I=e=>{C(e),z(!0)},O=async e=>{try{let s=e.isActive,a=s?"Deactivate":"Activate";if(!await (0,e7.f)({title:"".concat(a," User?"),message:"Are you sure you want to ".concat(a.toLowerCase(),' "').concat(e.name,'"?'),confirmText:a,cancelText:"Cancel"}))return;await aU(e._id),e8.Ay.success("User ".concat(s?"deactivated":"activated"," successfully!")),F(),Object.keys(c).length>0&&E(c,!1)}catch(e){console.error("Error toggling user status:",e),e8.Ay.error("Failed to update user status")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(aW,{user:S,isOpen:T,onClose:()=>{z(!1),C(null)}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"".concat(aC().className," text-3xl font-bold text-white mb-2"),children:"Users Management"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage platform users and their accounts"})]}),d?(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading counts..."})})}):(0,t.jsx)(aY,{activeView:e,setActiveView:s,activeCounts:A}),(()=>{let e={isLoading:i,searchLoading:p,currentFilters:{...c,search:N},currentPage:m,totalPages:h,totalItems:b,onPageChange:D,onFiltersChange:E,onSearchChange:P,onViewDetails:I};return(0,t.jsx)(aI,{...e,users:a,onToggleStatus:O})})()]})};var aJ=a(47440),aZ=a(44588),aQ=a.n(aZ),aX=a(14738),aK=a(78749),a$=a(34302);let a0=e=>{var s,a,r,i;let{handleToggleScreenStatus:n,screen:o,onViewDetails:d,onViewShowtimes:x}=e,[m,h]=(0,l.useState)(!1),u=()=>{var e;return"object"==typeof o.theaterId&&(null==(e=o.theaterId)?void 0:e.city)?"".concat(o.theaterId.city,", ").concat(o.theaterId.state||""):""};return(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-700/50 hover:border-yellow-500/30 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(aX.A,{className:"text-yellow-400",size:20})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"".concat(aQ().className," text-xl font-medium text-white mb-1"),children:o.name}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-medium ".concat(o.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:[o.isActive?(0,t.jsx)(sC.A,{size:12}):(0,t.jsx)(sT.A,{size:12}),o.isActive?"Active":"Disabled"]})})]})]}),(0,t.jsx)("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(aX.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400",children:"Theater:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:(()=>{var e;return"object"==typeof o.theaterId&&(null==(e=o.theaterId)?void 0:e.name)||"Unknown Theater"})()})]}),u()&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s2.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400",children:"Location:"}),(0,t.jsx)("span",{className:"text-gray-300",children:u()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400",children:"Total Seats:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:o.totalSeats})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.A,{size:14,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400",children:"Layout:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[(null==(s=o.layout)?void 0:s.rows)||0," rows \xd7 ",(null==(a=o.layout)?void 0:a.seatsPerRow)||0," seats/row"]})]})]})}),o.features&&o.features.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(X.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Features"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:o.features.map((e,s)=>(0,t.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-2 py-1 rounded text-xs font-medium",children:e},s))})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 lg:min-w-[220px]",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm",onClick:()=>d(o),children:[(0,t.jsx)(sc.A,{size:14}),"View Details"]}),(0,t.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 border border-yellow-500/30 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm",onClick:()=>x(o),children:[(0,t.jsx)(g.A,{size:14}),"Showtimes"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(null==(r=o.layout)?void 0:r.advancedLayout)&&(0,t.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 bg-purple-500/20 border border-purple-500/30 hover:bg-purple-500/30 text-purple-400 hover:text-purple-300 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm",onClick:()=>h(!m),children:[m?(0,t.jsx)(aK.A,{size:14}):(0,t.jsx)(sc.A,{size:14}),m?"Hide Layout":"Show Layout"]}),(0,t.jsxs)("button",{onClick:()=>n(o._id,o.isActive),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ".concat(o.isActive?"bg-red-500 hover:bg-red-400 text-white":"bg-green-500 hover:bg-green-400 text-white"),children:[(0,t.jsx)(at.A,{size:14}),o.isActive?"Disable":"Enable"]})]})]})]}),m&&(null==(i=o.layout)?void 0:i.advancedLayout)&&(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-yellow-500/20",children:(0,t.jsxs)("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-yellow-500/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(Y.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("h4",{className:"".concat(aQ().className," text-white text-sm font-medium"),children:"Seating Layout Preview"})]}),(0,t.jsx)(a$.l,{advancedLayoutJSON:o.layout.advancedLayout,maxCols:o.layout.seatsPerRow||24,showAisles:(()=>{var e;let s=null==(e=o.layout.advancedLayout)?void 0:e.aisles;return s&&(s.vertical&&s.vertical.length>0||s.horizontal&&s.horizontal.length>0)})()})]})})]})},a4=e=>{let{filters:s,totalItems:a,onChange:l}=e;return(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Search screens by name...",value:s.search||"",onChange:e=>l({...s,search:e.target.value}),className:"w-full pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03]"})]}),(0,t.jsxs)("select",{value:void 0===s.isActive?"all":s.isActive.toString(),onChange:e=>{let a="all"===e.target.value?void 0:"true"===e.target.value;l({...s,isActive:a})},className:"bg-[#2a2a2a] border border-gray-500 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-[#e78f03]",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"true",children:"Active"}),(0,t.jsx)("option",{value:"false",children:"Disabled"})]}),(0,t.jsxs)("select",{value:"".concat(s.sortBy||"name","-").concat(s.sortOrder||"asc"),onChange:e=>{let[a,t]=e.target.value.split("-");l({...s,sortBy:a,sortOrder:t})},className:"bg-[#2a2a2a] border border-gray-500 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-[#e78f03] min-w-[150px]",children:[(0,t.jsx)("option",{value:"name-asc",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"name-desc",children:"Name (Z-A)"}),(0,t.jsx)("option",{value:"totalSeats-desc",children:"Most Seats"}),(0,t.jsx)("option",{value:"totalSeats-asc",children:"Least Seats"}),(0,t.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,t.jsx)("option",{value:"createdAt-asc",children:"Oldest First"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-400 whitespace-nowrap",children:[a," screens"]})]})})},a2=e=>{let{currentPage:s,totalPages:a,totalItems:l,onPageChange:r}=e;return(0,t.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",s," of ",a," (",l," total)"]}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap justify-center",children:[(0,t.jsx)("button",{onClick:()=>r(s-1),disabled:1===s,className:"px-3 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#3a3a3a] transition-colors",children:(0,t.jsx)(eo.A,{size:16})}),[...Array(Math.min(a,5))].map((e,l)=>{let i=l+1;if(a>5&&(i=Math.max(1,s-2)+l)>a)return null;let n=i===s;return(0,t.jsx)("button",{onClick:()=>r(i),className:"px-3 py-2 rounded-lg transition-colors ".concat(n?"bg-[#e78f03] text-black":"bg-[#2a2a2a] border border-gray-500 text-white hover:bg-[#3a3a3a]"),children:i},i)}),(0,t.jsx)("button",{onClick:()=>r(s+1),disabled:s===a,className:"px-3 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#3a3a3a] transition-colors",children:(0,t.jsx)(ed.A,{size:16})})]})]})})},a1={BASE:"/admin/screens",BY_ID:e=>"/admin/screens/".concat(e)},a5=async(e,s)=>{let a=new URLSearchParams({page:e.toString(),limit:"5",...Object.entries(s).filter(e=>{let[s,a]=e;return void 0!==a&&""!==a}).reduce((e,s)=>{let[a,t]=s;return{...e,[a]:t.toString()}},{})});return(await e0.A.get(a1.BASE,{params:a})).data},a3=async(e,s)=>(await e0.A.patch(a1.BY_ID(e),{isActive:s})).data,a6=e=>{let{screens:s,totalItems:a,currentPage:r,totalPages:i,isLoading:n,onViewDetails:c,onViewShowtimes:o,onPageChange:d,onFiltersChange:x,fetchScreens:m}=e,[g,h]=(0,l.useState)({search:"",sortBy:"name",sortOrder:"asc"}),u=async(e,s)=>{let a=s?"disable":"enable",t=a.toUpperCase();if(await (0,e7.f)({title:"".concat(t," Owner?"),message:"Are you sure you want to ".concat(a," this screen?"),confirmText:t,cancelText:"Cancel"}))try{let t=await a3(e,s);console.log(t),e8.Ay.success("Screen succusfully ".concat(a,"d")),m(0,{})}catch(e){console.log(e)}},p=s.reduce((e,s)=>{var a;let t="object"==typeof s.theaterId&&(null==(a=s.theaterId)?void 0:a.name)||"Unknown Theater";return e[t]||(e[t]=[]),e[t].push(s),e},{});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(a4,{filters:g,totalItems:a,onChange:e=>{h(e),x(e)}}),(0,t.jsx)("div",{className:"space-y-6",children:n?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#e78f03]"})}):0===Object.keys(p).length?(0,t.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No screens available."}):Object.entries(p).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white border-b border-gray-600 pb-2",children:[s," (",a.length," screens)"]}),(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsx)(a0,{handleToggleScreenStatus:u,screen:e,onViewDetails:c,onViewShowtimes:o},e._id))})]},s)})}),i>1&&(0,t.jsx)(a2,{currentPage:r,totalPages:i,totalItems:a,onPageChange:d})]})};var a8=a(76149),a7=a.n(a8),a9=a(381);let te=e=>{let{screen:s,onClose:a}=e;return(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-2xl shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(aX.A,{className:"text-yellow-400",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(a7().className," text-2xl text-yellow-400 font-medium"),children:"Screen Details"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:s.name})]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,t.jsx)(eS.A,{size:24})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(s.isActive?"bg-green-500/20":"bg-red-500/20"),children:s.isActive?(0,t.jsx)(sC.A,{className:"text-green-400",size:20}):(0,t.jsx)(sT.A,{className:"text-red-400",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Screen Status"}),(0,t.jsx)("p",{className:"font-medium ".concat(s.isActive?"text-green-400":"text-red-400"),children:s.isActive?"Active":"Disabled"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(aX.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Screen Name"})]}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.name})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(c.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Seats"})]}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.totalSeats})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(a9.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Screen Type"})]}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.screenType||"Standard"})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(Y.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Layout"})]}),(0,t.jsx)("p",{className:"text-white font-medium",children:s.layout?"".concat(s.layout.rows," rows \xd7 ").concat(s.layout.seatsPerRow," seats/row"):"Not configured"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(X.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Features"})]}),s.features&&s.features.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:s.features.map((e,s)=>(0,t.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-3 py-1 rounded text-xs font-medium",children:e},s))}):(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No special features"})]})]}),(0,t.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30 flex justify-end",children:(0,t.jsx)("button",{className:"bg-yellow-500 hover:bg-yellow-400 text-black px-6 py-2 rounded-lg font-medium transition-all duration-200",onClick:a,children:"Close"})})]})})};var ts=a(6232),ta=a.n(ts);let tt={BY_SCREEN_ID:e=>"/admin/showtimes/".concat(e),BY_ID:e=>"/admin/showtimes/".concat(e)},tl=async(e,s)=>(await e0.A.get(tt.BY_SCREEN_ID(e),{params:s})).data,tr=async(e,s)=>(await e0.A.patch(tt.BY_ID(e),{isActive:s})).data,ti=e=>{let{fetchShowtimes:s,showtime:a}=e,l=async(e,a)=>{let t=a?"disable":"enable",l=t.toUpperCase();if(await (0,e7.f)({title:"".concat(l," Owner?"),message:"Are you sure you want to ".concat(t," this show?"),confirmText:l,cancelText:"Cancel"}))try{let l=await tr(e,a);console.log(l),e8.Ay.success("Screen succusfully ".concat(t,"d")),s(0,{})}catch(e){console.log(e)}};return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center bg-[#2a2a2a] rounded py-3 px-4 gap-2",children:[(0,t.jsxs)("div",{className:"text-white",children:[(0,t.jsxs)("div",{className:"font-bold",children:[new Date(a.showDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})," ",a.showTime,"-",a.endTime]}),(0,t.jsxs)("div",{className:"text-sm",children:["Movie: ",(0,t.jsx)("span",{className:"font-semibold text-[#e78f03]",children:"object"==typeof a.movieId&&null!==a.movieId?a.movieId.title||"Unknown Movie":a.movieId||"Unknown Movie"})]})]}),(0,t.jsxs)("div",{className:"flex gap-7",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("button",{onClick:()=>l(a._id,a.isActive),className:"py-1 rounded-sm px-2 ".concat(a.isActive?"bg-red-500 text-white":"bg-green-400 text-black"),children:a.isActive?"Disable":"Enable"})}),(0,t.jsxs)("div",{className:"text-sm text-gray-400 flex flex-col sm:text-right",children:[(0,t.jsxs)("div",{children:["Format: ",a.format," | Language: ",a.language]}),(0,t.jsxs)("div",{children:["Available: ",(0,t.jsx)("span",{className:"text-green-400",children:a.availableSeats}),"/",(0,t.jsx)("span",{className:"text-gray-300",children:a.totalSeats})," seats"]}),(0,t.jsxs)("div",{className:"text-xs",children:["Status: ",(0,t.jsx)("span",{className:a.isActive?"text-green-400":"text-red-400",children:a.isActive?"Active":"Inactive"})]})]})]})]})},tn=e=>{let{screen:s,onClose:a}=e,[r,i]=(0,l.useState)([]),[n,c]=(0,l.useState)(!0),[o,d]=(0,l.useState)(null),[x,m]=(0,l.useState)({currentPage:1,totalPages:1,totalItems:0,pageSize:10}),[h,u]=(0,l.useState)({search:"",sortBy:"showDate",sortOrder:"asc"}),p=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{c(!0),d(null);let t={page:e,limit:x.pageSize,...a},l=await tl(s._id,t);l.success&&l.data?(i(l.data.showtimes||[]),m({currentPage:l.data.currentPage||e,totalPages:l.data.totalPages||1,totalItems:l.data.total||l.data.totalItems||0,pageSize:l.data.pageSize||10})):(i([]),m(e=>({...e,totalItems:0,totalPages:1})))}catch(e){console.log(e),d("Failed to load showtimes."),i([]),m(e=>({...e,totalItems:0,totalPages:1}))}finally{c(!1)}};(0,l.useEffect)(()=>{p(1,h)},[s._id]);let y=(e,s)=>{let a={...h,[e]:s};u(a),m(e=>({...e,currentPage:1})),p(1,a)},b=r.reduce((e,s)=>{let a=new Date(s.showDate).toDateString();return e[a]||(e[a]=[]),e[a].push(s),e},{});return(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-7xl h-[90vh] flex flex-col shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(aX.A,{className:"text-yellow-400",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"".concat(ta().className," text-2xl text-yellow-400 font-medium"),children:["Showtimes - ",s.name]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-300 mt-1",children:[(0,t.jsxs)("span",{children:["Theater: ",(()=>{var e;return"object"==typeof s.theaterId&&(null==(e=s.theaterId)?void 0:e.name)||"Unknown Theater"})()]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Total Seats: ",s.totalSeats]})]})]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,t.jsx)(eS.A,{size:24})})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border-b border-yellow-500/20 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(ta().className," text-lg text-yellow-400 font-medium"),children:"Filters & Search"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 relative",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Search by movie, time, format...",value:h.search||"",onChange:e=>y("search",e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"date",value:h.showDate||"",onChange:e=>y("showDate",e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,t.jsxs)("select",{value:void 0===h.isActive?"all":h.isActive.toString(),onChange:e=>{y("isActive","all"===e.target.value?void 0:"true"===e.target.value)},className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"true",children:"Active"}),(0,t.jsx)("option",{value:"false",children:"Inactive"})]}),(0,t.jsxs)("select",{value:h.format||"all",onChange:e=>{y("format","all"===e.target.value?void 0:e.target.value)},className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",children:[(0,t.jsx)("option",{value:"all",children:"All Formats"}),(0,t.jsx)("option",{value:"2D",children:"2D"}),(0,t.jsx)("option",{value:"3D",children:"3D"}),(0,t.jsx)("option",{value:"IMAX",children:"IMAX"}),(0,t.jsx)("option",{value:"4DX",children:"4DX"}),(0,t.jsx)("option",{value:"Dolby Atmos",children:"Dolby Atmos"})]}),(0,t.jsxs)("select",{value:"".concat(h.sortBy,"-").concat(h.sortOrder),onChange:e=>{let[s,a]=e.target.value.split("-");y("sortBy",s),y("sortOrder",a)},className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",children:[(0,t.jsx)("option",{value:"showDate-asc",children:"Date (Earliest)"}),(0,t.jsx)("option",{value:"showDate-desc",children:"Date (Latest)"}),(0,t.jsx)("option",{value:"showTime-asc",children:"Time (Earliest)"}),(0,t.jsx)("option",{value:"showTime-desc",children:"Time (Latest)"}),(0,t.jsx)("option",{value:"availableSeats-desc",children:"Most Available"}),(0,t.jsx)("option",{value:"availableSeats-asc",children:"Least Available"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg w-fit",children:[(0,t.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:x.totalItems}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"showtimes found"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:n?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading showtimes..."})]}):o?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-6 max-w-md mx-auto",children:(0,t.jsx)("p",{className:"text-red-400 font-medium",children:o})})}):0===x.totalItems?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 max-w-md mx-auto",children:[(0,t.jsx)(C.A,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No Showtimes Found"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No showtimes scheduled for this screen match your current filters."})]})}):(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(b).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-yellow-500/20",children:[(0,t.jsx)(g.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(ta().className," text-lg text-yellow-400 font-medium"),children:s}),(0,t.jsxs)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-2 py-1 rounded text-xs font-medium",children:[a.length," shows"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsx)(ti,{fetchShowtimes:p,showtime:e},e._id))})]},s)})})}),x.totalPages>1&&(0,t.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30",children:(0,t.jsx)(a2,{currentPage:x.currentPage,totalPages:x.totalPages,totalItems:x.totalItems,onPageChange:e=>{m(s=>({...s,currentPage:e})),p(e,h)}})})]})})},tc=()=>{let[e,s]=(0,l.useState)([]),[a,r]=(0,l.useState)(null),[i,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),[d,x]=(0,l.useState)(!0),[m,g]=(0,l.useState)(null),[h,u]=(0,l.useState)(1),[p,y]=(0,l.useState)(1),[b,j]=(0,l.useState)(0),[v,N]=(0,l.useState)({search:"",sortBy:"name",sortOrder:"asc"}),f=async(e,a)=>{try{var t,l;x(!0),g(null);let r=await a5(e,a),i=null!=(l=null!=(t=r.data.totalItems)?t:r.data.total)?l:0;s(r.data.screens||[]),u(r.data.currentPage||e),y(r.data.totalPages||1),j(i)}catch(e){g(e instanceof Error?e.message:"Failed to load screens"),s([]),j(0),u(1),y(1)}finally{x(!1)}},w=(0,sZ.d)((0,l.useCallback)((e,s,a)=>{f(a,{...s,search:e})},[]),500);return(0,l.useEffect)(()=>{let{search:e,...s}=v;w(e||"",s,1),1!==h&&u(1)},[v.search,w]),(0,l.useEffect)(()=>{f(h,v)},[v.isActive,v.theaterId,v.sortBy,v.sortOrder,h]),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Screen & Showtime Management"})}),m&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-4 text-red-400 mb-4",children:m}),(0,t.jsx)(a6,{fetchScreens:f,screens:e,totalItems:b,currentPage:h,totalPages:p,isLoading:d,onViewDetails:e=>{r(e),n(!0)},onViewShowtimes:e=>{r(e),o(!0)},onPageChange:e=>{u(e)},onFiltersChange:e=>{N(s=>({...s,...e}))}}),i&&a&&(0,t.jsx)(te,{screen:a,onClose:()=>{n(!1),r(null)}}),c&&a&&(0,t.jsx)(tn,{screen:a,onClose:()=>{o(!1),r(null)}})]})};var to=a(53872),td=a.n(to),tx=a(96767),tm=a.n(tx),tg=a(57340),th=a(55868),tu=a(33109),tp=a(35169),ty=a(11451),tb=a.n(ty),tj=a(98018),tv=a.n(tj);let tN=e=>{let{onOwnerSelect:s}=e,[a,r]=(0,l.useState)([]),[i,n]=(0,l.useState)(!1),[o,d]=(0,l.useState)(""),[x,m]=(0,l.useState)(1),[g,h]=(0,l.useState)(1),[u,p]=(0,l.useState)(0),y=(0,sZ.d)(function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];b(e,s)},500),b=async function(e){var s,a,t,l,i,c;let x=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0!==e.search&&e.search!==o){d(e.search||""),y(e,x);return}x?(m(1),e={...e,page:1,limit:12}):e={...e,limit:12};try{n(!0);let i={...e,status:"active"},c=await sg(i);r(((null==(s=c.data)?void 0:s.owners)||c.owners||[]).map(e=>({...e,name:e.ownerName}))),(null==(t=c.data)||null==(a=t.meta)?void 0:a.pagination)?(h(c.data.meta.pagination.totalPages),p(c.data.meta.pagination.total),m(c.data.meta.pagination.currentPage)):(null==(l=c.meta)?void 0:l.pagination)&&(h(c.meta.pagination.totalPages),p(c.meta.pagination.total),m(c.meta.pagination.currentPage))}catch(e){console.error("Filter error:",e),e instanceof e9.pe&&(e8.Ay.error((null==(c=e.response)||null==(i=c.data)?void 0:i.message)||"Failed to load owners"),r([]),h(1),p(0))}finally{n(!1)}};return(0,l.useEffect)(()=>{b({})},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(tb().className," text-lg text-yellow-400 font-medium"),children:"Search & Filter"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search owners by name or email...",value:o,onChange:e=>{d(e.target.value),y({search:e.target.value})},className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,t.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:u}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"owners found"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(c.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(tb().className," text-lg text-yellow-400 font-medium"),children:"Theater Owners"})]}),i?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading owners..."})]}):0===a.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"bg-gray-700/30 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(c.A,{size:32,className:"text-gray-400"})}),(0,t.jsx)("h3",{className:"".concat(tb().className," text-xl text-white mb-2"),children:"No owners found"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:o?'No owners found matching "'.concat(o,'"'):"No theater owners found in the system"}),o&&(0,t.jsx)("button",{onClick:()=>{d(""),b({})},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]}):(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.map(e=>(0,t.jsxs)("div",{onClick:()=>s(e),className:"bg-gray-700/30 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-600/30 hover:border-yellow-500/40 hover:scale-105 transition-all duration-200 cursor-pointer group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg group-hover:bg-yellow-500/30 transition-all duration-200",children:(0,t.jsx)(c.A,{className:"w-6 h-6 text-yellow-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ".concat(e.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:[e.isActive?(0,t.jsx)(sC.A,{size:12}):(0,t.jsx)(sT.A,{size:12}),e.isActive?"Active":"Inactive"]})]}),(0,t.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,t.jsx)("h3",{className:"".concat(tb().className," text-lg font-medium text-white group-hover:text-yellow-400 transition-colors line-clamp-1"),children:e.name}),(0,t.jsx)("p",{className:"".concat(tv().className," text-gray-400 text-sm line-clamp-1"),children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-600/50",children:[e.totalTheaters?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sF.A,{size:14,className:"text-gray-400"}),(0,t.jsxs)("span",{className:"".concat(tv().className," text-xs text-gray-300"),children:[e.totalTheaters," theater",e.totalTheaters>1?"s":""]})]}):(0,t.jsx)("span",{className:"".concat(tv().className," text-xs text-gray-500"),children:"No theaters"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,t.jsx)(sc.A,{size:14}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"View"})]})]})]},e._id))})]})]})};var tf=a(38189),tw=a.n(tf),tA=a(19344),tk=a.n(tA);let tS=e=>{let{selectedOwner:s,onTheaterSelect:a}=e,[r,i]=(0,l.useState)([]),[n,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)(""),[x,m]=(0,l.useState)("createdAt"),[g,h]=(0,l.useState)("desc"),[u,p]=(0,l.useState)(1),[y,b]=(0,l.useState)(1),[j,v]=(0,l.useState)(0),N=(0,sZ.d)(e=>{f(e)},500),f=async function(){var e,a,t,l,n,o,d;let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{c(!0);let o={ownerId:s.id,status:"active",page:u,limit:10,sortBy:x,sortOrder:g,...m};if(s.id){let c=await sU(s.id,o);console.log((null==(e=c.data)?void 0:e.theaters)||c.theaters),i((null==(a=c.data)?void 0:a.theaters)||c.theaters||[]),(null==(l=c.data)||null==(t=l.meta)?void 0:t.pagination)?(b(c.data.meta.pagination.totalPages),v(c.data.meta.pagination.total),p(c.data.meta.pagination.currentPage)):(null==(n=c.meta)?void 0:n.pagination)?(b(c.meta.pagination.totalPages),v(c.meta.pagination.total),p(c.meta.pagination.currentPage)):(b(1),v(r.length))}}catch(e){console.error("Error fetching theaters:",e),e8.Ay.error((null==(d=e.response)||null==(o=d.data)?void 0:o.message)||"Failed to load theaters"),i([]),b(1),v(0)}finally{c(!1)}};return(0,l.useEffect)(()=>{f()},[s._id]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(tw().className," text-lg text-yellow-400 font-medium"),children:"Search & Filters"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search theaters by name, location...",value:o,onChange:e=>{d(e.target.value),p(1),N({ownerId:s._id,search:e.target.value,sortBy:x,sortOrder:g,page:1})},className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsxs)("select",{value:x,onChange:e=>(e=>{m(e),f({ownerId:s._id,search:o,sortBy:e,sortOrder:g})})(e.target.value),className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[180px] cursor-pointer hover:bg-gray-700/50",children:[(0,t.jsx)("option",{value:"createdAt",children:"Sort by Date"}),(0,t.jsx)("option",{value:"theaterName",children:"Sort by Name"}),(0,t.jsx)("option",{value:"verifiedAt",children:"Sort by Verified Date"}),(0,t.jsx)("option",{value:"totalScreens",children:"Sort by Screens"}),(0,t.jsx)("option",{value:"totalSeats",children:"Sort by Seats"})]}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("button",{onClick:()=>f({ownerId:s._id,search:o,sortBy:x,sortOrder:g}),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 border border-yellow-500/30 hover:border-yellow-500/50 text-white px-4 py-3 rounded-lg transition-all duration-200",disabled:n,children:[(0,t.jsx)(s4.A,{size:16,className:n?"animate-spin":""}),n?"Loading...":"Refresh"]})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg w-fit",children:[(0,t.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:j}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"theaters found"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(sF.A,{className:"text-yellow-400",size:20}),(0,t.jsxs)("h3",{className:"".concat(tw().className," text-lg text-yellow-400 font-medium"),children:[s.name,"'s Theaters"]})]}),n?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading theaters..."})]}):0===r.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"bg-gray-700/30 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(sF.A,{size:32,className:"text-gray-400"})}),(0,t.jsx)("h3",{className:"".concat(tw().className," text-xl text-white mb-2"),children:"No theaters found"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:o?'No theaters found matching "'.concat(o,'"'):"No theaters found for this owner"}),o&&(0,t.jsx)("button",{onClick:()=>{d(""),p(1),f({ownerId:s._id,sortBy:x,sortOrder:g,page:1})},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]}):(0,t.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,t.jsx)("div",{className:"bg-gray-700/30 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-600/30 hover:border-yellow-500/30 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("h3",{className:"".concat(tw().className," text-xl font-medium text-white"),children:e.name}),(0,t.jsx)("div",{className:"bg-yellow-500/20 p-1 rounded",children:(0,t.jsx)(sF.A,{className:"text-yellow-400",size:16})}),e.isVerified&&(0,t.jsxs)("span",{className:"bg-green-500/20 text-green-400 border border-green-500/30 px-3 py-1 text-xs rounded-full flex items-center gap-1 font-medium",children:[(0,t.jsx)(sz.A,{size:12}),"Verified"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-600/20 rounded-lg",children:[(0,t.jsx)(s2.A,{size:16,className:"text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Location"}),(0,t.jsxs)("p",{className:"".concat(tk().className," text-sm text-white"),children:[e.city,", ",e.state]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-600/20 rounded-lg",children:[(0,t.jsx)(sS.A,{size:16,className:"text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Contact"}),(0,t.jsx)("p",{className:"".concat(tk().className," text-sm text-white"),children:e.phone})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-600/20 rounded-lg",children:[(0,t.jsx)(sF.A,{size:16,className:"text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Screens"}),(0,t.jsxs)("p",{className:"".concat(tk().className," text-sm text-white"),children:[e.screens," Screens"]})]})]})]}),e.facilities&&e.facilities.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(X.A,{className:"text-yellow-400",size:16}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Facilities"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.facilities.slice(0,4).map((e,s)=>(0,t.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-3 py-1 text-xs rounded-full font-medium",children:e},s)),e.facilities.length>4&&(0,t.jsxs)("span",{className:"bg-gray-600/30 text-gray-300 px-3 py-1 text-xs rounded-full font-medium",children:["+",e.facilities.length-4," more"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg ".concat(e.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:[e.isActive?(0,t.jsx)(sC.A,{size:14}):(0,t.jsx)(sT.A,{size:14}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.isActive?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg ".concat(e.isVerified?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"),children:[(0,t.jsx)(sz.A,{size:14}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.isVerified?"Verified":"Pending Verification"})]})]})]}),(0,t.jsx)("div",{className:"ml-6",children:(0,t.jsxs)("button",{onClick:()=>{console.log(e),a(e)},className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-3 rounded-lg transition-all duration-200 font-medium",children:[(0,t.jsx)(sc.A,{size:16}),(0,t.jsx)("span",{className:"".concat(tk().className," text-sm"),children:"View Analytics"})]})})]})},e._id))})]})]})};var tC=a(97444),tT=a.n(tC),tz=a(20859),tF=a.n(tz),tD=a(10052),tE=a.n(tD);let tR=e=>{let{analyticsData:s}=e,a=[{title:"Total Revenue",value:s?"₹".concat(s.totalRevenue.toLocaleString("en-IN")):"₹0",icon:th.A,color:"blue",description:"Total earnings from bookings"},{title:"Total Bookings",value:s?s.totalBookings.toLocaleString("en-IN"):"0",icon:c.A,color:"green",description:"Number of confirmed bookings"},{title:"Avg Ticket Price",value:s?"₹".concat(s.avgTicketPrice.toFixed(2)):"₹0",icon:h.A,color:"purple",description:"Average price per ticket"},{title:"Market Share",value:s?"".concat(s.marketShare,"%"):"0%",icon:tu.A,color:"orange",description:"Regional market share"}];return(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:a.map((e,s)=>{let a=e.icon,l=(e=>{let s={blue:{bg:"bg-blue-500/20",text:"text-blue-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},orange:{bg:"bg-orange-500/20",text:"text-orange-400"}};return s[e]||s.blue})(e.color);return(0,t.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg shadow-lg p-6 hover:border-gray-500 transition-all duration-300",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("div",{className:"p-3 ".concat(l.bg," rounded-xl"),children:(0,t.jsx)(a,{className:"w-6 h-6 ".concat(l.text)})})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"".concat(tE().className," text-gray-400 text-sm"),children:e.title}),(0,t.jsx)("p",{className:"".concat(tE().className," text-2xl text-white font-semibold"),children:e.value}),(0,t.jsx)("p",{className:"".concat(tE().className," text-gray-500 text-xs"),children:e.description})]})]},s)})})};var tP=a(21340);let tI={GET_BOOKINGS:e=>"/admin/theater/bookings/".concat(e)},tO=async(e,s,a,t,l)=>{let r=new URLSearchParams({startDate:s,endDate:a,page:t.toString(),limit:l.toString()}).toString();return(await e0.A.get("".concat(tI.GET_BOOKINGS(e),"?").concat(r))).data};var tM=a(85253),tL=a.n(tM),tU=a(11592),t_=a.n(tU);let tV=e=>{let{bookings:s,totalBookings:a,currentPage:l,totalPages:r,onPageChange:i,isLoading:n}=e,d=e=>{switch(e){case"completed":case"confirmed":return(0,t.jsx)(sC.A,{className:"w-4 h-4 text-green-400"});case"failed":case"cancelled":return(0,t.jsx)(sT.A,{className:"w-4 h-4 text-red-400"});case"pending":return(0,t.jsx)(sq.A,{className:"w-4 h-4 text-yellow-400"});default:return(0,t.jsx)(sq.A,{className:"w-4 h-4 text-gray-400"})}},x=e=>{switch(e){case"completed":case"confirmed":return"text-green-400 bg-green-400/10";case"failed":case"cancelled":return"text-red-400 bg-red-400/10";case"pending":return"text-yellow-400 bg-yellow-400/10";default:return"text-gray-400 bg-gray-400/10"}},m=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return n?(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-yellow-500 border-t-transparent"}),(0,t.jsx)("span",{className:"ml-3 text-gray-300",children:"Loading bookings..."})]})}):0===s.length?(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.A,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"".concat(tL().className," text-lg text-gray-400 mb-2"),children:"No Bookings Found"}),(0,t.jsx)("p",{className:"".concat(t_().className," text-gray-500"),children:"No bookings available for the selected date range."})]})}):(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg",children:[(0,t.jsx)("div",{className:"p-6 border-b border-yellow-500/20",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(tL().className," text-lg text-yellow-400 font-medium"),children:"Recent Bookings"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Total: ",a," bookings"]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:s.map(e=>{let s;return(0,t.jsx)("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-lg p-5 hover:border-yellow-500/30 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,t.jsx)(o.A,{className:"w-5 h-5 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"".concat(tL().className," text-white font-medium"),children:[e.userId.firstName," ",e.userId.lastName]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sk.A,{className:"w-3 h-3"}),e.userId.email]}),e.userId.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sS.A,{className:"w-3 h-3"}),e.userId.phone]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-300",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{className:"font-medium",children:e.movieId.title}),(0,t.jsx)("span",{className:"text-gray-500",children:"•"}),(0,t.jsx)("span",{children:e.movieId.language})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s2.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{children:e.screenId.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{children:m(e.showDate)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{children:(s=e.showTime,new Date("2000-01-01T".concat(s)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-400",children:["Seats: ",e.selectedSeats.join(", ")]}),(0,t.jsx)("span",{className:"text-gray-500",children:"•"}),(0,t.jsxs)("span",{className:"text-gray-400",children:["Booking ID: ",e.bookingId]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:items-end gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ".concat(x(e.paymentStatus)),children:[d(e.paymentStatus),e.paymentStatus.charAt(0).toUpperCase()+e.paymentStatus.slice(1)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ".concat(x(e.bookingStatus)),children:[d(e.bookingStatus),e.bookingStatus.charAt(0).toUpperCase()+e.bookingStatus.slice(1)]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[(0,t.jsx)(sD.A,{className:"w-4 h-4 text-yellow-400"}),"₹",e.priceDetails.total.toLocaleString()]}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:[e.paymentMethod," • ",m(e.bookedAt)]})]})]})]})},e._id)})}),r>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-700/50",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",l," of ",r]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>i(l-1),disabled:1===l,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(1===l?"bg-gray-700/30 text-gray-500 cursor-not-allowed":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"),children:[(0,t.jsx)(eo.A,{className:"w-4 h-4"}),"Previous"]}),(0,t.jsxs)("button",{onClick:()=>i(l+1),disabled:l===r,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(l===r?"bg-gray-700/30 text-gray-500 cursor-not-allowed":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"),children:["Next",(0,t.jsx)(ed.A,{className:"w-4 h-4"})]})]})]})]})]})},tB=e=>{let{selectedTheater:s,selectedOwner:a}=e,[r,i]=(0,l.useState)(null),[n,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)("month"),[m,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)({startDate:"",endDate:""}),[y,b]=(0,l.useState)(null),[j,v]=(0,l.useState)(!1),[N,f]=(0,l.useState)(1),w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{v(!0);let{startDate:a,endDate:t}=A(),l=await tO(s._id,a,t,e,10);b(l.data)}catch(e){console.error("Error fetching theater bookings:",e),e8.Ay.error("Failed to fetch bookings"),b(null)}finally{v(!1)}},A=()=>{let e=new Date().toISOString().split("T")[0],s=new Date;if("custom"===o)return{startDate:u.startDate,endDate:u.endDate};switch(o){case"week":s.setDate(s.getDate()-7);break;case"month":default:s.setMonth(s.getMonth()-1);break;case"quarter":s.setMonth(s.getMonth()-3);break;case"year":s.setFullYear(s.getFullYear()-1)}return{startDate:s.toISOString().split("T")[0],endDate:e}},k=async()=>{try{var e,t;c(!0),await w(1);let{startDate:l,endDate:r}=A();if("custom"===o){if(!l||!r){e8.Ay.error("Please select both start and end dates"),c(!1);return}if(new Date(l)>new Date(r)){e8.Ay.error("Start date cannot be later than end date"),c(!1);return}}let n=await (0,tP.i6)({ownerId:a.id,theaterId:s.id,startDate:l,endDate:r});console.log("the response for the getTheaterWiseRevenueApi",n.data);let d=null==(e=n.data)?void 0:e.find(e=>e.theaterId===s._id);d?i({totalRevenue:d.totalRevenue,totalBookings:d.totalBookings,avgTicketPrice:d.avgTicketPrice,marketShare:d.marketShare}):(i({totalRevenue:0,totalBookings:0,avgTicketPrice:0,marketShare:0}),(null==(t=n.data)?void 0:t.length)===0&&e8.Ay.error("No data available for the selected date range"))}catch(e){console.error("Error fetching analytics:",e),e8.Ay.error("No data available for these time ranges"),i({totalRevenue:0,totalBookings:0,avgTicketPrice:0,marketShare:0})}finally{c(!1)}},S=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return((0,l.useEffect)(()=>{"custom"!==o&&k()},[s._id,a._id,o]),n)?(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-2xl p-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading theater analytics..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:(0,t.jsx)(sF.A,{className:"w-8 h-8 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(tT().className," text-2xl text-yellow-400 font-medium"),children:s.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-300 mt-1",children:[(0,t.jsx)(s2.A,{size:14}),(0,t.jsxs)("span",{className:"".concat(tF().className," text-sm"),children:[s.city,", ",s.state]}),(0,t.jsx)("span",{className:"text-gray-500",children:"•"}),(0,t.jsxs)("span",{className:"".concat(tF().className," text-sm"),children:["Owner: ",a.name]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[["week","month","quarter","year"].map(e=>(0,t.jsx)("button",{onClick:()=>(e=>{d(e),"custom"!==e&&h(!1)})(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(o===e?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"),children:e.charAt(0).toUpperCase()+e.slice(1)},e)),(0,t.jsxs)("button",{onClick:()=>h(!m),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ".concat("custom"===o?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"),children:[(0,t.jsx)(g.A,{className:"w-4 h-4"}),"custom"===o?"custom"===o&&u.startDate&&u.endDate?"".concat(S(u.startDate)," - ").concat(S(u.endDate)):o.charAt(0).toUpperCase()+o.slice(1):"Custom"]})]})]}),m&&(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(W.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(tT().className," text-lg text-yellow-400 font-medium"),children:"Custom Date Range"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"".concat(tF().className," block text-sm font-medium text-gray-300 mb-2"),children:"From Date"}),(0,t.jsx)("input",{type:"date",value:u.startDate,onChange:e=>p(s=>({...s,startDate:e.target.value})),className:"w-full px-3 py-2 bg-gray-700/50 border border-yellow-500/30 rounded-lg text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",max:new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"".concat(tF().className," block text-sm font-medium text-gray-300 mb-2"),children:"To Date"}),(0,t.jsx)("input",{type:"date",value:u.endDate,onChange:e=>p(s=>({...s,endDate:e.target.value})),className:"w-full px-3 py-2 bg-gray-700/50 border border-yellow-500/30 rounded-lg text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",min:u.startDate,max:new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>u.startDate&&u.endDate?new Date(u.startDate)>new Date(u.endDate)?void e8.Ay.error("Start date cannot be later than end date"):void(d("custom"),h(!1),k()):void e8.Ay.error("Please select both start and end dates"),className:"px-6 py-2 bg-yellow-500 hover:bg-yellow-400 text-black rounded-lg font-medium transition-all duration-200",children:"Apply"}),(0,t.jsx)("button",{onClick:()=>h(!1),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-all duration-200",children:"Cancel"})]})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-700/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,t.jsx)("span",{className:"".concat(tF().className," text-sm text-gray-400 mr-2"),children:"Quick select:"}),[{label:"Last 7 days",days:7},{label:"Last 30 days",days:30},{label:"Last 90 days",days:90}].map(e=>(0,t.jsx)("button",{onClick:()=>{let s=new Date,a=new Date;a.setDate(s.getDate()-e.days),p({startDate:a.toISOString().split("T")[0],endDate:s.toISOString().split("T")[0]})},className:"px-3 py-1 text-xs bg-gray-600/50 text-gray-300 rounded border border-yellow-500/20 hover:border-yellow-500/40 hover:bg-gray-600/70 transition-all duration-200",children:e.label},e.days))]})})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(x.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h3",{className:"".concat(tT().className," text-lg text-yellow-400 font-medium"),children:"Revenue Analytics"})]}),(0,t.jsx)(tR,{analyticsData:r}),(0,t.jsx)(tV,{bookings:(null==y?void 0:y.bookings)||[],totalBookings:(null==y?void 0:y.pagination.totalBookings)||0,currentPage:(null==y?void 0:y.pagination.currentPage)||1,totalPages:(null==y?void 0:y.pagination.totalPages)||1,onPageChange:e=>{f(e),w(e)},isLoading:j})]})]})},tG=e=>{let{items:s}=e;return(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-1.5 rounded",children:(0,t.jsx)(tg.A,{className:"w-3 h-3 text-yellow-400"})}),s.map((e,s)=>(0,t.jsxs)(l.Fragment,{children:[s>0&&(0,t.jsx)(ed.A,{className:"w-4 h-4 text-gray-500"}),e.onClick?(0,t.jsx)("button",{onClick:e.onClick,className:"".concat(tm().className," transition-all duration-200 px-3 py-1.5 rounded-lg hover:bg-gray-800/50 ").concat(e.active?"text-yellow-400 font-medium bg-yellow-500/10 border border-yellow-500/20":"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10"),children:e.label}):(0,t.jsx)("span",{className:"".concat(tm().className," text-white font-medium px-3 py-1.5 bg-gray-800/50 rounded-lg border border-gray-600/50"),children:e.label})]},s))]})})},tq=()=>{let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)(null),i=()=>{s(null),r(null)},n=()=>{r(null)},o=e?a?tu.A:sF.A:th.A,d=[{label:"Bookings Management",onClick:e?i:void 0,active:!e},...e?[{label:e.name,onClick:a?n:void 0,active:!a}]:[],...a?[{label:a.name,active:!0}]:[]];return(0,t.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[e&&(0,t.jsx)("button",{onClick:a?n:i,className:"p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200 text-gray-400 hover:text-white",children:(0,t.jsx)(tp.A,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:(0,t.jsx)(o,{className:"w-8 h-8 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"".concat(td().className," text-3xl text-yellow-400 font-medium flex items-center gap-3"),children:e?a?"".concat(a.name):"".concat(e.name):"Bookings Management"}),(0,t.jsx)("p",{className:"".concat(tm().className," text-gray-300 mt-1"),children:e?a?"Theater booking analytics and revenue breakdown":"Select a theater to view detailed booking analytics":"View and manage theater bookings and revenue analytics"})]})]})]}),a&&(0,t.jsxs)("button",{onClick:n,className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-3 rounded-lg transition-all duration-200 font-medium",children:[(0,t.jsx)(tp.A,{className:"w-4 h-4"}),"Back to Theaters"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-yellow-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("span",{className:"text-blue-400 text-sm font-medium",children:e?e.name:"All Owners"})]}),e&&(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,t.jsx)(sF.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("span",{className:"text-green-400 text-sm font-medium",children:a?a.name:"Theater Selection"})]}),a&&(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:[(0,t.jsx)(tu.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("span",{className:"text-purple-400 text-sm font-medium",children:"Analytics View"})]})]})]}),(0,t.jsx)(tG,{items:d}),(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:e?a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(tu.A,{className:"text-yellow-400",size:20}),(0,t.jsxs)("h2",{className:"".concat(td().className," text-lg text-yellow-400 font-medium"),children:["Analytics - ",a.name]})]}),(0,t.jsx)(tB,{selectedTheater:a,selectedOwner:e})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(sF.A,{className:"text-yellow-400",size:20}),(0,t.jsxs)("h2",{className:"".concat(td().className," text-lg text-yellow-400 font-medium"),children:["Theaters - ",e.name]})]}),(0,t.jsx)(tS,{selectedOwner:e,onTheaterSelect:e=>{r(e)}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(c.A,{className:"text-yellow-400",size:20}),(0,t.jsx)("h2",{className:"".concat(td().className," text-lg text-yellow-400 font-medium"),children:"Theater Owners"})]}),(0,t.jsx)(tN,{onOwnerSelect:e=>{s(e),r(null)}})]})})]})})};var tW=a(53904);class tY extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Analytics Error Boundary caught an error:",e,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,t.jsx)("div",{className:"bg-gray-900/90 border border-red-500/20 rounded-lg p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-500/20 border border-red-500/30 mb-4",children:(0,t.jsx)(ao.A,{className:"h-6 w-6 text-red-400"})}),(0,t.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium mb-2",children:"Something went wrong"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:"There was an error loading the analytics data. Please try again."}),this.state.error&&(0,t.jsxs)("details",{className:"text-left mb-4",children:[(0,t.jsx)("summary",{className:"cursor-pointer text-sm text-gray-400 mb-2",children:"Error details"}),(0,t.jsx)("pre",{className:"text-xs bg-gray-800/50 border border-yellow-500/30 p-2 rounded overflow-auto text-gray-300",children:this.state.error.message})]}),(0,t.jsxs)("button",{onClick:this.handleRetry,className:"inline-flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200",children:[(0,t.jsx)(tW.A,{className:"w-4 h-4"}),"Try Again"]})]})}):this.props.children}constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}}var tH=a(91788);let tJ=e=>{let{title:s,subtitle:a,onFilterClick:l,onExportClick:r,onRefreshClick:i,isRefreshing:n=!1,activeFilters:o,className:d=""}=e,m=()=>o?Object.values(o).filter(Boolean).length:0;return(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ".concat(d),children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg",children:(0,t.jsx)(x.A,{className:"w-6 h-6 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl text-yellow-400 font-medium",children:s}),a&&(0,t.jsx)("p",{className:"text-gray-300 mt-1",children:a}),o&&m()>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[o.dateRange&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm border border-yellow-500/30",children:[(0,t.jsx)(g.A,{className:"w-3 h-3"}),o.dateRange]}),o.owner&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm border border-green-500/30",children:[(0,t.jsx)(c.A,{className:"w-3 h-3"}),o.owner]}),o.theater&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm border border-purple-500/30",children:[(0,t.jsx)(sF.A,{className:"w-3 h-3"}),o.theater]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:l,className:"relative flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-all duration-200",children:[(0,t.jsx)(W.A,{className:"w-4 h-4"}),"Filters",m()>0&&(0,t.jsx)("span",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:m()})]}),(0,t.jsxs)("button",{onClick:i,disabled:n,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[(0,t.jsx)(tW.A,{className:"w-4 h-4 ".concat(n?"animate-spin":"")}),"Refresh"]}),(0,t.jsxs)("button",{onClick:r,className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200",children:[(0,t.jsx)(tH.A,{className:"w-4 h-4"}),"Export"]})]})]})})};var tZ=a(23562);let tQ=e=>{let{startDate:s,endDate:a,onStartDateChange:l,onEndDateChange:r,className:i=""}=e,n=e=>{let s=new Date,a=new Date;a.setDate(a.getDate()-e),l(a.toISOString().split("T")[0]),r(s.toISOString().split("T")[0])};return(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ".concat(i),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(tZ.A,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:"Date Range"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"From"}),(0,t.jsx)("input",{type:"date",value:s,onChange:e=>l(e.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"To"}),(0,t.jsx)("input",{type:"date",value:a,onChange:e=>r(e.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[(0,t.jsx)("button",{onClick:()=>n(7),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200",children:"Last 7 days"}),(0,t.jsx)("button",{onClick:()=>n(30),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200",children:"Last 30 days"}),(0,t.jsx)("button",{onClick:()=>n(90),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200",children:"Last 90 days"})]})]})},tX=e=>{let{isOpen:s,onClose:a,filters:l,onFiltersChange:r,ownerOptions:i=[],theaterOptions:n=[],movieOptions:c=[]}=e;if(!s)return null;let o=(e,s)=>{r({...l,[e]:""===s?void 0:s})};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W.A,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:"Filters"})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-full transition-all duration-200",children:(0,t.jsx)(eS.A,{className:"w-5 h-5 text-gray-300"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[i.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Owner"}),(0,t.jsxs)("select",{value:l.ownerId||"",onChange:e=>o("ownerId",e.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200",children:[(0,t.jsx)("option",{value:"",children:"All Owners"}),i.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),n.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Theater"}),(0,t.jsxs)("select",{value:l.theaterId||"",onChange:e=>o("theaterId",e.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200",children:[(0,t.jsx)("option",{value:"",children:"All Theaters"}),n.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),c.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Movie"}),(0,t.jsxs)("select",{value:l.movieId||"",onChange:e=>o("movieId",e.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200",children:[(0,t.jsx)("option",{value:"",children:"All Movies"}),c.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 p-6 border-t border-yellow-500/20",children:[(0,t.jsx)("button",{onClick:()=>{r({})},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Clear All"}),(0,t.jsx)("button",{onClick:a,className:"flex-1 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200",children:"Apply Filters"})]})]})})},tK=e=>{let{tabs:s,activeTab:a,onTabChange:l,className:r=""}=e;return(0,t.jsx)("div",{className:"border-b border-yellow-500/20 ".concat(r),children:(0,t.jsx)("nav",{className:"flex space-x-8",children:s.map(e=>(0,t.jsx)("button",{onClick:()=>!e.disabled&&l(e.id),disabled:e.disabled,className:"py-2 px-1 border-b-2 font-medium text-sm transition-all duration-200 ".concat(a===e.id?"border-yellow-500 text-yellow-400":e.disabled?"border-transparent text-gray-600 cursor-not-allowed":"border-transparent text-gray-300 hover:text-white hover:border-yellow-500/50"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.label,void 0!==e.count&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(a===e.id?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-300"),children:e.count})]})},e.id))})})};var t$=a(81284);let t0=e=>{let{type:s,title:a,message:r,visible:i,onClose:n,autoClose:c=!0,duration:o=5e3}=e;if((0,l.useEffect)(()=>{if(i&&c){let e=setTimeout(()=>{n()},o);return()=>clearTimeout(e)}},[i,c,o,n]),!i)return null;let d={success:(0,t.jsx)(sC.A,{className:"w-5 h-5 text-green-400"}),error:(0,t.jsx)(sT.A,{className:"w-5 h-5 text-red-400"}),warning:(0,t.jsx)(sq.A,{className:"w-5 h-5 text-yellow-400"}),info:(0,t.jsx)(t$.A,{className:"w-5 h-5 text-blue-400"})};return(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right duration-300",children:(0,t.jsx)("div",{className:"max-w-sm w-full border rounded-lg p-4 shadow-xl backdrop-blur-sm ".concat({success:"bg-gray-900/95 border-green-500/30",error:"bg-gray-900/95 border-red-500/30",warning:"bg-gray-900/95 border-yellow-500/30",info:"bg-gray-900/95 border-blue-500/30"}[s]),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:d[s]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-semibold text-white text-sm",children:a}),(0,t.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:r})]}),(0,t.jsx)("button",{onClick:n,className:"flex-shrink-0 p-1 hover:bg-gray-700 rounded transition-all duration-200",children:(0,t.jsx)(eS.A,{className:"w-4 h-4 text-gray-300"})})]})})})},t4=e=>{let{isOpen:s,onClose:a,title:l,children:r,size:i="lg",showCloseButton:n=!0}=e;return s?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]," max-h-[90vh] overflow-hidden"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20",children:[(0,t.jsx)("h2",{className:"text-2xl text-yellow-400 font-medium",children:l}),n&&(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-full transition-all duration-200",children:(0,t.jsx)(eS.A,{className:"w-5 h-5 text-gray-300"})})]}),(0,t.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-theme(spacing.24))]",children:r})]})}):null},t2={COMPREHENSIVE:"/admin/analytics/comprehensive",REVENUE:"/admin/analytics/revenue",REVENUE_MONTHLY:"/admin/analytics/revenue/monthly",REVENUE_DAILY:"/admin/analytics/revenue/daily",REVENUE_THEATER_WISE:"/admin/analytics/revenue/theater-wise",REVENUE_OWNER_WISE:"/admin/analytics/revenue/owner-wise",REVENUE_MOVIE_WISE:"/admin/analytics/revenue/movie-wise",PERFORMANCE:"/admin/analytics/performance",PERFORMANCE_OCCUPANCY:"/admin/analytics/performance/occupancy",PERFORMANCE_TIME_SLOTS:"/admin/analytics/performance/time-slots",CUSTOMERS:"/admin/analytics/customers",CUSTOMERS_SATISFACTION:"/admin/analytics/customers/satisfaction",MOVIES:"/admin/analytics/movies",MOVIES_TOP_PERFORMING:"/admin/analytics/movies/top-performing",MOVIES_FORMAT_PERFORMANCE:"/admin/analytics/movies/format-performance",FINANCIAL:"/admin/analytics/financial",GROWTH:"/admin/analytics/growth",OPERATIONAL:"/admin/analytics/operational"},t1=async e=>(await e0.A.get(t2.COMPREHENSIVE,{params:e})).data,t5=async e=>(await e0.A.get(t2.REVENUE,{params:e})).data,t3=async e=>(await e0.A.get(t2.REVENUE_MONTHLY,{params:e})).data,t6=async e=>(await e0.A.get(t2.REVENUE_DAILY,{params:e})).data,t8=async e=>(await e0.A.get(t2.REVENUE_THEATER_WISE,{params:e})).data,t7=async e=>(await e0.A.get(t2.REVENUE_OWNER_WISE,{params:e})).data,t9=async e=>(await e0.A.get(t2.REVENUE_MOVIE_WISE,{params:e})).data,le=async e=>(await e0.A.get(t2.PERFORMANCE,{params:e})).data,ls=async e=>(await e0.A.get(t2.PERFORMANCE_OCCUPANCY,{params:e})).data,la=async e=>(await e0.A.get(t2.PERFORMANCE_TIME_SLOTS,{params:e})).data,lt=async e=>(await e0.A.get(t2.CUSTOMERS,{params:e})).data,ll=async e=>(await e0.A.get(t2.CUSTOMERS_SATISFACTION,{params:e})).data,lr=async e=>(await e0.A.get(t2.MOVIES,{params:e})).data,li=async e=>(await e0.A.get(t2.MOVIES_TOP_PERFORMING,{params:e})).data,ln=async e=>(await e0.A.get(t2.MOVIES_FORMAT_PERFORMANCE,{params:e})).data,lc=async e=>(await e0.A.get(t2.FINANCIAL,{params:e})).data,lo=async e=>(await e0.A.get(t2.GROWTH,{params:e})).data,ld=async e=>(await e0.A.get(t2.OPERATIONAL,{params:e})).data;var lx=a(56554);let lm=e=>{let{type:s="card",count:a=1}=e,l=Array.from({length:a}).map((e,a)=>{switch(s){case"table":return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg animate-pulse",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700/50",children:(0,t.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48"})}),(0,t.jsx)("div",{className:"p-4 space-y-3",children:Array.from({length:5}).map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32"}),(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-20"}),(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-16"})]},s))})]})},a);case"chart":return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 mb-4"}),(0,t.jsx)("div",{className:"h-64 bg-gray-700/50 rounded"})]})},a);default:return(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-24"}),(0,t.jsx)("div",{className:"h-8 bg-gray-700/50 rounded w-32"}),(0,t.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-20"})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-700/50 rounded-full"})]})})},a)}});return 1===a?l[0]:(0,t.jsx)("div",{className:"grid gap-6 ".concat("card"===s?"grid-cols-1 md:grid-cols-2 lg:grid-cols-4":"grid-cols-1"),children:l})},lg=e=>{let{title:s,value:a,subtitle:l,icon:r,iconColor:i="text-yellow-400",trend:n,loading:c=!1}=e;return c?(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-24"}),(0,t.jsx)("div",{className:"h-8 bg-gray-700/50 rounded w-32"}),(0,t.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-20"})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-700/50 rounded-full"})]})}):(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 hover:border-yellow-500/40 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-400",children:s}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a}),l&&(0,t.jsx)("p",{className:"text-xs text-gray-300",children:l}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-xs font-medium ".concat(n.isPositive?"text-green-400":"text-red-400"),children:[n.isPositive?"+":"",n.value,"%"]}),(0,t.jsx)("span",{className:"text-xs text-gray-300",children:"vs last period"})]})]}),(0,t.jsx)("div",{className:"p-3 rounded-full bg-gray-800/50 border border-yellow-500/30",children:(0,t.jsx)(r,{className:"w-6 h-6 ".concat(i)})})]})})};var lh=a(16785),lu=a(74017);let lp=e=>{let s,{metrics:a,loading:l=!1,className:r=""}=e,i=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),n=[{title:"Total Revenue",value:i((null==a?void 0:a.totalRevenue)||0),icon:th.A,iconColor:"text-green-400",trend:(null==a?void 0:a.growthRate)?{value:a.growthRate,isPositive:a.growthRate>0}:void 0},{title:"Total Bookings",value:(s=(null==a?void 0:a.totalBookings)||0,new Intl.NumberFormat("en-IN").format(s)),subtitle:"tickets sold",icon:g.A,iconColor:"text-blue-400"},{title:"Avg Ticket Price",value:i((null==a?void 0:a.averageTicketPrice)||0),icon:lh.A,iconColor:"text-purple-400"},{title:"Occupancy Rate",value:"".concat(((null==a?void 0:a.occupancyRate)||0).toFixed(1),"%"),icon:c.A,iconColor:"text-orange-400"},{title:"Customer Satisfaction",value:"".concat(((null==a?void 0:a.customerSatisfaction)||0).toFixed(1),"/5"),icon:tu.A,iconColor:"text-pink-400"},{title:"Growth Rate",value:"".concat(((null==a?void 0:a.growthRate)||0).toFixed(1),"%"),subtitle:"vs last period",icon:lu.A,iconColor:(null==a?void 0:a.growthRate)>=0?"text-green-400":"text-red-400"}];return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 ".concat(r),children:n.map((e,s)=>(0,t.jsx)(lg,{title:e.title,value:e.value,subtitle:e.subtitle,icon:e.icon,iconColor:e.iconColor,trend:e.trend,loading:l},s))})};var ly=a(68500),lb=a(87712);let lj=e=>{let{stats:s,loading:a=!1,className:l=""}=e;return a?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ".concat(l),children:Array.from({length:4}).map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-20 mb-2"}),(0,t.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-24 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-16"})]},s))}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ".concat(l),children:s.map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 hover:border-yellow-500/40 transition-all duration-200",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-400",children:e.label}),(0,t.jsx)("p",{className:"text-xl font-bold text-white",children:((e,s)=>{if("string"==typeof e)return e;switch(s){case"currency":return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e);case"percentage":return"".concat(e.toFixed(1),"%");default:return new Intl.NumberFormat("en-IN").format(e)}})(e.value,e.format)}),e.change&&(0,t.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"increase":return"text-green-400 bg-green-500/20";case"decrease":return"text-red-400 bg-red-500/20";default:return"text-gray-300 bg-gray-500/20"}})(e.change.type)),children:[(e=>{switch(e){case"increase":return(0,t.jsx)(tu.A,{className:"w-3 h-3"});case"decrease":return(0,t.jsx)(ly.A,{className:"w-3 h-3"});default:return(0,t.jsx)(lb.A,{className:"w-3 h-3"})}})(e.change.type),(0,t.jsxs)("span",{children:[e.change.value>0?"+":"",e.change.value.toFixed(1),"%"]}),(0,t.jsx)("span",{className:"text-gray-300",children:e.change.period})]})]})},s))})},lv=e=>{var s,a,l,r,i;let{data:n,loading:c,fetchData:o}=e,d=n.comprehensive;return c&&!d?(0,t.jsx)(lm,{type:"card",count:6}):d?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(lj,{stats:[{label:"Total Revenue",value:d.totalRevenue||0,format:"currency",change:{value:d.revenueGrowthRate||0,type:(d.revenueGrowthRate||0)>=0?"increase":"decrease",period:"vs last month"}},{label:"Total Bookings",value:d.totalBookings||0,format:"number"},{label:"Avg Occupancy",value:d.avgOccupancy||0,format:"percentage"},{label:"Customer Satisfaction",value:"".concat(((null==(s=d.platformHealth)?void 0:s.customerSatisfactionScore)||0).toFixed(1),"/5")}],loading:c}),(0,t.jsx)(lp,{metrics:{totalRevenue:d.totalRevenue||0,totalBookings:d.totalBookings||0,averageTicketPrice:0,occupancyRate:d.avgOccupancy||0,customerSatisfaction:(null==(a=d.platformHealth)?void 0:a.customerSatisfactionScore)||0,growthRate:d.revenueGrowthRate||0},loading:c}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-sm border",children:[(0,t.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Platform Health"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"Payment Success Rate"}),(0,t.jsxs)("span",{className:"font-medium text-white",children:[(null==(l=d.platformHealth)?void 0:l.paymentSuccessRate)||0,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"Cancellation Rate"}),(0,t.jsxs)("span",{className:"font-medium text-white",children:[(null==(r=d.platformHealth)?void 0:r.cancellationRate)||0,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"Customer Satisfaction"}),(0,t.jsxs)("span",{className:"font-medium text-white",children:[((null==(i=d.platformHealth)?void 0:i.customerSatisfactionScore)||0).toFixed(1),"/5"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-sm border",children:[(0,t.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Top Performers"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white text-sm",children:"Top Movie"}),(0,t.jsx)("p",{className:"font-medium text-white",children:d.topPerformingMovie||"No data"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white text-sm",children:"Top Theater"}),(0,t.jsx)("p",{className:"font-medium text-white",children:d.topPerformingTheater||"No data"})]})]})]})]})]}):(0,t.jsx)(lx.A,{title:"No Analytics Data",description:"Unable to load analytics overview. Please check your filters and try again.",actionLabel:"Retry",onAction:()=>o()})};var lN=a(47863),lf=a(66474);let lw=e=>{let{title:s,columns:a,data:r,loading:i=!1,sortBy:n,sortOrder:c,onSort:o,className:d=""}=e;return i?(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg overflow-hidden ".concat(d),children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700/50",children:(0,t.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 animate-pulse"})}),(0,t.jsx)("div",{className:"p-4 space-y-3",children:Array.from({length:5}).map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32"}),(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-20"}),(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-16"})]},s))})]}):(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg overflow-hidden ".concat(d),children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700/50",children:(0,t.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:s})}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-800/50",children:(0,t.jsx)("tr",{children:a.map(e=>(0,t.jsx)("th",{className:"text-yellow-400 px-4 py-3 text-sm font-medium ".concat("right"===e.align?"text-right":"center"===e.align?"text-center":"text-left"," ").concat(e.sortable?"cursor-pointer hover:bg-yellow-500/5 transition-all duration-200":""),onClick:()=>(e=>{e.sortable&&o&&o(e.key)})(e),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[e.label,e.sortable&&n===e.key&&("asc"===c?(0,t.jsx)(lN.A,{className:"w-4 h-4"}):(0,t.jsx)(lf.A,{className:"w-4 h-4"}))]})},e.key))})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-700/50",children:r.map((e,s)=>(0,t.jsx)("tr",{className:"hover:bg-yellow-500/5 border-b border-gray-700/50 transition-all duration-200",children:a.map(s=>(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white ".concat("right"===s.align?"text-right":"center"===s.align?"text-center":"text-left"),children:s.render?s.render(e[s.key],e):(e=>{if(null==e)return"";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return String(e);if(l.isValidElement(e))return e;try{return JSON.stringify(e)}catch(s){return String(e)}})(e[s.key])},s.key))},s))})]}),0===r.length&&(0,t.jsx)("div",{className:"text-center py-8 text-gray-300",children:"No data available"})]})]})},lA=e=>{let{title:s,subtitle:a,children:l,loading:r=!1,onRefresh:i,onDownload:n,className:c="",height:o="h-80"}=e;return r?(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ".concat(c),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 animate-pulse"}),a&&(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32 animate-pulse"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-700/50 rounded animate-pulse"}),(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-700/50 rounded animate-pulse"})]})]}),(0,t.jsx)("div",{className:"bg-gray-700/50 rounded animate-pulse ".concat(o)})]}):(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ".concat(c),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:s})]}),a&&(0,t.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:a})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[i&&(0,t.jsx)("button",{onClick:i,className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded transition-all duration-200",title:"Refresh",children:(0,t.jsx)(tW.A,{className:"w-4 h-4"})}),n&&(0,t.jsx)("button",{onClick:n,className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded transition-all duration-200",title:"Download",children:(0,t.jsx)(tH.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:o,children:l})]})},lk=e=>{let{data:s,loading:a=!1,type:l="daily",onRefresh:r,onDownload:i}=e,n=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e);return(0,t.jsx)(lA,{title:"".concat("daily"===l?"Daily":"Monthly"," Revenue Trends"),subtitle:"Revenue performance over ".concat("daily"===l?"days":"months"),loading:a,onRefresh:r,onDownload:i,height:"h-80",children:(()=>{if(!s||0===s.length)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-gray-300",children:"No revenue data available"});let e=Math.max(...s.map(e=>e.revenue));return(0,t.jsx)("div",{className:"h-full flex items-end justify-between gap-2 px-4",children:s.map((s,a)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-full bg-yellow-500 rounded-t-sm hover:bg-yellow-400 transition-colors cursor-pointer relative group",style:{height:"".concat(s.revenue/e*200,"px"),minHeight:"4px"},title:"".concat(s.date,": ").concat(n(s.revenue)),children:(0,t.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900/90 border border-yellow-500/20 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:n(s.revenue)})}),(0,t.jsx)("div",{className:"text-xs text-gray-300 mt-2 transform -rotate-45 origin-left",children:new Date(s.date).toLocaleDateString("en-IN",{month:"short",day:"numeric"})})]},a))})})()})};var lS=a(17951);let lC=e=>{let{title:s,data:a,loading:l=!1,type:r="revenue",limit:i=5,className:n=""}=e;if(l)return(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ".concat(n),children:[(0,t.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 mb-4 animate-pulse"}),(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:i}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 animate-pulse",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-gray-700/50 rounded"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32 mb-1"}),(0,t.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-20"})]}),(0,t.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-16"})]},s))})]});let c=a.slice(0,i);return(0,t.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ".concat(n),children:[(0,t.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium mb-4",children:s}),0===c.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-300",children:"No data available"}):(0,t.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-yellow-500/5 transition-all duration-200",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-6",children:(e=>1===e?(0,t.jsx)(lS.A,{className:"w-4 h-4 text-yellow-400"}):(0,t.jsxs)("span",{className:"text-sm font-semibold text-gray-400",children:["#",e]}))(e.rank)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-white truncate",children:e.name}),e.subtitle&&(0,t.jsx)("div",{className:"text-sm text-gray-300 truncate",children:e.subtitle})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-semibold text-white",children:(e=>{switch(r){case"revenue":return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e);case"occupancy":return"".concat(e.toFixed(1),"%");default:return new Intl.NumberFormat("en-IN").format(e)}})(e.value)}),void 0!==e.change&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs ".concat(e.change>=0?"text-green-400":"text-red-400"),children:[e.change>=0?(0,t.jsx)(tu.A,{className:"w-3 h-3"}):(0,t.jsx)(ly.A,{className:"w-3 h-3"}),Math.abs(e.change).toFixed(1),"%"]})]})]},e.id))})]})},lT=e=>{var s,a,l,r,i,n,c,o;let{data:d,loading:x,fetchData:m}=e,g=d.revenue;if(x&&!g)return(0,t.jsx)(lm,{type:"chart",count:2});if(!g)return(0,t.jsx)(lx.A,{title:"No Revenue Data",description:"Unable to load revenue analytics. Please adjust your filters and try again.",actionLabel:"Retry",onAction:()=>m()});let h=[{key:"name",label:"Theater",sortable:!0},{key:"revenue",label:"Revenue",sortable:!0,align:"right",render:e=>"₹".concat(e.toLocaleString())},{key:"bookings",label:"Bookings",sortable:!0,align:"right"},{key:"occupancy",label:"Occupancy",sortable:!0,align:"right",render:e=>"".concat(e.toFixed(1),"%")}],u=Array.isArray(null==(s=g.daily)?void 0:s.trends)?g.daily.trends:[],p=Array.isArray(null==(a=g.monthly)?void 0:a.trends)?g.monthly.trends:[],y=Array.isArray(null==(l=g.theaterWise)?void 0:l.theaters)?g.theaterWise.theaters:[],b=Array.isArray(null==(r=g.ownerWise)?void 0:r.owners)?g.ownerWise.owners:[];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(lj,{stats:[{label:"Total Revenue",value:(null==(i=g.overview)?void 0:i.totalRevenue)||0,format:"currency"},{label:"Net Revenue",value:(null==(n=g.overview)?void 0:n.netRevenue)||0,format:"currency"},{label:"Platform Commission",value:(null==(c=g.overview)?void 0:c.platformCommission)||0,format:"currency"},{label:"Growth Rate",value:(null==(o=g.overview)?void 0:o.growthRate)||0,format:"percentage"}],loading:x}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(lk,{data:u,loading:x,type:"daily",onRefresh:()=>m()}),(0,t.jsx)(lk,{data:p,loading:x,type:"monthly",onRefresh:()=>m()})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(lw,{title:"Theater-wise Revenue",columns:h,data:y,loading:x}),(0,t.jsx)(lC,{title:"Top Revenue Generating Owners",data:b.slice(0,10).map((e,s)=>({id:e.ownerId||s,name:e.email||"Unknown Owner",value:e.revenue||0,subtitle:"".concat(e.bookings||0," bookings • ").concat(e.theatersCount||0," theaters"),rank:s+1})),type:"revenue",loading:x})]})]})},lz=e=>{var s,a,l,r,i,n,c,o,d,x,m;let{data:g,loading:h,fetchData:u}=e,p=g.performance;return h&&!p?(0,t.jsx)(lm,{type:"card",count:4}):p?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(lj,{stats:[{label:"Average Occupancy",value:(null==(s=p.metrics)?void 0:s.avgOccupancy)||0,format:"percentage"},{label:"Screen Efficiency",value:(null==(a=p.metrics)?void 0:a.screenEfficiency)||0,format:"percentage"},{label:"Theater Utilization",value:(null==(l=p.metrics)?void 0:l.theaterUtilization)||0,format:"percentage"},{label:"Average Ticket Price",value:(null==(r=p.metrics)?void 0:r.avgTicketPrice)||0,format:"currency"}],loading:h}),(0,t.jsx)(lp,{metrics:{totalRevenue:0,totalBookings:0,averageTicketPrice:(null==(i=p.metrics)?void 0:i.avgTicketPrice)||0,occupancyRate:(null==(n=p.metrics)?void 0:n.avgOccupancy)||0,customerSatisfaction:0,growthRate:0},loading:h}),(null==(c=p.metrics)?void 0:c.weekdayWeekendComparison)&&(0,t.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-sm border",children:[(0,t.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Weekday vs Weekend Performance"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-white mb-2",children:"Weekday"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"Bookings"}),(0,t.jsx)("span",{className:"font-medium text-white",children:(null==(o=p.metrics.weekdayWeekendComparison.weekday)?void 0:o.bookings)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"Revenue"}),(0,t.jsxs)("span",{className:"font-medium text-white",children:["₹",((null==(d=p.metrics.weekdayWeekendComparison.weekday)?void 0:d.revenue)||0).toLocaleString()]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-white mb-2",children:"Weekend"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"Bookings"}),(0,t.jsx)("span",{className:"font-medium text-white",children:(null==(x=p.metrics.weekdayWeekendComparison.weekend)?void 0:x.bookings)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"Revenue"}),(0,t.jsxs)("span",{className:"font-medium text-white",children:["₹",((null==(m=p.metrics.weekdayWeekendComparison.weekend)?void 0:m.revenue)||0).toLocaleString()]})]})]})]})]})]})]}):(0,t.jsx)(lx.A,{title:"No Performance Data",description:"Unable to load performance analytics. Please check your filters and try again.",actionLabel:"Retry",onAction:()=>u()})};var lF=a(3925);let lD=()=>{let[e,s]=(0,l.useState)("overview"),[a,r]=(0,l.useState)(!1),[i,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)({}),[d,x]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!1),[h,u]=(0,l.useState)(null),[p,y]=(0,l.useState)({type:"info",title:"",message:"",visible:!1}),[b,j]=(0,l.useState)(()=>{let e=new Date,s=new Date;return s.setDate(s.getDate()-30),{startDate:s.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]}}),v=(0,l.useCallback)((e,s,a)=>{y({type:e,title:s,message:a,visible:!0})},[]),N=(0,l.useCallback)(()=>{y(e=>({...e,visible:!1}))},[]),f=(0,l.useCallback)(async()=>{try{let e=await t1({startDate:b.startDate,endDate:b.endDate,ownerId:b.ownerId,theaterId:b.theaterId,movieId:b.movieId});return console.log(" Comprehensive Analytics Response:",e),e.data}catch(e){throw console.error(" Error fetching comprehensive analytics:",e),e}},[b]),w=(0,l.useCallback)(async()=>{try{let[e,s,a,t,l,r]=await Promise.all([t5(b),t3(b),t6(b),t8(b),t7(b),t9(b)]);return{overview:e.data,monthly:s.data,daily:a.data,theaterWise:t.data,ownerWise:l.data,movieWise:r.data}}catch(e){throw console.error(" Error fetching revenue analytics:",e),e}},[b]),A=(0,l.useCallback)(async()=>{try{let[e,s,a]=await Promise.all([le(b),ls(b),la(b)]);return{metrics:e.data,occupancy:s.data,timeSlots:a.data}}catch(e){throw console.error(" Error fetching performance analytics:",e),e}},[b]),k=(0,l.useCallback)(async()=>{try{let[e,s,a]=await Promise.all([lr(b),li(b),ln(b)]);return console.log("\uD83C\uDFAD Movie Performance Response:",e),console.log("\uD83C\uDFC6 Top Performing Movies Response:",s),console.log("\uD83D\uDCFA Movie Format Analytics Response:",a),{performance:e.data,topPerforming:s.data,formatAnalytics:a.data}}catch(e){throw console.error(" Error fetching movie analytics:",e),e}},[b]),S=(0,l.useCallback)(async()=>{try{let[e,s]=await Promise.all([lt(b),ll(b)]);return{insights:e.data,satisfaction:s.data}}catch(e){throw console.error(" Error fetching customer analytics:",e),e}},[b]),C=(0,l.useCallback)(async()=>{try{let[e,s]=await Promise.all([lc(b),lo(b)]);return{kpis:e.data,growth:s.data}}catch(e){throw console.error(" Error fetching financial analytics:",e),e}},[b]),T=(0,l.useCallback)(async()=>{try{let e=await ld(b);return console.log(" Operational Analytics Response:",e),e.data}catch(e){throw console.error(" Error fetching operational analytics:",e),e}},[b]),z=(0,l.useCallback)(async s=>{let a=s||e;r(!0);try{let e={};switch(a){case"overview":default:e.comprehensive=await f();break;case"revenue":e.revenue=await w();break;case"performance":e.performance=await A();break;case"movies":e.movies=await k();break;case"financial":e.financial=await C();break;case"operational":e.operational=await T()}o(s=>({...s,...e})),v("success","Data Updated","Analytics data has been refreshed successfully.")}catch(e){console.error(" Error fetching analytics data:",e),v("error","Error Loading Data","Failed to load analytics data. Please try again.")}finally{r(!1)}},[e,f,w,A,k,S,C,T,v]),F=(0,l.useCallback)(async()=>{n(!0);try{await z()}finally{n(!1)}},[z]),D=(0,l.useCallback)(e=>{s(e),c[e]||z(e)},[c,z]),E=(0,l.useCallback)(e=>{j(s=>({...s,...e}))},[]);(0,l.useCallback)(()=>{x(!1),z()},[z]);let R=(0,l.useCallback)(()=>{try{var s,a,t,l,r,i,n,o,d,x,m,g;let h=[],u=new Date().toISOString().split("T")[0],p="analytics_".concat(e,"_").concat(u,".xlsx");switch(e){case"overview":{let e=c.comprehensive;if(!e)return void v("warning","No Data","No overview data available to export.");h.push({name:"Quick Stats",rows:[{totalRevenue:e.totalRevenue||0,totalBookings:e.totalBookings||0,avgOccupancy:e.avgOccupancy||0,custSatisfaction:(null==(s=e.platformHealth)?void 0:s.customerSatisfactionScore)||0,revenueGrowthRate:e.revenueGrowthRate||0}]},{name:"Platform Health",rows:[e.platformHealth||{}]},{name:"Top Performers",rows:[{topMovie:e.topPerformingMovie||"No data",topTheater:e.topPerformingTheater||"No data"}]});break}case"revenue":{let e=c.revenue;if(!e)return void v("warning","No Data","No revenue data available to export.");h.push({name:"Overview",rows:[e.overview||{}]},{name:"Daily Trends",rows:Array.isArray(null==(a=e.daily)?void 0:a.trends)?e.daily.trends:[]},{name:"Monthly Trends",rows:Array.isArray(null==(t=e.monthly)?void 0:t.trends)?e.monthly.trends:[]},{name:"Theater Revenue",rows:Array.isArray(null==(l=e.theaterWise)?void 0:l.theaters)?e.theaterWise.theaters:[]},{name:"Owner Revenue",rows:Array.isArray(null==(r=e.ownerWise)?void 0:r.owners)?e.ownerWise.owners:[]});break}case"performance":{let e=c.performance;if(!e)return void v("warning","No Data","No performance data available to export.");h.push({name:"Metrics",rows:[e.metrics||{}]},{name:"Occupancy",rows:Array.isArray(e.occupancy)?e.occupancy:[]},{name:"Time Slots",rows:Array.isArray(e.timeSlots)?e.timeSlots:[]});break}case"customers":{let e=c.customers;if(!e)return void v("warning","No Data","No customer data available to export.");h.push({name:"Insights",rows:[e.insights||{}]},{name:"Age Groups",rows:Array.isArray(null==(n=e.insights)||null==(i=n.demographics)?void 0:i.ageGroups)?e.insights.demographics.ageGroups:[]},{name:"Cities",rows:Array.isArray(null==(d=e.insights)||null==(o=d.demographics)?void 0:o.locations)?e.insights.demographics.locations:[]},{name:"Rating Distribution",rows:Array.isArray(null==(x=e.satisfaction)?void 0:x.ratingDistribution)?e.satisfaction.ratingDistribution:[]});break}case"operational":{let e=c.operational;if(!e)return void v("warning","No Data","No operational data available to export.");h.push({name:"Platform Health",rows:[e.platformHealth||{}]},{name:"Payment Gateways",rows:Array.isArray(null==(m=e.paymentAnalytics)?void 0:m.gatewayPerformance)?e.paymentAnalytics.gatewayPerformance:[]},{name:"Cancellation Reasons",rows:Array.isArray(null==(g=e.cancellationAnalytics)?void 0:g.topCancellationReasons)?e.cancellationAnalytics.topCancellationReasons:[]},{name:"Seasonal Trends",rows:Array.isArray(e.seasonalTrends)?e.seasonalTrends:[]});break}default:v("error","Export Error","Unknown tab selected for export.");return}if(0===h.length)return void v("warning","No Data","No data available to export for the current tab.");!function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"analytics.xlsx",a=lF.Wp.book_new();e.forEach(e=>{let s=lF.Wp.json_to_sheet(e.rows);lF.Wp.book_append_sheet(a,s,e.name)}),lF._h(a,s)}(h,p),v("success","Export Complete","Analytics data exported successfully as ".concat(p))}catch(e){console.error(" Export error:",e),v("error","Export Failed","Failed to export analytics data. Please try again.")}},[e,c,v]),P=(0,l.useCallback)(()=>{R()},[R]);return(0,l.useEffect)(()=>{z()},[]),(0,t.jsx)(tY,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-black p-6",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsx)(tJ,{title:"Analytics Dashboard",subtitle:"Comprehensive analytics and insights for your movie ticket booking platform",onFilterClick:()=>x(!0),onExportClick:P,onRefreshClick:F,isRefreshing:i,activeFilters:(()=>{let e={};return b.startDate&&b.endDate&&(e.dateRange="".concat(b.startDate," to ").concat(b.endDate)),e})()}),(0,t.jsx)(tQ,{startDate:b.startDate,endDate:b.endDate,onStartDateChange:e=>j(s=>({...s,startDate:e})),onEndDateChange:e=>j(s=>({...s,endDate:e}))}),(0,t.jsxs)("div",{className:"bg-black rounded-lg shadow-sm border",children:[(0,t.jsx)("div",{className:"px-6",children:(0,t.jsx)(tK,{tabs:[{id:"overview",label:"Overview",count:void 0},{id:"revenue",label:"Revenue",count:void 0},{id:"performance",label:"Performance",count:void 0},{id:"movies",label:"Movies",count:void 0},{id:"financial",label:"Financial",count:void 0}],activeTab:e,onTabChange:D})}),(0,t.jsx)("div",{className:"p-6",children:(()=>{switch(e){case"overview":default:return(0,t.jsx)(lv,{data:c,loading:a,fetchData:z});case"revenue":return(0,t.jsx)(lT,{data:c,loading:a,fetchData:z});case"performance":return(0,t.jsx)(lz,{data:c,loading:a,fetchData:z})}})()})]})]}),(0,t.jsx)(tX,{isOpen:d,onClose:()=>x(!1),filters:b,onFiltersChange:E}),(0,t.jsx)(t4,{isOpen:m,onClose:()=>g(!1),title:"Detailed Analytics",size:"xl",children:h}),(0,t.jsx)(t0,{type:p.type,title:p.title,message:p.message,visible:p.visible,onClose:N})]})})};var lE=a(54844),lR=a.n(lE),lP=a(48745),lI=a.n(lP);let lO=e=>{let{balance:s,onRefresh:a}=e,l=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e);return(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"p-4 bg-yellow-500/20 rounded-2xl",children:(0,t.jsx)(lS.A,{className:"w-8 h-8 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-1",style:{fontFamily:lI().style.fontFamily},children:"Platform Commission Balance"}),(0,t.jsx)("h2",{className:"".concat(lI().className," text-4xl text-yellow-400 font-bold"),children:l(s)}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(tu.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{className:"text-yellow-400 text-sm",style:{fontFamily:lI().style.fontFamily},children:"Platform earnings"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/10 text-gray-400 hover:text-white border border-gray-500/30",style:{fontFamily:lI().style.fontFamily},children:[(0,t.jsx)(tW.A,{className:"w-4 h-4"}),"Refresh"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-6 py-3 rounded-xl transition-all duration-300 bg-yellow-500 hover:bg-yellow-400 text-black font-medium",style:{fontFamily:lI().style.fontFamily},children:[(0,t.jsx)(tH.A,{className:"w-4 h-4"}),"Export Data"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-yellow-500/20",children:[(0,t.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:lI().style.fontFamily},children:"Today"}),(0,t.jsx)("p",{className:"".concat(lI().className," text-xl text-yellow-400 mt-1"),children:"₹0"})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:lI().style.fontFamily},children:"This Week"}),(0,t.jsx)("p",{className:"".concat(lI().className," text-xl text-yellow-400 mt-1"),children:"₹0"})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:lI().style.fontFamily},children:"This Month"}),(0,t.jsx)("p",{className:"".concat(lI().className," text-xl text-yellow-400 mt-1"),children:"₹0"})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:lI().style.fontFamily},children:"Total Commission"}),(0,t.jsx)("p",{className:"".concat(lI().className," text-xl text-yellow-400 font-bold mt-1"),children:l(s)})]})]})]})};var lM=a(7314),lL=a(24579),lU=a(1936),l_=a.n(lU);let lV=e=>{let{transactions:s}=e,[a,r]=(0,l.useState)(!1),i=a?s:s.slice(0,3);return(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"".concat(l_().className," text-2xl text-yellow-400"),children:"Transaction History"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,t.jsx)(g.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{style:{fontFamily:l_().style.fontFamily},children:"Commission Activity"})]})]}),0===s.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"p-4 bg-yellow-500/20 rounded-2xl w-fit mx-auto mb-4",children:(0,t.jsx)(lM.A,{className:"w-8 h-8 text-yellow-400"})}),(0,t.jsx)("p",{className:"".concat(l_().className," text-gray-400 text-lg"),children:"No transactions yet"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-2",style:{fontFamily:l_().style.fontFamily},children:"Platform commission history will appear here"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-4",children:i.map(e=>{let s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700/30 rounded-xl hover:bg-gray-700/50 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-600/50 rounded-lg",children:"credit"===e.type?(0,t.jsx)(lM.A,{className:"w-5 h-5 text-yellow-400"}):(0,t.jsx)(lL.A,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"".concat(l_().className," text-white font-medium"),children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded-lg border text-xs ".concat({revenue:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",refund:"bg-red-500/20 text-red-400 border-red-500/30",withdrawal:"bg-blue-500/20 text-blue-400 border-blue-500/30",commission:"bg-purple-500/20 text-purple-400 border-purple-500/30"}[e.category]||"bg-gray-500/20 text-gray-400 border-gray-500/30"),style:{fontFamily:l_().style.fontFamily},children:e.category.toUpperCase()}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:l_().style.fontFamily},children:new Date(e.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-lg font-semibold ".concat("credit"===e.type?"text-yellow-400":"text-red-400"," ").concat(l_().className),children:["credit"===e.type?"+":"-",(s=e.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(s))]}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:l_().style.fontFamily},children:e.status})]})]},e._id)})}),s.length>3&&(0,t.jsx)("div",{className:"flex justify-center mt-6",children:(0,t.jsx)("button",{onClick:()=>r(!a),className:"flex items-center gap-2 px-6 py-3 rounded-xl transition-all duration-300 hover:bg-white/10 text-gray-400 hover:text-white border border-gray-500/30",style:{fontFamily:l_().style.fontFamily},children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lN.A,{className:"w-4 h-4"}),"Show Less"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lf.A,{className:"w-4 h-4"}),"See More (",s.length-3," more)"]})})})]})]})},lB={WALLET:"/admin/wallet",TRANSACTIONS:"/admin/transaction"},lG=async()=>(await e0.A.get(lB.WALLET)).data,lq=async()=>(await e0.A.get(lB.TRANSACTIONS)).data,lW=()=>{let[e,s]=(0,l.useState)({balance:0,transactions:[]}),[a,r]=(0,l.useState)(!0),[i,n]=(0,l.useState)(!1);(0,l.useEffect)(()=>{c()},[]);let c=async()=>{try{var e;r(!0),console.log("Fetching admin wallet data...");let a=await lG();console.log("Admin wallet data:",a.data);let t=await lq();console.log("Admin transaction data:",t),s({balance:(null==(e=a.data)?void 0:e.balance)||0,transactions:t.data||[]})}catch(e){console.error("Error fetching admin wallet data:",e)}finally{r(!1)}};return a?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 p-6 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white text-xl",style:{fontFamily:lR().style.fontFamily},children:"Loading admin wallet..."})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"".concat(lR().className," text-3xl text-white mb-2 flex items-center gap-2"),children:[(0,t.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,t.jsx)(m.A,{className:"w-6 h-6 text-yellow-400"})}),"Admin Wallet Management"]}),(0,t.jsx)("p",{className:"text-gray-400",style:{fontFamily:lR().style.fontFamily},children:"View platform earnings, commission breakdown and transaction history."})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(lO,{balance:e.balance,onRefresh:c}),(0,t.jsx)(lV,{transactions:e.transactions})]})]})})},lY={BASE:"/admin/coupons",TOGGLE_STATUS:e=>"/admin/coupons/".concat(e)},lH=async e=>{let s=new URLSearchParams;return(null==e?void 0:e.page)&&s.append("page",e.page.toString()),(null==e?void 0:e.limit)&&s.append("limit",e.limit.toString()),(await e0.A.get(lY.BASE,{params:s})).data},lJ=async(e,s)=>(await e0.A.patch(lY.TOGGLE_STATUS(e),{isActive:s})).data;var lZ=a(47650),lQ=a(43453);let lX=e=>{let{coupon:s,lexend:a,onClose:l,onToggleStatus:r,loading:i}=e,n=new Date(s.expiryDate)<=new Date,o=s.currentUsageCount>=s.maxUsageCount,d=s.currentUsageCount/s.maxUsageCount*100,x=s.isActive?n?{text:"Expired",color:"text-red-400 bg-red-400/10 border-red-400/20",icon:ao.A}:o?{text:"Fully Used",color:"text-orange-400 bg-orange-400/10 border-orange-400/20",icon:c.A}:{text:"Active",color:"text-green-400 bg-green-400/10 border-green-400/20",icon:lQ.A}:{text:"Disabled",color:"text-gray-400 bg-gray-400/10 border-gray-400/20",icon:sf.A},m=x.icon,h=(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&l()},children:(0,t.jsxs)("div",{className:"bg-gray-800 border border-yellow-500/20 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,t.jsx)(lu.A,{className:"w-6 h-6 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"".concat(a.className," text-2xl text-white font-bold"),children:s.name}),(0,t.jsx)("p",{className:"text-gray-400 font-mono",style:{fontFamily:a.style.fontFamily},children:s.uniqueId})]})]}),(0,t.jsx)("button",{onClick:l,className:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors",children:(0,t.jsx)(eS.A,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"border rounded-xl p-4 ".concat(x.color),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(m,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium",style:{fontFamily:a.style.fontFamily},children:"Status"})]}),(0,t.jsx)("p",{className:"".concat(a.className," text-xl font-bold"),children:x.text})]}),(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(lu.A,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsx)("span",{className:"text-yellow-400 font-medium",style:{fontFamily:a.style.fontFamily},children:"Discount"})]}),(0,t.jsxs)("p",{className:"".concat(a.className," text-3xl text-yellow-400 font-bold"),children:[s.discountPercentage,"%"]})]}),(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(th.A,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-green-400 font-medium",style:{fontFamily:a.style.fontFamily},children:"Min Amount"})]}),(0,t.jsxs)("p",{className:"".concat(a.className," text-3xl text-green-400 font-bold"),children:["₹",s.minAmount]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(sc.A,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400 font-medium",style:{fontFamily:a.style.fontFamily},children:"Description"})]}),(0,t.jsx)("p",{className:"text-white leading-relaxed",style:{fontFamily:a.style.fontFamily},children:s.description||"No description provided"})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.A,{className:"w-5 h-5 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400 font-medium text-lg",style:{fontFamily:a.style.fontFamily},children:"Usage Statistics"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"text-center bg-gray-600/30 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-2",style:{fontFamily:a.style.fontFamily},children:"Current Usage"}),(0,t.jsx)("p",{className:"".concat(a.className," text-3xl text-yellow-400 font-bold"),children:s.currentUsageCount})]}),(0,t.jsxs)("div",{className:"text-center bg-gray-600/30 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-2",style:{fontFamily:a.style.fontFamily},children:"Max Usage"}),(0,t.jsx)("p",{className:"".concat(a.className," text-3xl text-white font-bold"),children:s.maxUsageCount})]}),(0,t.jsxs)("div",{className:"text-center bg-gray-600/30 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-2",style:{fontFamily:a.style.fontFamily},children:"Usage Rate"}),(0,t.jsxs)("p",{className:"".concat(a.className," text-3xl text-blue-400 font-bold"),children:[d.toFixed(1),"%"]})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-4",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 h-4 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:"".concat(Math.min(d,100),"%")},children:(0,t.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[(0,t.jsx)("span",{children:"0"}),(0,t.jsxs)("span",{className:"text-yellow-400 font-semibold",children:[d.toFixed(1),"%"]}),(0,t.jsx)("span",{children:s.maxUsageCount})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(s2.A,{className:"w-5 h-5 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-400 font-medium text-lg",style:{fontFamily:a.style.fontFamily},children:["Valid Theaters (",s.theaterIds.length,")"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.theaterIds.map(e=>(0,t.jsx)("div",{className:"bg-gray-600/30 border border-gray-500/30 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s2.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("p",{className:"text-white font-medium",style:{fontFamily:a.style.fontFamily},children:e.name})]})},e._id))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400 font-medium",style:{fontFamily:a.style.fontFamily},children:"Created Date"})]}),(0,t.jsx)("p",{className:"text-white text-lg",style:{fontFamily:a.style.fontFamily},children:new Date(s.createdAt).toLocaleString()})]}),(0,t.jsxs)("div",{className:"border rounded-xl p-4 ".concat(n?"bg-red-500/10 border-red-500/20":"bg-gray-700/30 border-gray-600/50"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(C.A,{className:"w-4 h-4 ".concat(n?"text-red-400":"text-gray-400")}),(0,t.jsx)("span",{className:"font-medium ".concat(n?"text-red-400":"text-gray-400"),style:{fontFamily:a.style.fontFamily},children:"Expiry Date"})]}),(0,t.jsx)("p",{className:"text-lg ".concat(n?"text-red-400":"text-white"),style:{fontFamily:a.style.fontFamily},children:new Date(s.expiryDate).toLocaleString()}),n&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",style:{fontFamily:a.style.fontFamily},children:"This coupon has expired"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-yellow-500/20",children:[(0,t.jsx)("button",{onClick:l,className:"px-6 py-3 text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-xl transition-all duration-300",style:{fontFamily:a.style.fontFamily},children:"Close"}),(0,t.jsx)("button",{onClick:()=>r(s._id),disabled:i,className:"flex items-center gap-2 px-6 py-3 rounded-xl transition-all duration-300 disabled:opacity-50 ".concat(s.isActive?"bg-red-500/20 hover:bg-red-500/30 text-red-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"),style:{fontFamily:a.style.fontFamily},children:s.isActive?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sf.A,{className:"w-4 h-4"}),"Disable Coupon"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lQ.A,{className:"w-4 h-4"}),"Enable Coupon"]})})]})]})});return(0,lZ.createPortal)(h,document.body)},lK=e=>{let{coupon:s,lexend:a,onViewDetails:l,onToggleStatus:r,loading:i}=e,n=new Date(s.expiryDate)<=new Date,c=s.currentUsageCount>=s.maxUsageCount,o=s.currentUsageCount/s.maxUsageCount*100,d=s.isActive?n?{text:"Expired",color:"text-red-400 bg-red-400/10"}:c?{text:"Fully Used",color:"text-orange-400 bg-orange-400/10"}:{text:"Active",color:"text-green-400 bg-green-400/10"}:{text:"Disabled",color:"text-gray-400 bg-gray-400/10"};return(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6 hover:border-yellow-500/30 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:(0,t.jsx)(lu.A,{className:"w-4 h-4 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"".concat(a.className," text-lg text-white font-semibold line-clamp-1"),children:s.name}),(0,t.jsx)("p",{className:"text-gray-400 text-sm font-mono",style:{fontFamily:a.style.fontFamily},children:s.uniqueId})]})]}),(0,t.jsx)("div",{className:"px-2 py-1 rounded-lg text-xs font-medium ".concat(d.color),children:d.text})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(lu.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:"Discount"})]}),(0,t.jsxs)("p",{className:"".concat(a.className," text-xl text-yellow-400 font-bold"),children:[s.discountPercentage,"%"]})]}),(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(th.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:"Min Amount"})]}),(0,t.jsxs)("p",{className:"".concat(a.className," text-lg text-green-400 font-semibold"),children:["₹",s.minAmount]})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:"Usage Progress"}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:[s.currentUsageCount,"/",s.maxUsageCount]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(o,100),"%")}})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(s2.A,{className:"w-4 h-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:["Valid at ",s.theaterIds.length," theater(s)"]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[s.theaterIds.slice(0,2).map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-700/30 rounded-lg p-2",children:(0,t.jsx)("p",{className:"text-white text-sm",style:{fontFamily:a.style.fontFamily},children:e.name})},e._id)),s.theaterIds.length>2&&(0,t.jsxs)("div",{className:"text-gray-500 text-sm",style:{fontFamily:a.style.fontFamily},children:["+",s.theaterIds.length-2," more theaters"]})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:["Expires: ",new Date(s.expiryDate).toLocaleDateString()]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>l(s),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg transition-all duration-300",style:{fontFamily:a.style.fontFamily},children:[(0,t.jsx)(sc.A,{className:"w-4 h-4"}),"Details"]}),(0,t.jsxs)("button",{onClick:()=>r(s._id,s.isActive),disabled:i,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 disabled:opacity-50 ".concat(s.isActive?"bg-red-500/20 hover:bg-red-500/30 text-red-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"),style:{fontFamily:a.style.fontFamily},children:[s.isActive?(0,t.jsx)(sf.A,{className:"w-4 h-4"}):(0,t.jsx)(lQ.A,{className:"w-4 h-4"}),s.isActive?"Disable":"Enable"]})]})]})},l$=e=>{let{lexend:s}=e,[a,r]=(0,l.useState)([]),[i,n]=(0,l.useState)(null),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!0),[u,p]=(0,l.useState)(!1),[y,b]=(0,l.useState)(null),[j,v]=(0,l.useState)(""),[N,f]=(0,l.useState)("all"),[w,A]=(0,l.useState)("all"),[k,S]=(0,l.useState)(1),[C]=(0,l.useState)(12),T=(0,l.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{g(!0),b(null);let s=await lH({page:e,limit:C});if(console.log(s),s.success&&s.data)r(s.data.data),n({currentPage:s.data.currentPage,totalPages:s.data.totalPages,hasNextPage:s.data.hasNextPage,hasPreviousPage:s.data.hasPreviousPage,totalCount:s.data.totalCount});else throw Error(s.message||"Failed to fetch coupons")}catch(e){b("Failed to fetch coupons. Please try again."),console.error("Error fetching coupons:",err)}finally{g(!1)}},[C]);(0,l.useEffect)(()=>{T(k)},[T,k]);let z=(0,l.useCallback)(()=>{if(!a||0===a.length)return[];let e=[...a];if(j){let s=j.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.uniqueId.toLowerCase().includes(s)||e.theaterIds.some(e=>e.name.toLowerCase().includes(s)))}if("all"!==N){let s=new Date;e=e.filter(e=>{switch(N){case"active":return e.isActive&&new Date(e.expiryDate)>s&&e.currentUsageCount<e.maxUsageCount;case"expired":return new Date(e.expiryDate)<=s;case"used":return e.currentUsageCount>=e.maxUsageCount;default:return!0}})}return"all"!==w&&(e=e.filter(e=>e.theaterIds.some(e=>e._id===w))),e},[a,j,N,w]),F=(0,l.useCallback)(()=>{if(!a||0===a.length)return[];let e=new Map;return a.forEach(s=>{s.theaterIds.forEach(s=>{e.has(s._id)||e.set(s._id,s)})}),Array.from(e.values())},[a]),D=(0,l.useCallback)(()=>{if(!a||0===a.length)return{active:0,expired:0,used:0,total:0};let e=new Date;return a.reduce((s,a)=>(s.total++,a.isActive&&(new Date(a.expiryDate)<=e?s.expired++:a.currentUsageCount>=a.maxUsageCount?s.used++:s.active++),s),{active:0,expired:0,used:0,total:0})},[a]),E=(0,l.useCallback)(e=>{o(e),x(!0)},[]),R=async(e,s)=>{try{if(!await (0,e7.f)({title:" Toggle Status?",message:'Are you sure you want to change status of this coupon"?',confirmText:"Confirm",cancelText:"Cancel"}))return;p(!0),console.log(e);let a=await lJ(e,!s);if(console.log(a),a.success||a.data)r(s=>s.map(s=>s._id===e?{...s,isActive:!s.isActive}:s)),(null==c?void 0:c._id)===e&&o(e=>e?{...e,isActive:!e.isActive}:null);else throw Error("Failed to update coupon status");e8.Ay.success("Status changed")}catch(e){b("Failed to update coupon status. Please try again."),console.error("Error toggling coupon status:",err)}finally{p(!1)}},P=(0,l.useCallback)(()=>{T(k)},[T,k]),I=z(),O=D(),M=F();return m&&(!a||0===a.length)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 p-6 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",style:{fontFamily:s.style.fontFamily},children:"Loading coupons..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 p-6",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"".concat(s.className," text-3xl text-white mb-2 flex items-center gap-2"),children:[(0,t.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,t.jsx)(h.A,{className:"w-6 h-6 text-yellow-400"})}),"Coupon Management"]}),(0,t.jsx)("p",{className:"text-gray-400",style:{fontFamily:s.style.fontFamily},children:"Manage discount coupons, monitor usage, and control availability across theaters."})]}),(0,t.jsxs)("button",{onClick:P,disabled:m,className:"flex items-center gap-2 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/10 text-gray-400 hover:text-white border border-gray-500/30 disabled:opacity-50",style:{fontFamily:s.style.fontFamily},children:[(0,t.jsx)(tW.A,{className:"w-4 h-4 ".concat(m?"animate-spin":"")}),"Refresh"]})]}),y&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-center gap-2",children:[(0,t.jsx)(sq.A,{className:"w-5 h-5 text-red-400"}),(0,t.jsx)("p",{className:"text-red-400",style:{fontFamily:s.style.fontFamily},children:y}),(0,t.jsx)("button",{onClick:()=>b(null),className:"ml-auto text-red-400 hover:text-red-300",children:"\xd7"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,t.jsx)(h.A,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:s.style.fontFamily},children:"Active"}),(0,t.jsx)("p",{className:"".concat(s.className," text-xl text-green-400 font-bold"),children:O.active})]})]})}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-red-500/20 rounded-lg",children:(0,t.jsx)(h.A,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:s.style.fontFamily},children:"Expired"}),(0,t.jsx)("p",{className:"".concat(s.className," text-xl text-red-400 font-bold"),children:O.expired})]})]})}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:(0,t.jsx)(h.A,{className:"w-5 h-5 text-orange-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:s.style.fontFamily},children:"Fully Used"}),(0,t.jsx)("p",{className:"".concat(s.className," text-xl text-orange-400 font-bold"),children:O.used})]})]})}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:(0,t.jsx)(h.A,{className:"w-5 h-5 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:s.style.fontFamily},children:"Total"}),(0,t.jsx)("p",{className:"".concat(s.className," text-xl text-yellow-400 font-bold"),children:O.total})]})]})})]}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by coupon name, code, or theater name...",value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:border-yellow-500/50 focus:outline-none",style:{fontFamily:s.style.fontFamily}})]})}),(0,t.jsxs)("select",{value:N,onChange:e=>f(e.target.value),className:"px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white focus:border-yellow-500/50 focus:outline-none",style:{fontFamily:s.style.fontFamily},children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"expired",children:"Expired"}),(0,t.jsx)("option",{value:"used",children:"Fully Used"})]}),(0,t.jsxs)("select",{value:w,onChange:e=>A(e.target.value),className:"px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white focus:border-yellow-500/50 focus:outline-none",style:{fontFamily:s.style.fontFamily},children:[(0,t.jsx)("option",{value:"all",children:"All Theaters"}),M.map(e=>(0,t.jsx)("option",{value:e._id,children:e.name},e._id))]})]})}),m?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6 animate-pulse",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-700 rounded mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-700 rounded mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-700 rounded mb-4"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"h-10 bg-gray-700 rounded flex-1"}),(0,t.jsx)("div",{className:"h-10 bg-gray-700 rounded w-20"})]})]},s))}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(e=>(0,t.jsx)(lK,{coupon:e,lexend:s,onViewDetails:E,onToggleStatus:R,loading:u},e._id))}),!m&&0===I.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(h.A,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400 text-lg",style:{fontFamily:s.style.fontFamily},children:0===a.length?"No coupons found":"No coupons match your search criteria"})]}),i&&i.totalPages>1&&(0,t.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>S(e=>Math.max(1,e-1)),disabled:!i.hasPreviousPage||m,className:"px-4 py-2 bg-gray-700/50 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600/50",style:{fontFamily:s.style.fontFamily},children:"Previous"}),(0,t.jsxs)("span",{className:"text-gray-400 px-4",style:{fontFamily:s.style.fontFamily},children:["Page ",i.currentPage," of ",i.totalPages]}),(0,t.jsx)("button",{onClick:()=>S(e=>Math.min(i.totalPages,e+1)),disabled:!i.hasNextPage||m,className:"px-4 py-2 bg-gray-700/50 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600/50",style:{fontFamily:s.style.fontFamily},children:"Next"})]}),i&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-gray-400 text-sm",style:{fontFamily:s.style.fontFamily},children:["Showing ",I.length," of ",i.totalCount," total coupons"]})})]}),d&&c&&(0,t.jsx)(lX,{coupon:c,lexend:s,onClose:()=>{x(!1),o(null)},onToggleStatus:R,loading:u})]})},l0={fontFamily:"Lexend",fontWeight:"500"},l4={fontFamily:"Lexend",fontWeight:"400"},l2=()=>{let[e,s]=(0,l.useState)("movies"),[a,r]=(0,l.useState)(!0);return(0,t.jsx)(aJ.A,{allowedRoles:["admin"],children:(0,t.jsx)(M,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex",children:[(0,t.jsx)(f,{activeTab:e,setActiveTab:s,sidebarOpen:a,setSidebarOpen:r}),(0,t.jsx)("div",{className:"flex-1 p-6 overflow-auto space-y-6",children:(()=>{switch(e){case"movies":return(0,t.jsx)(sd,{});case"owners":return(0,t.jsx)(ak,{});case"users":return(0,t.jsx)(aH,{});case"screens":return(0,t.jsx)(tc,{});case"bookings":return(0,t.jsx)(tq,{});case"wallet":return(0,t.jsx)(lW,{});case"analytics":return(0,t.jsx)(lD,{});case"coupon":return(0,t.jsx)(l$,{lexend:i()});default:return(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"bg-black/95 backdrop-blur-sm border border-yellow-500/20 rounded-2xl p-8 text-center",children:[(0,t.jsx)("h2",{className:"text-2xl text-yellow-400 mb-2",style:l0,children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,t.jsx)("p",{className:"text-gray-300",style:l4,children:"This section is under development"})]})})}})()})]})})})}},56554:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});var t=a(95155);a(12115);var l=a(74830),r=a.n(l),i=a(3309),n=a.n(i);function c(e){let{bookingFlow:s}=e;return(0,t.jsx)("div",{className:"h-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"backdrop-blur-sm bg-black/20 rounded-2xl p-8 border border-gray-500/30 text-center",children:[(0,t.jsx)("h2",{className:"".concat(n().className," text-white text-2xl mb-4"),children:"Oops"}),(0,t.jsxs)("p",{className:"".concat(r().className," text-gray-400 mb-6"),children:["There are no shows ","movie-first"===s?"for":"in"," this ","movie-first"===s?"movie":"theater"," for this date."]})]})})}},65342:(e,s,a)=>{"use strict";a.d(s,{d:()=>l});var t=a(12115);function l(e,s){let a=(0,t.useRef)(null),l=(0,t.useCallback)(function(){for(var t=arguments.length,l=Array(t),r=0;r<t;r++)l[r]=arguments[r];a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{e(...l)},s)},[e,s]);return(0,t.useEffect)(()=>()=>{a.current&&clearTimeout(a.current)},[]),l}},96784:(e,s,a)=>{Promise.resolve().then(a.bind(a,3636))}},e=>{e.O(0,[8784,1198,7680,2601,6492,9834,9090,3524,9268,3568,1256,2645,221,1384,11,1698,7440,4149,8441,5964,7358],()=>e(e.s=96784)),_N_E=e.O()}]);