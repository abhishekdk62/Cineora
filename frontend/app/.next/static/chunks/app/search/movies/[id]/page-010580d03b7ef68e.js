(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1117],{1157:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},5430:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},7226:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},16716:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:700,fontStyle:"normal"},className:"__className_81d908"}},17003:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},23720:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>eJ});var t=s(95155),l=s(12115),n=s(35695),r=s(44326),c=s(5425),i=s(86835),o=s(28651),d=s(7226),x=s.n(d),m=s(13568);function h(){return(0,t.jsx)("div",{className:"backdrop-blur-sm bg-black/20 rounded-3xl p-8 border border-gray-500/30 mt-8",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-20 bg-gray-700 rounded"},e))})]})})}var u=s(44469),N=s.n(u),f=s(17003),g=s.n(f),y=s(16716),p=s.n(y),v=s(38564);function j(e){let a,{ratingStats:s}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"".concat(p().className," text-2xl text-white"),children:"Movie Reviews"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:(a=Math.round(s.averageRating),Array.from({length:5},(e,s)=>(0,t.jsx)(v.A,{className:"w-4 h-4 ".concat(s<a?"fill-yellow-400 text-yellow-400":"text-gray-400")},s)))}),(0,t.jsx)("span",{className:"".concat(g().className," text-white ml-2"),children:s.averageRating.toFixed(1)}),(0,t.jsxs)("span",{className:"".concat(N().className," text-gray-400"),children:["(",s.totalReviews," ",1===s.totalReviews?"review":"reviews",")"]})]})]})}var b=s(52859),w=s.n(b);function k(e){let a,{stats:s}=e,l=Object.keys(s.ratingDistribution).find(e=>s.ratingDistribution[parseInt(e)]===Math.max(...Object.values(s.ratingDistribution)));return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-gray-600/30 text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:s.averageRating.toFixed(1)}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 mb-1",children:(a=Math.round(s.averageRating),Array.from({length:5},(e,s)=>(0,t.jsx)(v.A,{className:"w-4 h-4 ".concat(s<a?"fill-yellow-400 text-yellow-400":"text-gray-400")},s)))}),(0,t.jsx)("div",{className:"".concat(w().className," text-gray-400"),children:"Average Rating"})]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-gray-600/30 text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-2",children:s.totalReviews}),(0,t.jsx)("div",{className:"".concat(w().className," text-gray-400"),children:"Total Reviews"})]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-gray-600/30 text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-2",children:[l,"★"]}),(0,t.jsx)("div",{className:"".concat(w().className," text-gray-400"),children:"Most Common Rating"})]})]})}var _=s(71064),F=s.n(_),L=s(74612),S=s.n(L);function A(e){let{stats:a}=e;return(0,t.jsxs)("div",{className:"bg-white/5 rounded-2xl p-6 border border-gray-600/30 mb-6",children:[(0,t.jsx)("h3",{className:"".concat(S().className," text-white text-lg mb-4"),children:"Rating Breakdown"}),(0,t.jsx)("div",{className:"space-y-3",children:[5,4,3,2,1].map(e=>{let s=a.ratingDistribution[e]||0,l=a.totalReviews>0?s/a.totalReviews*100:0;return(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 w-12",children:[(0,t.jsx)("span",{className:"".concat(F().className," text-white"),children:e}),(0,t.jsx)(v.A,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"})]}),(0,t.jsx)("div",{className:"flex-1 bg-gray-700 rounded-full h-2 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-500 transition-all duration-500",style:{width:"".concat(l,"%")}})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-20",children:[(0,t.jsx)("span",{className:"".concat(F().className," text-gray-300 text-sm"),children:s}),(0,t.jsxs)("span",{className:"".concat(F().className," text-gray-400 text-xs"),children:["(",l.toFixed(0),"%)"]})]})]},e)})})]})}var W=s(57099),R=s.n(W),M=s(83533),C=s.n(M);function T(){return(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"".concat(C().className," text-gray-400 text-lg"),children:"No movie reviews yet"}),(0,t.jsx)("p",{className:"".concat(R().className," text-gray-500 mt-2"),children:"Be the first to review this movie!"})]})}var D=s(78783),B=s.n(D),z=s(74225),E=s.n(z),H=s(56287),O=s(62525),I=s(34540),q=s(32901),V=s.n(q);function G(e){let{user:a}=e;return(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center overflow-hidden",children:a.profilePicture?(0,t.jsx)("img",{src:a.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):(0,t.jsx)("span",{className:"".concat(V().className," text-white text-sm"),children:a.email.charAt(0).toUpperCase()})})}var P=s(27748),U=s.n(P),Z=s(70333),J=s(97210);function K(e){let{helpfulCount:a}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("button",{className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[(0,t.jsx)(Z.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"".concat(U().className),children:["Helpful (",a,")"]})]})}),(0,t.jsxs)("button",{className:"flex items-center gap-2 text-gray-400 hover:text-red-400 transition-colors",children:[(0,t.jsx)(J.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"".concat(U().className),children:"Report"})]})]})}function Y(e){let a,s,{review:l,onEdit:n,onDelete:r}=e,c=((0,I.d4)(e=>{var a,s;return null==e||null==(s=e.auth)||null==(a=s.user)?void 0:a.id})||45345)===l.userId._id;return(0,t.jsxs)("div",{className:"bg-white/5 rounded-2xl p-6 border border-gray-600/30 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(G,{user:l.userId}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"".concat(E().className," text-white"),children:(a=l.userId).username||a.email.split("@")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:(s=l.rating,Array.from({length:5},(e,a)=>(0,t.jsx)(v.A,{className:"w-4 h-4 ".concat(a<s?"fill-yellow-400 text-yellow-400":"text-gray-400")},a)))}),(0,t.jsx)("span",{className:"".concat(B().className," text-gray-400"),children:new Date(l.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),l.isVerifiedBooking&&(0,t.jsx)("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs",children:"Verified Booking"})]})]})]}),c&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>n(l._id),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors",children:[(0,t.jsx)(H.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"".concat(B().className," text-xs"),children:"Edit"})]}),(0,t.jsxs)("button",{onClick:()=>r(l._id),className:"flex items-center gap-1 px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors",children:[(0,t.jsx)(O.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"".concat(B().className," text-xs"),children:"Delete"})]})]})]}),(0,t.jsx)("p",{className:"".concat(B().className," text-gray-300 leading-relaxed mb-4"),children:l.reviewText}),(0,t.jsx)(K,{helpfulCount:l.helpfulCount})]})}var Q=s(26500),X=s(47863),$=s(66474),ee=s(33991),ea=s(46e3);function es(e){let{movieId:a,reviewsData:s,ratingStats:n}=e,[r,c]=(0,l.useState)(!0),[i,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)([]),[N,f]=(0,l.useState)(!1),[g,y]=(0,l.useState)(null),[p,v]=(0,l.useState)(!1);(0,l.useEffect)(()=>{null!==s&&null!==n&&(c(!1),u(s.reviews||[]))},[s,n]);let b=e=>{let a=d.find(a=>a._id===e);a&&(y(a),f(!0))},w=async e=>{if(d.find(a=>a._id===e)&&await (0,ee.f)({title:"Delete Review?",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}))try{await (0,ea.Wr)(e),m.oR.success("Review deleted successfully");let a=d.filter(a=>a._id!=e);u(a)}catch(e){console.log(e)}},_=async(e,a)=>{v(!0);try{let s=await (0,ea.Gm)(e,a);s.success?(u(s=>s.map(s=>s._id===e?{...s,rating:a.rating,reviewText:a.reviewText}:s)),m.oR.success("Review updated successfully!"),f(!1),y(null)):m.oR.error(s.message||"Failed to update review")}catch(e){console.error("Error updating review:",e),m.oR.error("Failed to update review")}finally{v(!1)}};if(r)return(0,t.jsx)(h,{});if(!s||!n)return null;let F=d.length>2;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"backdrop-blur-sm bg-black/20 rounded-3xl p-8 border border-gray-500/30 mt-8",children:[(0,t.jsx)(j,{ratingStats:n}),(0,t.jsx)(k,{stats:n}),(0,t.jsx)(A,{stats:n}),0===d.length?(0,t.jsx)(T,{}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"border-t border-gray-600/30 pt-6",children:[(0,t.jsx)("h3",{className:"".concat(x().className," text-white text-lg mb-4"),children:"Recent Reviews"}),(0,t.jsx)("div",{className:"space-y-4",children:d.slice(0,2).map(e=>(0,t.jsx)(Y,{review:e,onEdit:b,onDelete:w},e._id))}),F&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"overflow-hidden transition-all duration-500 ease-in-out ".concat(i?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:(0,t.jsx)("div",{className:"space-y-4 mt-4",children:d.slice(2).map(e=>(0,t.jsx)(Y,{review:e,onEdit:b,onDelete:w},e._id))})}),(0,t.jsx)("div",{className:"flex justify-center mt-6",children:(0,t.jsx)("button",{onClick:()=>o(!i),className:"".concat(x().className," flex items-center gap-2 bg-white/10 text-white px-6 py-3 rounded-xl hover:bg-white/20 border border-gray-500/30 transition-all duration-300"),children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"Show Less"}),(0,t.jsx)(X.A,{className:"w-4 h-4"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{children:["View More Reviews (",d.length-2,")"]}),(0,t.jsx)($.A,{className:"w-4 h-4"})]})})})]})]})})]}),(0,t.jsx)(Q.A,{isOpen:N,onClose:()=>{p||(f(!1),y(null))},review:g,onSubmit:_,isUpdating:p})]})}var et=s(49422),el=s.n(et);function en(){return(0,t.jsxs)("div",{className:"relative min-h-screen bg-black overflow-hidden",children:[(0,t.jsx)("div",{className:"fixed inset-0 z-0 pointer-events-none",children:(0,t.jsx)(c.A,{hoverIntensity:.5,rotateOnHover:!0,hue:0,forceHoverState:!1})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)(r.jq,{}),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"backdrop-blur-sm bg-black/20 rounded-2xl p-8 border border-gray-500/30",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,t.jsx)("p",{className:"".concat(el().className," text-white text-center"),children:"Loading movie details..."})]})}),(0,t.jsx)(r.wi,{})]})]})}var er=s(81357),ec=s.n(er),ei=s(30771),eo=s.n(ei),ed=s(38020),ex=s.n(ed);function em(e){let{onGoBack:a}=e;return(0,t.jsxs)("div",{className:"relative min-h-screen bg-black overflow-hidden",children:[(0,t.jsx)("div",{className:"fixed inset-0 z-0 pointer-events-none",children:(0,t.jsx)(c.A,{hoverIntensity:.5,rotateOnHover:!0,hue:0,forceHoverState:!1})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)(r.jq,{}),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"backdrop-blur-sm bg-black/20 rounded-2xl p-8 border border-gray-500/30 text-center",children:[(0,t.jsx)("h2",{className:"".concat(ex().className," text-white text-2xl mb-4"),children:"Movie Not Found"}),(0,t.jsx)("p",{className:"".concat(ec().className," text-gray-400 mb-6"),children:"The movie you're looking for doesn't exist or has been removed."}),(0,t.jsx)("button",{onClick:a,className:"".concat(eo().className," bg-white text-black px-6 py-3 rounded-xl hover:bg-gray-200 transition-all duration-300"),children:"Go Back"})]})}),(0,t.jsx)(r.wi,{})]})]})}var eh=s(97888),eu=s.n(eh),eN=s(27106),ef=s.n(eN),eg=s(34897),ey=s.n(eg),ep=s(70304),ev=s.n(ep);let ej=e=>{let{ratingStats:a}=e;return a&&0!==a.totalReviews?(0,t.jsx)("div",{className:" inline-block  ",children:(0,t.jsxs)("div",{className:"flex items-center gap-2  px-3 py-1.5 rounded-lg",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:"".concat(ev().className," text-yellow-400 text-sm font-medium"),children:a.averageRating.toFixed(1)}),(0,t.jsxs)("span",{className:"".concat(ef().className," text-gray-300 text-xs"),children:["(",a.totalReviews,")"]})]})}):(0,t.jsx)("div",{className:"inline-block",children:(0,t.jsxs)("div",{className:" flex items-center gap-2  px-3 py-1.5 rounded-lg",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"".concat(ef().className," text-gray-400 text-sm"),children:"No ratings yet"})]})})};function eb(e){let{title:a,releaseDate:s,duration:l,language:n,formatDuration:r,languageMap:c,ratingStats:i}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("h1",{className:"".concat(ey().className," text-4xl md:text-5xl text-white mb-4"),children:[a,(0,t.jsx)(ej,{ratingStats:i})]})}),(0,t.jsx)("div",{})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-gray-300",children:[(0,t.jsx)("span",{className:"".concat(ef().className),children:new Date(s).getFullYear()}),(0,t.jsx)("span",{className:"".concat(ef().className),children:"•"}),(0,t.jsx)("span",{className:"".concat(ef().className),children:r(l)}),(0,t.jsx)("span",{className:"".concat(ef().className),children:"•"}),(0,t.jsx)("span",{className:"".concat(ef().className),children:c[n]||n})]})]})}var ew=s(47201),ek=s.n(ew),e_=s(78039),eF=s.n(e_);function eL(e){let{genres:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"".concat(eF().className," text-white text-lg mb-3"),children:"Genres"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map((e,a)=>(0,t.jsx)("span",{className:"".concat(ek().className," bg-white/10 text-white px-3 py-1 rounded-lg text-sm border border-gray-500/30"),children:e},a))})]})}var eS=s(63363),eA=s.n(eS),eW=s(37045),eR=s.n(eW);function eM(e){let{description:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"".concat(eR().className," text-white text-lg mb-3"),children:"Synopsis"}),(0,t.jsx)("p",{className:"".concat(eA().className," text-gray-300 leading-relaxed"),children:a})]})}var eC=s(77267),eT=s.n(eC),eD=s(1157),eB=s.n(eD);function ez(e){let{director:a,cast:s}=e;return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"".concat(eB().className," text-white text-lg mb-3"),children:"Director"}),(0,t.jsx)("p",{className:"".concat(eT().className," text-gray-300"),children:a})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"".concat(eB().className," text-white text-lg mb-3"),children:"Cast"}),(0,t.jsx)("div",{className:"space-y-1",children:s.map((e,a)=>(0,t.jsx)("p",{className:"".concat(eT().className," text-gray-300"),children:e},a))})]})]})}var eE=s(50772),eH=s.n(eE);function eO(e){let{onBookTicket:a,onWatchTrailer:s,hasTrailer:l}=e;return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:a,className:"".concat(eH().className," flex-1 bg-white text-black py-4 px-6 rounded-xl hover:bg-gray-200 transition-all duration-300 font-medium"),children:"Book Tickets"}),l&&(0,t.jsx)("button",{onClick:s,className:"".concat(eH().className," flex-1 bg-white/10 text-white py-4 px-6 rounded-xl hover:bg-white/20 border border-gray-500/30 transition-all duration-300"),children:"Watch Trailer"})]})}function eI(e){let{movie:a,onBookTicket:s,onWatchTrailer:l,formatDuration:n,languageMap:r,ratingStats:c}=e;return(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(eb,{title:a.title,releaseDate:a.releaseDate,duration:a.duration,language:a.language,formatDuration:n,languageMap:r,ratingStats:c}),(0,t.jsx)(eL,{genres:a.genre}),(0,t.jsx)(eM,{description:a.description}),(0,t.jsx)(ez,{director:a.director,cast:a.cast}),(0,t.jsx)(eO,{onBookTicket:s,onWatchTrailer:l,hasTrailer:!!a.trailer})]})})}var eq=s(71930),eV=s.n(eq);function eG(e){let{movie:a}=e;return(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("img",{src:a.poster,alt:a.title,className:"w-full rounded-2xl shadow-2xl",onError:e=>{e.target.src="/api/placeholder/400/600"}}),(0,t.jsx)("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm px-3 py-1 rounded-lg",children:(0,t.jsx)("span",{className:"".concat(eV().className," text-white text-sm"),children:a.rating})})]})})}function eP(e){let{movie:a,onBookTicket:s,onWatchTrailer:l,onGoBack:n,ratingStats:r}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[(0,t.jsx)("div",{className:"pt-20 pb-4",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("button",{onClick:n,className:"".concat(eu().className," flex items-center gap-2 text-gray-400 hover:text-white transition-all duration-300"),children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Movies"]})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:(0,t.jsx)("div",{className:"backdrop-blur-sm bg-black/20 rounded-3xl p-8 border border-gray-500/30",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)(eG,{movie:a}),(0,t.jsx)(eI,{movie:a,onBookTicket:s,onWatchTrailer:l,formatDuration:e=>{let a=Math.floor(e/60);return"".concat(a,"h ").concat(e%60,"m")},languageMap:{en:"English",es:"Spanish",fr:"French",de:"German",hi:"Hindi",zh:"Chinese",ja:"Japanese",ko:"Korean"},ratingStats:r})]})})})]})}function eU(e){let{movie:a,showTrailer:s,onClose:l}=e;return s&&a.trailer?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"relative w-full max-w-4xl",children:[(0,t.jsx)("button",{onClick:l,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors duration-200",children:(0,t.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("div",{className:"aspect-video rounded-2xl overflow-hidden",children:(0,t.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat((e=>{for(let a of[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/,/youtube\.com\/v\/([^&\n?#]+)/]){let s=e.match(a);if(s)return s[1].split("?")[0]}return null})(a.trailer)),className:"w-full h-full",allowFullScreen:!0,title:"".concat(a.title," Trailer")})})]})}):null}var eZ=s(47440);function eJ(){let e=(0,n.useParams)(),a=(0,n.useRouter)(),[s,d]=(0,l.useState)(null),[x,m]=(0,l.useState)(!0),[h,u]=(0,l.useState)(!1),[N,f]=(0,l.useState)(null),[g,y]=(0,l.useState)(null);(0,I.d4)(e=>e.auth.isAuthenticated),(0,l.useEffect)(()=>{let a=async()=>{try{m(!0);let a=await (0,i.l)(e.id);a.data&&d(a.data)}catch(e){console.error("Error fetching movie details:",e)}finally{m(!1)}};e.id&&a()},[e.id]);let p=async()=>{try{let a=await (0,o.oZ)(e.id);a.success&&f(a.data)}catch(e){console.log(e)}},v=async()=>{try{let a=await (0,o.us)(e.id);a.success&&y(a.data)}catch(e){console.log(e)}};return((0,l.useEffect)(()=>{e.id&&(p(),v())},[e.id]),x)?(0,t.jsx)(en,{}):s?(0,t.jsx)(eZ.A,{allowUnauthenticated:!0,excludedRoles:["admin,owner"],children:(0,t.jsxs)("div",{className:"relative min-h-screen bg-black overflow-hidden",children:[(0,t.jsx)("div",{className:"fixed inset-0 z-0 pointer-events-none",children:(0,t.jsx)(c.A,{hoverIntensity:.5,rotateOnHover:!0,hue:0,forceHoverState:!1})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)(r.jq,{}),(0,t.jsx)(eP,{movie:s,onBookTicket:()=>{a.push("/book/".concat(e.id,"?flow=movie-first"))},onWatchTrailer:()=>u(!0),onGoBack:()=>a.back(),ratingStats:g}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:(0,t.jsx)(es,{movieId:e.id,reviewsData:N,ratingStats:g})}),(0,t.jsx)(eU,{movie:s,showTrailer:h,onClose:()=>u(!1)}),(0,t.jsx)(r.wi,{})]})]})}):(0,t.jsx)(em,{onGoBack:()=>a.back()})}},27106:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},27748:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},30771:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},32901:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},34897:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:700,fontStyle:"normal"},className:"__className_81d908"}},37045:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},38020:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:700,fontStyle:"normal"},className:"__className_81d908"}},38564:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},44469:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},47201:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},47863:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},49422:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},50772:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},52859:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},55038:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},56287:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},57099:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},62525:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},63363:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},66474:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},70304:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},70333:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]])},71064:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},71930:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},74225:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},74612:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},77267:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},78039:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},78783:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},79587:(e,a,s)=>{Promise.resolve().then(s.bind(s,23720))},81357:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},83533:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_3f8a51"}},86927:(e,a,s)=>{"use strict";s.d(a,{l:()=>l});var t=s(29663);class l extends t.V{constructor(e,{attributes:a={}}={}){Object.assign(a,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,a)}}},97210:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]])},97888:e=>{e.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}}},e=>{e.O(0,[4303,2601,730,3279,2993,6720,7293,1641,9268,1410,9772,5947,3568,1256,7440,2686,1090,8441,5964,7358],()=>e(e.s=79587)),_N_E=e.O()}]);