(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6743:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>R,TY:()=>P,VY:()=>S,Zz:()=>f,_Z:()=>r});let o=(0,t(5710).Z0)({name:"booking",initialState:{bookingData:null,isLoading:!1,error:null},reducers:{setBookingData:(e,a)=>{e.bookingData?e.bookingData={...e.bookingData,...a.payload}:e.bookingData={selectedRows:[],selectedSeats:[],selectedSeatIds:[],seatPricing:[],priceDetails:{subtotal:0,convenienceFee:0,taxes:0,discount:0,total:0},totalAmount:0,tax:0,amount:0,selectedRowIds:[],...a.payload},e.error=null},updateSelectedRows:(e,a)=>{if(e.bookingData){e.bookingData.selectedRows=a.payload;let t=a.payload.flatMap(e=>e.seatsSelected.map(a=>"".concat(e.rowLabel).concat(a)));e.bookingData.selectedSeats=t,e.bookingData.seatPricing=a.payload.map(e=>({rowId:e.rowId,rowLabel:e.rowLabel,seatType:e.seatType,basePrice:e.pricePerSeat,finalPrice:e.pricePerSeat,seatsSelected:e.seatsSelected,seatCount:e.seatCount}));let o=a.payload.reduce((e,a)=>e+a.totalPrice,0);e.bookingData.priceDetails.subtotal=o,e.bookingData.amount=o;let r=Math.round(.05*o),i=Math.round(.18*o),n=o+r+i-e.bookingData.priceDetails.discount;e.bookingData.priceDetails.convenienceFee=r,e.bookingData.priceDetails.taxes=i,e.bookingData.priceDetails.total=n,e.bookingData.tax=i,e.bookingData.totalAmount=n}},applyCoupon:(e,a)=>{if(e.bookingData){e.bookingData.appliedCoupon=a.payload.coupon,e.bookingData.couponCode=a.payload.coupon.uniqueId,e.bookingData.discountApplied=a.payload.discountAmount,e.bookingData.priceDetails.discount=a.payload.discountAmount;let{subtotal:t,convenienceFee:o,taxes:r,discount:i}=e.bookingData.priceDetails,n=t+o+r-i;e.bookingData.priceDetails.total=n,e.bookingData.totalAmount=n}},removeCoupon:e=>{if(e.bookingData){e.bookingData.appliedCoupon=void 0,e.bookingData.couponCode=void 0,e.bookingData.discountApplied=0,e.bookingData.priceDetails.discount=0;let{subtotal:a,convenienceFee:t,taxes:o}=e.bookingData.priceDetails,r=a+t+o;e.bookingData.priceDetails.total=r,e.bookingData.totalAmount=r}},addSeatToRow:(e,a)=>{if(e.bookingData){let{rowId:t,rowLabel:o,seatNumber:r,seatType:i,pricePerSeat:n}=a.payload,s=e.bookingData.selectedRows.findIndex(e=>e.rowId===t);s>=0?e.bookingData.selectedRows[s].seatsSelected.includes(r)||(e.bookingData.selectedRows[s].seatsSelected.push(r),e.bookingData.selectedRows[s].seatCount+=1,e.bookingData.selectedRows[s].totalPrice+=n):e.bookingData.selectedRows.push({rowId:t,rowLabel:o,seatsSelected:[r],seatCount:1,seatType:i,pricePerSeat:n,totalPrice:n});let l=e.bookingData.selectedRows.flatMap(e=>e.seatsSelected.map(a=>"".concat(e.rowLabel).concat(a)));e.bookingData.selectedSeats=l;let d=e.bookingData.selectedRows.reduce((e,a)=>e+a.totalPrice,0);e.bookingData.priceDetails.subtotal=d,e.bookingData.amount=d;let u=Math.round(.05*d),c=Math.round(.18*d),g=d+u+c-e.bookingData.priceDetails.discount;e.bookingData.priceDetails.convenienceFee=u,e.bookingData.priceDetails.taxes=c,e.bookingData.priceDetails.total=g,e.bookingData.tax=c,e.bookingData.totalAmount=g}},removeSeatFromRow:(e,a)=>{if(e.bookingData){let{rowId:t,seatNumber:o,pricePerSeat:r}=a.payload,i=e.bookingData.selectedRows.findIndex(e=>e.rowId===t);if(i>=0){let a=e.bookingData.selectedRows[i],t=a.seatsSelected.indexOf(o);if(t>=0){a.seatsSelected.splice(t,1),a.seatCount-=1,a.totalPrice-=r,0===a.seatCount&&e.bookingData.selectedRows.splice(i,1);let o=e.bookingData.selectedRows.flatMap(e=>e.seatsSelected.map(a=>"".concat(e.rowLabel).concat(a)));e.bookingData.selectedSeats=o;let n=e.bookingData.selectedRows.reduce((e,a)=>e+a.totalPrice,0);e.bookingData.priceDetails.subtotal=n,e.bookingData.amount=n;let s=Math.round(.05*n),l=Math.round(.18*n),d=n+s+l-e.bookingData.priceDetails.discount;e.bookingData.priceDetails.convenienceFee=s,e.bookingData.priceDetails.taxes=l,e.bookingData.priceDetails.total=d,e.bookingData.tax=l,e.bookingData.totalAmount=d}}}},updateSelectedSeats:(e,a)=>{e.bookingData&&(e.bookingData.selectedSeats=a.payload)},updateSeatPricing:(e,a)=>{if(e.bookingData){e.bookingData.seatPricing=a.payload;let t=a.payload.reduce((e,a)=>e+a.finalPrice*a.seatCount,0);e.bookingData.priceDetails.subtotal=t,e.bookingData.amount=t;let o=Math.round(.05*t),r=Math.round(.18*t),i=t+o+r-e.bookingData.priceDetails.discount;e.bookingData.priceDetails.convenienceFee=o,e.bookingData.priceDetails.taxes=r,e.bookingData.priceDetails.total=i,e.bookingData.tax=r,e.bookingData.totalAmount=i}},updatePriceDetails:(e,a)=>{e.bookingData&&(e.bookingData.priceDetails={...e.bookingData.priceDetails,...a.payload},e.bookingData.amount=e.bookingData.priceDetails.subtotal,e.bookingData.tax=e.bookingData.priceDetails.taxes,e.bookingData.totalAmount=e.bookingData.priceDetails.total)},updateShowDetails:(e,a)=>{e.bookingData&&(e.bookingData={...e.bookingData,...a.payload})},updateUserDetails:(e,a)=>{e.bookingData&&(e.bookingData={...e.bookingData,...a.payload})},updatePaymentDetails:(e,a)=>{e.bookingData&&(e.bookingData={...e.bookingData,...a.payload})},updateBookingStatus:(e,a)=>{e.bookingData&&(e.bookingData={...e.bookingData,...a.payload})},updateAmount:(e,a)=>{e.bookingData&&(e.bookingData.amount=a.payload,e.bookingData.priceDetails.subtotal=a.payload)},updateTax:(e,a)=>{e.bookingData&&(e.bookingData.tax=a.payload,e.bookingData.priceDetails.taxes=a.payload)},updateTotalAmount:(e,a)=>{e.bookingData&&(e.bookingData.totalAmount=a.payload,e.bookingData.priceDetails.total=a.payload)},calculateTotalAmount:e=>{if(e.bookingData){let{subtotal:a,convenienceFee:t,taxes:o,discount:r}=e.bookingData.priceDetails,i=a+t+o-r;e.bookingData.priceDetails.total=i,e.bookingData.totalAmount=i}},applyDiscount:(e,a)=>{if(e.bookingData){e.bookingData.priceDetails.discount=a.payload.discount,a.payload.couponCode&&(e.bookingData.couponCode=a.payload.couponCode);let{subtotal:t,convenienceFee:o,taxes:r,discount:i}=e.bookingData.priceDetails,n=t+o+r-i;e.bookingData.priceDetails.total=n,e.bookingData.totalAmount=n}},removeDiscount:e=>{if(e.bookingData){e.bookingData.priceDetails.discount=0,e.bookingData.couponCode=void 0;let{subtotal:a,convenienceFee:t,taxes:o}=e.bookingData.priceDetails,r=a+t+o;e.bookingData.priceDetails.total=r,e.bookingData.totalAmount=r}},setLoading:(e,a)=>{e.isLoading=a.payload},setError:(e,a)=>{e.error=a.payload,e.isLoading=!1},resetBookingData:e=>{e.bookingData=null,e.isLoading=!1,e.error=null},clearError:e=>{e.error=null},clearSelectedSeats:e=>{e.bookingData&&(e.bookingData.selectedRows=[],e.bookingData.selectedSeats=[],e.bookingData.seatPricing=[],e.bookingData.priceDetails={subtotal:0,convenienceFee:0,taxes:0,discount:0,total:0},e.bookingData.amount=0,e.bookingData.tax=0,e.bookingData.totalAmount=0)}}}),{setBookingData:r,updateSelectedRows:i,addSeatToRow:n,removeSeatFromRow:s,updateSelectedSeats:l,updateSeatPricing:d,updatePriceDetails:u,updateShowDetails:c,updateUserDetails:g,updatePaymentDetails:p,updateBookingStatus:D,updateAmount:b,updateTax:k,updateTotalAmount:y,calculateTotalAmount:f,applyDiscount:h,removeDiscount:m,setLoading:v,setError:w,resetBookingData:x,clearError:A,applyCoupon:S,removeCoupon:P,clearSelectedSeats:E}=o.actions,R=o.reducer},12764:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});let o={LOGIN:"/auth/login",FORGOT_PASSWORD_SEND_OTP:"/auth/forgot-password/send-otp",VERIFY_OTP:"/auth/forgot-password/verify-otp",RESET_PASSWORD:"/auth/forgot-password/reset-password",GOOGLE_AUTH:"/auth/google",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh"}},19072:(e,a,t)=>{"use strict";t.d(a,{BD:()=>i,Ky:()=>l,ZO:()=>n,ri:()=>d,xw:()=>s});var o=t(12764),r=t(77567);let i=async e=>(await r.A.post(o.A.FORGOT_PASSWORD_SEND_OTP,{email:e})).data,n=async(e,a)=>(await r.A.post(o.A.VERIFY_OTP,{email:e,otp:a})).data,s=async(e,a,t)=>(await r.A.post(o.A.RESET_PASSWORD,{email:e,otp:a,newPassword:t})).data,l=async e=>(await r.A.post(o.A.GOOGLE_AUTH,{credential:e.credential})).data,d=async()=>{try{var e;let a=await r.A.post(o.A.LOGOUT,{});return localStorage.removeItem("authToken"),(null==(e=a.data)?void 0:e.success)||!1}catch(e){return localStorage.removeItem("authToken"),!1}}},26004:(e,a,t)=>{Promise.resolve().then(t.bind(t,76083)),Promise.resolve().then(t.t.bind(t,62093,23)),Promise.resolve().then(t.t.bind(t,27735,23)),Promise.resolve().then(t.bind(t,13568)),Promise.resolve().then(t.t.bind(t,30347,23)),Promise.resolve().then(t.bind(t,33991)),Promise.resolve().then(t.bind(t,32798))},30347:()=>{},30464:(e,a,t)=>{"use strict";t.d(a,{VM:()=>d,iD:()=>l,LK:()=>s,xw:()=>u,uV:()=>c,$5:()=>i,Dl:()=>g,vJ:()=>n});let o={SIGNUP:"/auth/signup",VERIFY_OTP:"/auth/verify-otp",RESEND_OTP:"/auth/resend-otp",LOGIN:"/auth/login",PROFILE:"/users/profile",RESET_PASSWORD:"/users/reset-password",EMAIL_CHANGE_OTP_SEND:"/users/email/change",EMAIL_CHANGE_OTP_VERIFY:"/users/email/verify"};var r=t(77567);let i=async e=>(await r.A.post(o.SIGNUP,e)).data,n=async(e,a)=>(await r.A.post(o.VERIFY_OTP,{email:e,otp:a})).data,s=async e=>(await r.A.post(o.RESEND_OTP,{email:e})).data,l=async(e,a)=>(await r.A.post(o.LOGIN,{email:e,password:a})).data,d=async()=>(await r.A.get(o.PROFILE)).data,u=async(e,a)=>(await r.A.patch(o.RESET_PASSWORD,{newPassword:e,oldpassword:a})).data,c=async e=>(await r.A.post(o.EMAIL_CHANGE_OTP_SEND,{newEmail:e.newEmail,password:e.password})).data,g=async e=>(await r.A.post(o.EMAIL_CHANGE_OTP_VERIFY,{email:e.email,otp:e.otp})).data},32798:(e,a,t)=>{"use strict";t.d(a,{ReduxProvider:()=>R});var o=t(95155),r=t(34540),i=t(5710),n=t(61328),s=t(18091),l=t(33208);let d=(0,i.Z0)({name:"user",initialState:{profile:null,nearbyUsers:[],loading:!1,error:null},reducers:{setLoading:(e,a)=>{e.loading=a.payload},setProfile:(e,a)=>{e.profile=a.payload},setNearbyUsers:(e,a)=>{e.nearbyUsers=a.payload},setError:(e,a)=>{e.error=a.payload},clearUserState:e=>{e.profile=null,e.nearbyUsers=[],e.loading=!1,e.error=null}}}),{setLoading:u,setProfile:c,setNearbyUsers:g,setError:p,clearUserState:D}=d.actions,b=d.reducer,k=(0,i.Z0)({name:"admin",initialState:{users:[],movies:[],analytics:null,loading:!1,error:null},reducers:{setLoading:(e,a)=>{e.loading=a.payload},setUsers:(e,a)=>{e.users=a.payload},setMovies:(e,a)=>{e.movies=a.payload},setAnalytics:(e,a)=>{e.analytics=a.payload},setError:(e,a)=>{e.error=a.payload},clearAdminState:e=>{e.users=[],e.movies=[],e.analytics=null,e.loading=!1,e.error=null}}}),{setLoading:y,setUsers:f,setMovies:h,setAnalytics:m,setError:v,clearAdminState:w}=k.actions,x=k.reducer;var A=t(6743);let S={key:"auth",storage:s.A},P=(0,n.rL)(S,l.Ay),E=(0,i.U1)({reducer:{auth:P,user:b,admin:x,booking:A.Ay},middleware:e=>e({serializableCheck:{ignoredActions:[n.ZM,n.r2,n.Hz,n.DY,n.Cq,n.eY]}})});function R(e){let{children:a}=e;return(0,o.jsx)(r.Kq,{store:E,children:a})}(0,n.GM)(E)},33208:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>h,ET:()=>y,Lx:()=>l,RY:()=>s,p3:()=>d,y4:()=>c});var o=t(5710),r=t(30464),i=t(19072),n=t(59362);let s=(0,o.zD)("auth/verifyOtp",async(e,a)=>{let{email:t,otp:o}=e,{rejectWithValue:i}=a;try{let e=await (0,r.vJ)(t,o);if(e.success)return{user:e.data.user,role:e.data.role,redirectTo:e.data.redirectTo};return i(e.message)}catch(a){let e="OTP verification failed";if(a instanceof n.pe){var s,l,d,u,c;(null==(l=a.response)||null==(s=l.data)?void 0:s.message)?e=a.response.data.message:(null==(d=a.response)?void 0:d.status)===401?e="Invalid OTP":(null==(u=a.response)?void 0:u.status)&&(null==(c=a.response)?void 0:c.status)>=500?e="Server error. Please try again later.":a.request&&(e="Network error. Please check your connection.")}return i(e)}}),l=(0,o.zD)("auth/loginUser",async(e,a)=>{let{email:t,password:o}=e,{rejectWithValue:i}=a;try{let e=await (0,r.iD)(t,o);if(console.log("auth slice result is :",e),e.success)return{user:e.data.user,role:e.data.role,redirectTo:e.data.redirectTo};return i(e.message)}catch(a){let e="Login failed";if(a instanceof n.pe){var s,l,d,u,c;(null==(l=a.response)||null==(s=l.data)?void 0:s.message)?e=a.response.data.message:(null==(d=a.response)?void 0:d.status)===401?e="Invalid email or password":(null==(u=a.response)?void 0:u.status)&&(null==(c=a.response)?void 0:c.status)>=500?e="Server error. Please try again later.":a.request&&(e="Network error. Please check your connection.")}return i(e)}}),d=(0,o.zD)("auth/googleLogin",async(e,a)=>{let{rejectWithValue:t}=a;try{let a=await (0,i.Ky)(e);if(a.success)return{user:a.data.user,role:a.data.user.role||"user",isNewUser:a.data.isNewUser,redirectTo:a.data.redirectTo||"/dashboard"};return t(a.message||"Google authentication failed")}catch(e){if(e instanceof n.pe){var o,r,s,l;let a="Google Sign-In failed";return(null==(r=e.response)||null==(o=r.data)?void 0:o.message)?a=e.response.data.message:(null==(s=e.response)?void 0:s.status)&&(null==(l=e.response)?void 0:l.status)>=500?a="Server error. Please try again later.":e.request&&(a="Network error. Please check your connection."),t(a)}}}),u=(0,o.zD)("auth/checkStatus",async(e,a)=>{let{rejectWithValue:t}=a;try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let a=await e.json();return{user:a.data.user,role:a.data.user.role}}throw Error("Not authenticated")}catch(e){return t("Authentication check failed")}}),c=(0,o.zD)("auth/logout",async(e,a)=>{let{rejectWithValue:t}=a;try{return await (0,i.ri)(),null}catch(e){return null}}),g=(0,o.Z0)({name:"auth",initialState:{user:null,role:null,isAuthenticated:!1,loading:!1,error:null},reducers:{setUser:(e,a)=>{e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null},clearUser:e=>{e.loading=!1,e.user=null,e.role=null,e.isAuthenticated=!1,e.error=null},setLoading:(e,a)=>{e.loading=a.payload},setError:(e,a)=>{e.error=a.payload},clearError:e=>{e.error=null},updateUser:(e,a)=>{e.user&&(e.user={...e.user,...a.payload})}},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(l.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload&&a.payload.user,e.role=a.payload&&a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(d.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1}).addCase(u.pending,e=>{e.loading=!0}).addCase(u.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(u.rejected,e=>{e.loading=!1,e.user=null,e.role=null,e.isAuthenticated=!1,e.error=null}).addCase(c.fulfilled,e=>{e.loading=!1,e.user=null,e.role=null,e.isAuthenticated=!1,e.error=null}).addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(s.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1})}}),{setUser:p,clearUser:D,setLoading:b,setError:k,clearError:y,updateUser:f}=g.actions,h=g.reducer},33991:(e,a,t)=>{"use strict";t.d(a,{ConfirmDialog:()=>v,f:()=>w});var o=t(95155),r=t(12115),i=t(67372),n=t(52596),s=t(39688);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,n.$)(a))}let d=(0,t(74466).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function u(e){let{...a}=e;return(0,o.jsx)(i.bL,{"data-slot":"alert-dialog",...a})}function c(e){let{...a}=e;return(0,o.jsx)(i.ZL,{"data-slot":"alert-dialog-portal",...a})}function g(e){let{className:a,...t}=e;return(0,o.jsx)(i.hJ,{"data-slot":"alert-dialog-overlay",className:l("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function p(e){let{className:a,...t}=e;return(0,o.jsxs)(c,{children:[(0,o.jsx)(g,{}),(0,o.jsx)(i.UC,{"data-slot":"alert-dialog-content",className:l("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t})]})}function D(e){let{className:a,...t}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-header",className:l("flex flex-col gap-2 text-center sm:text-left",a),...t})}function b(e){let{className:a,...t}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-footer",className:l("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function k(e){let{className:a,...t}=e;return(0,o.jsx)(i.hE,{"data-slot":"alert-dialog-title",className:l("text-lg font-semibold",a),...t})}function y(e){let{className:a,...t}=e;return(0,o.jsx)(i.VY,{"data-slot":"alert-dialog-description",className:l("text-muted-foreground text-sm",a),...t})}function f(e){let{className:a,...t}=e;return(0,o.jsx)(i.rc,{className:l(d(),a),...t})}function h(e){let{className:a,...t}=e;return(0,o.jsx)(i.ZD,{className:l(d({variant:"outline"}),a),...t})}let m=null;function v(e){let{title:a,message:t,confirmText:i="Confirm",cancelText:n="Cancel"}=e,[s,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)({title:a,message:t,confirmText:i,cancelText:n});(0,r.useEffect)(()=>{window.__openConfirmDialog=e=>(c(e),l(!0),new Promise(e=>{m=e}))},[]);let g=e=>{l(!1),null==m||m(e),m=null};return(0,o.jsx)(u,{open:s,onOpenChange:l,children:(0,o.jsxs)(p,{className:"bg-slate-800 text-slate-50 dark:bg-slate-900 dark:text-slate-100 rounded-lg shadow-lg p-6 border border-slate-700",children:[(0,o.jsxs)(D,{children:[(0,o.jsx)(k,{children:d.title}),(0,o.jsx)(y,{children:d.message})]}),(0,o.jsxs)(b,{className:"flex justify-end space-x-2",children:[(0,o.jsx)(h,{onClick:()=>g(!1),className:"px-4 py-2 bg-muted text-muted-foreground rounded hover:bg-muted/90",children:d.cancelText}),(0,o.jsx)(f,{onClick:()=>g(!0),className:"px-4 py-2 bg-destructive text-destructive-foreground rounded hover:bg-destructive/90",children:d.confirmText})]})]})})}function w(e){return window.__openConfirmDialog(e)}},77567:(e,a,t)=>{"use strict";t.d(a,{A:()=>d});var o=t(23464),r=t(12764);let i=o.A.create({baseURL:"https://cineora.fun/api",headers:{"Content-Type":"application/json"},withCredentials:!0}),n=!1,s=[],l=e=>{s.forEach(a=>{let{resolve:t,reject:o}=a;e?o(e):t()}),s=[],n=!1};i.interceptors.response.use(e=>e,async e=>{var a,t,o;let d=e.config;if(null==(a=d.url)?void 0:a.includes(r.A.REFRESH))return Promise.reject(e);if((null==(t=e.response)?void 0:t.status)===401&&!d._retry){if(n)return new Promise((e,a)=>{s.push({resolve:e,reject:a})}).then(()=>i(d)).catch(e=>Promise.reject(e));d._retry=!0,n=!0;try{return await i.post(r.A.REFRESH),l(null),i(d)}catch(e){return console.error(" Refresh failed:",e),l(e),window.location.href="/login",Promise.reject(e)}}return(null==(o=e.response)?void 0:o.status)===401&&(window.location.href="/login"),Promise.reject(e)});let d=i}},e=>{e.O(0,[8777,7690,9268,3568,1256,1806,8441,5964,7358],()=>e(e.s=26004)),_N_E=e.O()}]);