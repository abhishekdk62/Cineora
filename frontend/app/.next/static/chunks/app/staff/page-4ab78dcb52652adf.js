(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2991],{11101:(e,a,t)=>{Promise.resolve().then(t.bind(t,74458))},12764:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s={LOGIN:"/auth/login",FORGOT_PASSWORD_SEND_OTP:"/auth/forgot-password/send-otp",VERIFY_OTP:"/auth/forgot-password/verify-otp",RESET_PASSWORD:"/auth/forgot-password/reset-password",GOOGLE_AUTH:"/auth/google",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh"}},19072:(e,a,t)=>{"use strict";t.d(a,{BD:()=>n,Ky:()=>i,ZO:()=>r,ri:()=>o,xw:()=>c});var s=t(12764),l=t(77567);let n=async e=>(await l.A.post(s.A.FORGOT_PASSWORD_SEND_OTP,{email:e})).data,r=async(e,a)=>(await l.A.post(s.A.VERIFY_OTP,{email:e,otp:a})).data,c=async(e,a,t)=>(await l.A.post(s.A.RESET_PASSWORD,{email:e,otp:a,newPassword:t})).data,i=async e=>(await l.A.post(s.A.GOOGLE_AUTH,{credential:e.credential})).data,o=async()=>{try{var e;let a=await l.A.post(s.A.LOGOUT,{});return localStorage.removeItem("authToken"),(null==(e=a.data)?void 0:e.success)||!1}catch(e){return localStorage.removeItem("authToken"),!1}}},30464:(e,a,t)=>{"use strict";t.d(a,{VM:()=>o,iD:()=>i,LK:()=>c,xw:()=>d,uV:()=>u,$5:()=>n,Dl:()=>m,vJ:()=>r});let s={SIGNUP:"/auth/signup",VERIFY_OTP:"/auth/verify-otp",RESEND_OTP:"/auth/resend-otp",LOGIN:"/auth/login",PROFILE:"/users/profile",RESET_PASSWORD:"/users/reset-password",EMAIL_CHANGE_OTP_SEND:"/users/email/change",EMAIL_CHANGE_OTP_VERIFY:"/users/email/verify"};var l=t(77567);let n=async e=>(await l.A.post(s.SIGNUP,e)).data,r=async(e,a)=>(await l.A.post(s.VERIFY_OTP,{email:e,otp:a})).data,c=async e=>(await l.A.post(s.RESEND_OTP,{email:e})).data,i=async(e,a)=>(await l.A.post(s.LOGIN,{email:e,password:a})).data,o=async()=>(await l.A.get(s.PROFILE)).data,d=async(e,a)=>(await l.A.patch(s.RESET_PASSWORD,{newPassword:e,oldpassword:a})).data,u=async e=>(await l.A.post(s.EMAIL_CHANGE_OTP_SEND,{newEmail:e.newEmail,password:e.password})).data,m=async e=>(await l.A.post(s.EMAIL_CHANGE_OTP_VERIFY,{email:e.email,otp:e.otp})).data},33208:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>g,ET:()=>v,Lx:()=>i,RY:()=>c,p3:()=>o,y4:()=>u});var s=t(5710),l=t(30464),n=t(19072),r=t(59362);let c=(0,s.zD)("auth/verifyOtp",async(e,a)=>{let{email:t,otp:s}=e,{rejectWithValue:n}=a;try{let e=await (0,l.vJ)(t,s);if(e.success)return{user:e.data.user,role:e.data.role,redirectTo:e.data.redirectTo};return n(e.message)}catch(a){let e="OTP verification failed";if(a instanceof r.pe){var c,i,o,d,u;(null==(i=a.response)||null==(c=i.data)?void 0:c.message)?e=a.response.data.message:(null==(o=a.response)?void 0:o.status)===401?e="Invalid OTP":(null==(d=a.response)?void 0:d.status)&&(null==(u=a.response)?void 0:u.status)>=500?e="Server error. Please try again later.":a.request&&(e="Network error. Please check your connection.")}return n(e)}}),i=(0,s.zD)("auth/loginUser",async(e,a)=>{let{email:t,password:s}=e,{rejectWithValue:n}=a;try{let e=await (0,l.iD)(t,s);if(console.log("auth slice result is :",e),e.success)return{user:e.data.user,role:e.data.role,redirectTo:e.data.redirectTo};return n(e.message)}catch(a){let e="Login failed";if(a instanceof r.pe){var c,i,o,d,u;(null==(i=a.response)||null==(c=i.data)?void 0:c.message)?e=a.response.data.message:(null==(o=a.response)?void 0:o.status)===401?e="Invalid email or password":(null==(d=a.response)?void 0:d.status)&&(null==(u=a.response)?void 0:u.status)>=500?e="Server error. Please try again later.":a.request&&(e="Network error. Please check your connection.")}return n(e)}}),o=(0,s.zD)("auth/googleLogin",async(e,a)=>{let{rejectWithValue:t}=a;try{let a=await (0,n.Ky)(e);if(a.success)return{user:a.data.user,role:a.data.user.role||"user",isNewUser:a.data.isNewUser,redirectTo:a.data.redirectTo||"/dashboard"};return t(a.message||"Google authentication failed")}catch(e){if(e instanceof r.pe){var s,l,c,i;let a="Google Sign-In failed";return(null==(l=e.response)||null==(s=l.data)?void 0:s.message)?a=e.response.data.message:(null==(c=e.response)?void 0:c.status)&&(null==(i=e.response)?void 0:i.status)>=500?a="Server error. Please try again later.":e.request&&(a="Network error. Please check your connection."),t(a)}}}),d=(0,s.zD)("auth/checkStatus",async(e,a)=>{let{rejectWithValue:t}=a;try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let a=await e.json();return{user:a.data.user,role:a.data.user.role}}throw Error("Not authenticated")}catch(e){return t("Authentication check failed")}}),u=(0,s.zD)("auth/logout",async(e,a)=>{let{rejectWithValue:t}=a;try{return await (0,n.ri)(),null}catch(e){return null}}),m=(0,s.Z0)({name:"auth",initialState:{user:null,role:null,isAuthenticated:!1,loading:!1,error:null},reducers:{setUser:(e,a)=>{e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null},clearUser:e=>{e.loading=!1,e.user=null,e.role=null,e.isAuthenticated=!1,e.error=null},setLoading:(e,a)=>{e.loading=a.payload},setError:(e,a)=>{e.error=a.payload},clearError:e=>{e.error=null},updateUser:(e,a)=>{e.user&&(e.user={...e.user,...a.payload})}},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(i.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload&&a.payload.user,e.role=a.payload&&a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(o.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(d.rejected,e=>{e.loading=!1,e.user=null,e.role=null,e.isAuthenticated=!1,e.error=null}).addCase(u.fulfilled,e=>{e.loading=!1,e.user=null,e.role=null,e.isAuthenticated=!1,e.error=null}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload.user,e.role=a.payload.role,e.isAuthenticated=!0,e.error=null}).addCase(c.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1})}}),{setUser:x,clearUser:h,setLoading:p,setError:N,clearError:v,updateUser:f}=m.actions,g=m.reducer},55856:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var s=t(95155);t(12115);var l=t(61432),n=t(35695),r=t(7170),c=t.n(r);function i(){let e=(0,n.useRouter)();return(0,s.jsxs)("div",{onClick:()=>e.push("/"),className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)(l.A,{className:"h-8 w-8 text-[#FF5A3C]"}),(0,s.jsx)("span",{className:"".concat(c().className," text-2xl text-white"),children:"Cineora"})]})}},63081:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var s=t(95155),l=t(12115),n=t(8724),r=t(86927),c=t(88453),i=t(53218);let o=e=>{let{height:a=3.5,baseWidth:t=5.5,animationType:o="rotate",glow:d=1,offset:u={x:0,y:0},noise:m=.5,transparent:x=!0,scale:h=3.6,hueShift:p=0,colorFrequency:N=1,hoverStrength:v=2,inertia:f=.05,bloom:g=1,suspendWhenOffscreen:b=!1,timeScale:j=.5}=e,y=(0,l.useRef)(null);return(0,l.useEffect)(()=>{var e,s;let l=y.current;if(!l)return;let w=Math.max(.001,a),A=.5*Math.max(.001,t),S=Math.max(0,d),k=Math.max(0,m),E=null!=(e=null==u?void 0:u.x)?e:0,C=null!=(s=null==u?void 0:u.y)?s:0,T=Math.max(.001,h),R=Math.max(0,N||1),P=Math.max(0,g||1),O=Math.max(0,j||1),I=Math.max(0,v||1),_=Math.max(0,Math.min(1,f||.12)),M=Math.min(2,window.devicePixelRatio||1),L=new n.A({dpr:M,alpha:x,antialias:!1}),F=L.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),F.disable(F.BLEND),Object.assign(F.canvas.style,{position:"absolute",inset:"0",width:"100%",height:"100%",display:"block"}),l.appendChild(F.canvas);let D=new r.l(F),U=new Float32Array(2),H=new Float32Array(2),z=new c.B(F,{vertex:"\n      attribute vec2 position;\n      void main() {\n        gl_Position = vec4(position, 0.0, 1.0);\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec2  iResolution;\n      uniform float iTime;\n\n      uniform float uHeight;\n      uniform float uBaseHalf;\n      uniform mat3  uRot;\n      uniform int   uUseBaseWobble;\n      uniform float uGlow;\n      uniform vec2  uOffsetPx;\n      uniform float uNoise;\n      uniform float uSaturation;\n      uniform float uScale;\n      uniform float uHueShift;\n      uniform float uColorFreq;\n      uniform float uBloom;\n      uniform float uCenterShift;\n      uniform float uInvBaseHalf;\n      uniform float uInvHeight;\n      uniform float uMinAxis;\n      uniform float uPxScale;\n      uniform float uTimeScale;\n\n      vec4 tanh4(vec4 x){\n        vec4 e2x = exp(2.0*x);\n        return (e2x - 1.0) / (e2x + 1.0);\n      }\n\n      float rand(vec2 co){\n        return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453123);\n      }\n\n      float sdOctaAnisoInv(vec3 p){\n        vec3 q = vec3(abs(p.x) * uInvBaseHalf, abs(p.y) * uInvHeight, abs(p.z) * uInvBaseHalf);\n        float m = q.x + q.y + q.z - 1.0;\n        return m * uMinAxis * 0.5773502691896258;\n      }\n\n      float sdPyramidUpInv(vec3 p){\n        float oct = sdOctaAnisoInv(p);\n        float halfSpace = -p.y;\n        return max(oct, halfSpace);\n      }\n\n      mat3 hueRotation(float a){\n        float c = cos(a), s = sin(a);\n        mat3 W = mat3(\n          0.299, 0.587, 0.114,\n          0.299, 0.587, 0.114,\n          0.299, 0.587, 0.114\n        );\n        mat3 U = mat3(\n           0.701, -0.587, -0.114,\n          -0.299,  0.413, -0.114,\n          -0.300, -0.588,  0.886\n        );\n        mat3 V = mat3(\n           0.168, -0.331,  0.500,\n           0.328,  0.035, -0.500,\n          -0.497,  0.296,  0.201\n        );\n        return W + U * c + V * s;\n      }\n\n      void main(){\n        vec2 f = (gl_FragCoord.xy - 0.5 * iResolution.xy - uOffsetPx) * uPxScale;\n\n        float z = 5.0;\n        float d = 0.0;\n\n        vec3 p;\n        vec4 o = vec4(0.0);\n\n        float centerShift = uCenterShift;\n        float cf = uColorFreq;\n\n        mat2 wob = mat2(1.0);\n        if (uUseBaseWobble == 1) {\n          float t = iTime * uTimeScale;\n          float c0 = cos(t + 0.0);\n          float c1 = cos(t + 33.0);\n          float c2 = cos(t + 11.0);\n          wob = mat2(c0, c1, c2, c0);\n        }\n\n        const int STEPS = 100;\n        for (int i = 0; i < STEPS; i++) {\n          p = vec3(f, z);\n          p.xz = p.xz * wob;\n          p = uRot * p;\n          vec3 q = p;\n          q.y += centerShift;\n          d = 0.1 + 0.2 * abs(sdPyramidUpInv(q));\n          z -= d;\n          o += (sin((p.y + z) * cf + vec4(0.0, 1.0, 2.0, 3.0)) + 1.0) / d;\n        }\n\n        o = tanh4(o * o * (uGlow * uBloom) / 1e5);\n\n        vec3 col = o.rgb;\n        float n = rand(gl_FragCoord.xy + vec2(iTime));\n        col += (n - 0.5) * uNoise;\n        col = clamp(col, 0.0, 1.0);\n\n        float L = dot(col, vec3(0.2126, 0.7152, 0.0722));\n        col = clamp(mix(vec3(L), col, uSaturation), 0.0, 1.0);\n\n        if(abs(uHueShift) > 0.0001){\n          col = clamp(hueRotation(uHueShift) * col, 0.0, 1.0);\n        }\n\n        gl_FragColor = vec4(col, o.a);\n      }\n    ",uniforms:{iResolution:{value:U},iTime:{value:0},uHeight:{value:w},uBaseHalf:{value:A},uUseBaseWobble:{value:1},uRot:{value:new Float32Array([1,0,0,0,1,0,0,0,1])},uGlow:{value:S},uOffsetPx:{value:H},uNoise:{value:k},uSaturation:{value:x?1.5:1},uScale:{value:T},uHueShift:{value:p||0},uColorFreq:{value:R},uBloom:{value:P},uCenterShift:{value:.25*w},uInvBaseHalf:{value:1/A},uInvHeight:{value:1/w},uMinAxis:{value:Math.min(A,w)},uPxScale:{value:1/(.1*(F.drawingBufferHeight||1)*T)},uTimeScale:{value:O}}}),G=new i.e(F,{geometry:D,program:z}),B=()=>{let e=l.clientWidth||1,a=l.clientHeight||1;L.setSize(e,a),U[0]=F.drawingBufferWidth,U[1]=F.drawingBufferHeight,H[0]=E*M,H[1]=C*M,z.uniforms.uPxScale.value=1/(.1*(F.drawingBufferHeight||1)*T)},W=new ResizeObserver(B);W.observe(l),B();let q=new Float32Array(9),V=(e,a,t,s)=>{let l=Math.cos(e),n=Math.sin(e),r=Math.cos(a),c=Math.sin(a),i=Math.cos(t),o=Math.sin(t);return s[0]=l*i+n*c*o,s[1]=r*o,s[2]=-n*i+l*c*o,s[3]=-l*o+n*c*i,s[4]=r*i,s[5]=n*o+l*c*i,s[6]=n*r,s[7]=-c,s[8]=l*r,s},Q=k<1e-6,Y=0,K=performance.now(),J=()=>{Y||(Y=requestAnimationFrame(eh))},Z=()=>{Y&&(cancelAnimationFrame(Y),Y=0)},X=()=>Math.random(),$=(.3+.6*X())*1,ee=(.2+.7*X())*1,ea=(.1+.5*X())*1,et=X()*Math.PI*2,es=X()*Math.PI*2,el=0,en=0,er=0,ec=0,ei=0,eo=(e,a,t)=>e+(a-e)*t,ed={x:0,y:0,inside:!0},eu=()=>{ed.inside=!1},em=()=>{ed.inside=!1},ex=null;"hover"===o?(ex=e=>{(e=>{let a=Math.max(1,window.innerWidth),t=Math.max(1,window.innerHeight),s=(e.clientX-.5*a)/(.5*a),l=(e.clientY-.5*t)/(.5*t);ed.x=Math.max(-1,Math.min(1,s)),ed.y=Math.max(-1,Math.min(1,l)),ed.inside=!0})(e),J()},window.addEventListener("pointermove",ex,{passive:!0}),window.addEventListener("mouseleave",eu),window.addEventListener("blur",em),z.uniforms.uUseBaseWobble.value=0):"3drotate"===o?z.uniforms.uUseBaseWobble.value=0:z.uniforms.uUseBaseWobble.value=1;let eh=e=>{let a=(e-K)*.001;z.uniforms.iTime.value=a;let t=!0;if("hover"===o){ec=(ed.inside?-ed.x:0)*(.6*I),ei=(ed.inside?ed.y:0)*(.6*I);let e=en,a=er;el=eo(el,ec,_),en=eo(e,ei,_),er=eo(a,0,.1),z.uniforms.uRot.value=V(el,en,er,q),Q&&1e-4>Math.abs(el-ec)&&1e-4>Math.abs(en-ei)&&1e-4>Math.abs(er)&&(t=!1)}else if("3drotate"===o){let e=a*O;el=e*ee,en=.6*Math.sin(e*$+et),er=.5*Math.sin(e*ea+es),z.uniforms.uRot.value=V(el,en,er,q),O<1e-6&&(t=!1)}else q[0]=1,q[1]=0,q[2]=0,q[3]=0,q[4]=1,q[5]=0,q[6]=0,q[7]=0,q[8]=1,z.uniforms.uRot.value=q,O<1e-6&&(t=!1);L.render({scene:G}),Y=t?requestAnimationFrame(eh):0};if(b){let e=new IntersectionObserver(e=>{e.some(e=>e.isIntersecting)?J():Z()});e.observe(l),J(),l.__prismIO=e}else J();return()=>{if(Z(),W.disconnect(),"hover"===o&&(ex&&window.removeEventListener("pointermove",ex),window.removeEventListener("mouseleave",eu),window.removeEventListener("blur",em)),b){let e=l.__prismIO;e&&e.disconnect(),delete l.__prismIO}F.canvas.parentElement===l&&l.removeChild(F.canvas)}},[a,t,o,d,m,null==u?void 0:u.x,null==u?void 0:u.y,h,x,p,N,j,v,f,g,b]),(0,s.jsx)("div",{className:"w-full h-full relative",ref:y})}},74458:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>Z});var s=t(95155),l=t(12115),n=t(63081),r=t(34540),c=t(14940),i=t.n(c),o=t(51686),d=t.n(o),u=t(81342),m=t.n(u),x=t(71007),h=t(28883),p=t(75525),N=t(69074),v=t(48136),f=t(4516),g=t(19420),b=t(17580),j=t(82680);let y=()=>{var e,a;let t=(0,r.d4)(e=>e.auth.user),[n,c]=(0,l.useState)(null),[o,u]=(0,l.useState)(!0),y=async()=>{try{let e=await (0,j.r8)();console.log("staff datas",e.staff),c(e.staff)}catch(e){console.log(e)}finally{u(!1)}};if((0,l.useEffect)(()=>{y()},[]),o)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsx)("div",{className:"text-white",children:"Loading account information..."})});if(!t||!n)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsx)("div",{className:"text-white",children:"Unable to load account information"})});let w=null==n?void 0:n.theaterId,A=null==n?void 0:n.ownerId;return(0,s.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"".concat(i().className," text-3xl text-white mb-2"),children:"My Account"}),(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400"),children:"Staff profile and information"})]}),(0,s.jsxs)("div",{className:"bg-black/90 backdrop-blur-sm border border-gray-500/30 rounded-2xl p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,s.jsxs)("span",{className:"".concat(i().className," text-white text-2xl"),children:[null==n||null==(e=n.firstName)?void 0:e.charAt(0).toUpperCase(),null==n||null==(a=n.lastName)?void 0:a.charAt(0).toUpperCase()]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"".concat(i().className," text-2xl text-white"),children:[null==n?void 0:n.firstName," ",null==n?void 0:n.lastName]}),(0,s.jsx)("p",{className:"".concat(d().className," text-gray-400 mt-1"),children:null==n?void 0:n.email}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,s.jsxs)("span",{className:"".concat(d().className," inline-block px-3 py-1 bg-blue-500/20 text-blue-400 text-sm rounded-full"),children:[(null==n?void 0:n.role.charAt(0).toUpperCase())+(null==n?void 0:n.role.slice(1))," Member"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat((null==n?void 0:n.isActive)?"bg-green-400":"bg-red-400")}),(0,s.jsx)("span",{className:"".concat(m().className," text-xs ").concat((null==n?void 0:n.isActive)?"text-green-400":"text-red-400"),children:(null==n?void 0:n.isActive)?"Active":"Inactive"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"".concat(d().className," text-lg text-white mb-4"),children:"Personal Information"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(x.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Full Name"}),(0,s.jsxs)("p",{className:"".concat(d().className," text-white"),children:[null==n?void 0:n.firstName," ",null==n?void 0:n.lastName]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(h.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Email Address"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:null==n?void 0:n.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(p.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Role"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:(null==n?void 0:n.role.charAt(0).toUpperCase())+(null==n?void 0:n.role.slice(1))})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(N.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Joined"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:new Date(null==n?void 0:n.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"".concat(d().className," text-lg text-white mb-4"),children:"Theater Information"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(v.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Theater Name"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:(null==w?void 0:w.name)||"Not Assigned"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(f.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Location"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:w?"".concat(null==w?void 0:w.city,", ").concat(null==w?void 0:w.state):"Not Available"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(g.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Theater Phone"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:(null==w?void 0:w.phone)||"Not Available"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(b.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Total Screens"}),(0,s.jsxs)("p",{className:"".concat(d().className," text-white"),children:[(null==w?void 0:w.screens)||0," Screens"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"".concat(d().className," text-lg text-white mb-4"),children:"Owner Information"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(x.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Owner Name"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:(null==A?void 0:A.ownerName)||"Not Available"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(g.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Owner Phone"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white"),children:(null==A?void 0:A.phone)||"Not Available"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(v.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"".concat(m().className," text-gray-400 text-sm"),children:"Staff ID"}),(0,s.jsx)("p",{className:"".concat(d().className," text-white font-mono"),children:null==n?void 0:n._id.slice(-8).toUpperCase()})]})]}),(null==w?void 0:w.location)&&(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)(f.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)("button",{onClick:()=>{let e="https://www.google.com/maps?q=".concat(w.location.coordinates[1],",").concat(w.location.coordinates[0]);window.open(e,"_blank")},className:"text-blue-400 hover:text-blue-300 underline text-sm transition-colors",children:"View on Google Maps"})]})]})]}),(null==w?void 0:w.address)&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-white/5 rounded-xl",children:[(0,s.jsx)("h4",{className:"".concat(d().className," text-white mb-2"),children:"Theater Address"}),(0,s.jsx)("p",{className:"".concat(m().className," text-gray-300"),children:w.address})]}),(0,s.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-500/30",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{className:"".concat(d().className," px-6 py-3 bg-white text-black rounded-xl hover:bg-gray-200 transition-colors"),children:"Edit Profile"}),(0,s.jsx)("button",{className:"".concat(d().className," px-6 py-3 border border-gray-500/30 text-gray-300 rounded-xl hover:bg-white/10 transition-colors"),children:"Change Password"})]})})]})]})};var w=t(9964),A=t.n(w),S=t(68726),k=t.n(S),E=t(86894),C=t.n(E),T=t(85339),R=t(84355),P=t(57901),O=t(54416),I=t(5196),_=t(40646),M=t(54861),L=t(64026);let F=()=>{var e,a;let[t,n]=(0,l.useState)(null),[r,c]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[d,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(""),[h,p]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!1),[f,g]=(0,l.useState)(""),[b,y]=(0,l.useState)(""),[w,S]=(0,l.useState)(!1),[E,F]=(0,l.useState)(null),D=(0,l.useRef)(null),U=(0,l.useRef)(null);(0,l.useEffect)(()=>(H(),()=>{W()}),[]),(0,l.useEffect)(()=>{r&&D.current&&!U.current&&G()},[r,D.current]);let H=async()=>{try{if(!await L.A.hasCamera()){x("No camera found on this device"),n(!1);return}try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop()),n(!0)}catch(e){n(!1)}}catch(e){console.error("Error checking camera:",e),n(!1)}},z=()=>{c(!0),x(""),p(!1),v(!1),o(null),S(!1),F(null)},G=async()=>{if(D.current)try{let e=D.current;e.addEventListener("loadedmetadata",()=>{p(!0)}),e.addEventListener("canplay",()=>{p(!0)}),e.addEventListener("playing",()=>{p(!0)}),U.current=new L.A(e,e=>{console.log("\uD83D\uDD0D QR Code Detected:",e.data);let a=e.data;B(),g(a),v(!0)},{highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:"environment",maxScansPerSecond:1}),await U.current.start(),console.log("✅ QR Scanner initialized successfully"),setTimeout(()=>{D.current&&D.current.paused&&D.current.play().catch(console.error)},1e3)}catch(e){console.error("Failed to initialize scanner:",e),x("Failed to start camera: ".concat(e)),c(!1)}},B=()=>{U.current&&U.current.stop()},W=()=>{U.current&&(U.current.stop(),U.current.destroy(),U.current=null),p(!1),c(!1),v(!1)},q=async()=>{u(!0),v(!1);try{console.log("sns becomes ",f);let e=await (0,j.OC)(f);console.log("api verified data:",e),F(e),S(!0),W()}catch(e){console.log(e),F({success:!1,message:e.response.data.message,data:null}),S(!0),W()}finally{u(!1)}};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"".concat(A().className," text-3xl text-white mb-2"),children:"QR Code Scanner"}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-400"),children:"Scan ticket QR codes for verification"})]}),(0,s.jsxs)("div",{className:"bg-black/90 backdrop-blur-sm border border-gray-500/30 rounded-2xl p-8",children:[m&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(T.A,{className:"w-5 h-5 text-red-400"}),(0,s.jsx)("p",{className:"".concat(C().className," text-red-400"),children:m})]})}),null===t?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-400"),children:"Checking camera availability..."})]}):!1===t?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(R.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"".concat(k().className," text-xl text-white mb-2"),children:"Camera Access Required"}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-400 mb-6"),children:"We need camera access to scan QR codes on tickets"}),(0,s.jsx)("button",{onClick:z,className:"".concat(k().className," px-6 py-3 bg-white text-black rounded-xl hover:bg-gray-200 transition-colors"),children:"Allow Camera Access"})]}):r||i||w?r?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative aspect-video bg-black rounded-xl overflow-hidden border-2 border-gray-600",children:[(0,s.jsx)("video",{ref:D,className:"w-full h-full object-cover",playsInline:!0,muted:!0,autoPlay:!0,style:{display:"block",width:"100%",height:"100%"}}),!h&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"".concat(C().className," text-white"),children:"Starting camera..."})]})}),h&&!d&&!N&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-64 h-64 border-2 border-white/50 rounded-xl"}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-blue-400 rounded-tl-xl"}),(0,s.jsx)("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-blue-400 rounded-tr-xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-blue-400 rounded-bl-xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-blue-400 rounded-br-xl"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-full h-1 bg-blue-400 opacity-60 animate-pulse"})})]})}),d&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"".concat(k().className," text-white text-lg"),children:"Verifying Ticket..."}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-400 text-sm mt-2"),children:"Please wait"})]})}),!d&&!N&&h&&(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-none",children:(0,s.jsx)("div",{className:"bg-black/70 px-4 py-2 rounded-lg",children:(0,s.jsx)("p",{className:"".concat(C().className," text-white text-sm text-center"),children:"Position QR code within the frame"})})})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"".concat(C().className," text-gray-400 mb-4"),children:d?"Verifying ticket...":N?"QR Code detected!":"Scanning for QR codes..."}),(0,s.jsx)("button",{onClick:W,disabled:d,className:"".concat(k().className," px-6 py-3 border border-gray-500/30 text-gray-300 rounded-xl hover:bg-white/10 transition-colors disabled:opacity-50"),children:d?"Processing...":"Stop Scanning"})]})]}):null:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(P.A,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"".concat(k().className," text-xl text-white mb-2"),children:"Ready to Scan"}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-400 mb-6"),children:"Point your camera at a ticket QR code"}),(0,s.jsx)("button",{onClick:z,className:"".concat(k().className," px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors"),children:"Start Scanning"})]})]}),N&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:(0,s.jsx)("div",{className:"bg-black/90 border border-gray-500/30 rounded-2xl p-8 max-w-md w-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(P.A,{className:"w-8 h-8 text-blue-400"})}),(0,s.jsx)("h3",{className:"".concat(A().className," text-xl text-white mb-2"),children:"QR Code Detected!"}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-400 mb-6"),children:"Do you want to verify this ticket?"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("button",{onClick:()=>{v(!1),g(""),y(""),U.current&&U.current.start().catch(console.error)},className:"".concat(k().className," flex-1 px-4 py-3 border border-gray-500/30 text-gray-300 rounded-xl hover:bg-white/10 transition-colors flex items-center justify-center gap-2"),children:[(0,s.jsx)(O.A,{className:"w-4 h-4"}),"Cancel"]}),(0,s.jsxs)("button",{onClick:q,className:"".concat(k().className," flex-1 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors flex items-center justify-center gap-2"),children:[(0,s.jsx)(I.A,{className:"w-4 h-4"}),"Verify Ticket"]})]})]})})}),w&&E&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:(0,s.jsx)("div",{className:"bg-black/90 border border-gray-500/30 rounded-2xl p-8 max-w-md w-full",children:(0,s.jsxs)("div",{className:"text-center",children:[E.success?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(_.A,{className:"w-12 h-12 text-green-400"})}),(0,s.jsx)("h3",{className:"".concat(A().className," text-2xl text-green-400 mb-2"),children:"Ticket Verified Successfully!"}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-300 mb-6"),children:"Entry granted - Customer may proceed"}),(null==(e=E.data)?void 0:e.ticket)&&(0,s.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-6 mb-6 text-left",children:[(0,s.jsx)("h4",{className:"".concat(k().className," text-white text-lg mb-4 text-center"),children:"Ticket Details"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Movie:"}),(0,s.jsx)("span",{className:"".concat(k().className," text-white text-right"),children:E.data.ticket.movieTitle})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Theater:"}),(0,s.jsx)("span",{className:"".concat(k().className," text-white text-right"),children:E.data.ticket.theater})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Screen:"}),(0,s.jsx)("span",{className:"".concat(k().className," text-white text-right"),children:E.data.ticket.screen})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Date:"}),(0,s.jsx)("span",{className:"".concat(k().className," text-white text-right"),children:new Date(E.data.ticket.showDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Time:"}),(0,s.jsx)("span",{className:"".concat(k().className," text-white text-right"),children:(e=>{let[a,t]=e.split(":"),s=parseInt(a)>12?parseInt(a)-12:parseInt(a),l=parseInt(a)>=12?"PM":"AM";return"".concat(0===s?12:s,":").concat(t," ").concat(l)})(E.data.ticket.showTime)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Seat:"}),(0,s.jsxs)("span",{className:"".concat(k().className," text-white text-right"),children:[E.data.ticket.seat," (",E.data.ticket.seatType,")"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Price:"}),(0,s.jsxs)("span",{className:"".concat(k().className," text-green-400 text-right"),children:["₹",E.data.ticket.price]})]}),(null==(a=E.data.customer)?void 0:a.name)&&"N/A"!==E.data.customer.name&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"".concat(C().className," text-gray-400"),children:"Customer:"}),(0,s.jsx)("span",{className:"".concat(k().className," text-white text-right"),children:E.data.customer.name})]})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(M.A,{className:"w-12 h-12 text-red-400"})}),(0,s.jsx)("h3",{className:"".concat(A().className," text-2xl text-red-400 mb-2"),children:"Verification Failed"}),(0,s.jsx)("p",{className:"".concat(C().className," text-gray-300 mb-4"),children:E.message||"Invalid or already used ticket"}),(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:(0,s.jsx)("p",{className:"".concat(C().className," text-red-400 text-sm"),children:"This ticket cannot be used for entry. Ticket used or expired."})})]}),(0,s.jsxs)("button",{onClick:()=>{o(null),x(""),c(!1),p(!1),v(!1),g(""),y(""),S(!1),F(null),U.current&&(U.current.destroy(),U.current=null)},className:"".concat(k().className," w-full px-6 py-3 bg-white text-black rounded-xl hover:bg-gray-200 transition-colors flex items-center justify-center gap-2"),children:[(0,s.jsx)(O.A,{className:"w-4 h-4"}),"Close & Scan Again"]})]})})})]})},D=e=>{let{activeTab:a}=e;return(0,s.jsxs)("div",{className:"min-h-screen",children:["account"===a&&(0,s.jsx)(y,{}),"scanner"===a&&(0,s.jsx)(F,{})]})};var U=t(97939),H=t(66474),z=t(34835),G=t(74783),B=t(33208),W=t(538),q=t.n(W),V=t(13362),Q=t.n(V),Y=t(55856),K=t(35695);function J(e){var a,t;let{activeTab:n,onTabChange:c}=e,[i,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),p=(0,r.wA)(),N=(0,r.d4)(e=>e.auth.user),v=(0,r.d4)(e=>e.auth.isAuthenticated),f=(0,K.useRouter)();(0,l.useEffect)(()=>{h(!0)},[]);let g=async()=>{try{await p((0,B.y4)()).unwrap(),f.push("/login")}catch(e){console.error("Logout failed:",e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("nav",{className:"relative z-50 border-b border-gray-800/50 backdrop-blur-md",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(Y.A,{})}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[(0,s.jsxs)("button",{onClick:()=>c("account"),className:"".concat(q().className," flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 ").concat("account"===n?"bg-white text-black":"text-gray-300 hover:text-white hover:bg-white/10"),children:[(0,s.jsx)(x.A,{className:"w-4 h-4"}),"My Account"]}),(0,s.jsxs)("button",{onClick:()=>c("scanner"),className:"".concat(q().className," flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 ").concat("scanner"===n?"bg-white text-black":"text-gray-300 hover:text-white hover:bg-white/10"),children:[(0,s.jsx)(U.A,{className:"w-4 h-4"}),"QR Scanner"]}),m&&v&&N&&(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>u(!d),className:"flex items-center gap-2 px-3 py-2 text-gray-300 hover:text-white transition-colors rounded-xl hover:bg-white/10",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"".concat(q().className," text-white text-sm"),children:null==(a=N.firstName)?void 0:a.charAt(0).toUpperCase()})}),(0,s.jsx)("span",{className:"".concat(Q().className," text-sm"),children:N.firstName}),(0,s.jsx)(H.A,{className:"w-4 h-4"})]}),d&&(0,s.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-64 bg-black/90 backdrop-blur-sm border border-gray-500/30 rounded-xl shadow-2xl z-50",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-500/30",children:[(0,s.jsxs)("p",{className:"".concat(q().className," text-white text-sm"),children:[N.firstName," ",N.lastName]}),(0,s.jsx)("p",{className:"".concat(Q().className," text-gray-400 text-xs"),children:N.email}),(0,s.jsx)("span",{className:"".concat(Q().className," inline-block mt-1 px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full"),children:N.role})]}),(0,s.jsx)("div",{className:"p-2",children:(0,s.jsxs)("button",{onClick:g,className:"".concat(Q().className," w-full flex items-center gap-2 px-3 py-2 text-left text-red-400 hover:bg-red-500/20 rounded-lg transition-colors text-sm"),children:[(0,s.jsx)(z.A,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]}),(0,s.jsx)("div",{className:"md:hidden flex items-center gap-4",children:(0,s.jsx)("button",{onClick:()=>o(!i),className:"text-gray-300 hover:text-white",children:i?(0,s.jsx)(O.A,{size:24}):(0,s.jsx)(G.A,{size:24})})})]}),i&&(0,s.jsx)("div",{className:"md:hidden border-t border-gray-800/50 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[m&&v&&N&&(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 border border-gray-500/30 rounded-xl",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"".concat(q().className," text-white"),children:null==(t=N.firstName)?void 0:t.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"".concat(q().className," text-white text-sm"),children:[N.firstName," ",N.lastName]}),(0,s.jsx)("p",{className:"".concat(Q().className," text-gray-400 text-xs"),children:N.email})]})]}),(0,s.jsxs)("button",{onClick:()=>{c("account"),o(!1)},className:"".concat(q().className," flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ").concat("account"===n?"bg-white text-black":"text-gray-300 hover:text-white hover:bg-white/10"),children:[(0,s.jsx)(x.A,{className:"w-5 h-5"}),"My Account"]}),(0,s.jsxs)("button",{onClick:()=>{c("scanner"),o(!1)},className:"".concat(q().className," flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ").concat("scanner"===n?"bg-white text-black":"text-gray-300 hover:text-white hover:bg-white/10"),children:[(0,s.jsx)(U.A,{className:"w-5 h-5"}),"QR Scanner"]}),(0,s.jsxs)("button",{onClick:g,className:"".concat(q().className," flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/20 rounded-xl transition-colors"),children:[(0,s.jsx)(z.A,{className:"w-5 h-5"}),"Sign Out"]})]})})]})}),d&&(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)})]})}let Z=()=>{let[e,a]=(0,l.useState)("account");return(0,s.jsxs)("div",{className:"relative min-h-screen bg-black",children:[(0,s.jsx)("div",{className:"fixed top-9 inset-0 z-0",children:(0,s.jsx)(n.A,{animationType:"rotate",timeScale:.5,height:3.5,baseWidth:4,scale:4,hueShift:.7,colorFrequency:1,noise:0,glow:.5})}),(0,s.jsx)("div",{className:"relative z-20",children:(0,s.jsx)(J,{activeTab:e,onTabChange:a})}),(0,s.jsx)("div",{className:"relative z-10",children:(0,s.jsx)(D,{activeTab:e})})]})}},77567:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var s=t(23464),l=t(12764);let n=s.A.create({baseURL:"https://cineora.fun/api",headers:{"Content-Type":"application/json"},withCredentials:!0}),r=!1,c=[],i=e=>{c.forEach(a=>{let{resolve:t,reject:s}=a;e?s(e):t()}),c=[],r=!1};n.interceptors.response.use(e=>e,async e=>{var a,t,s;let o=e.config;if(null==(a=o.url)?void 0:a.includes(l.A.REFRESH))return Promise.reject(e);if((null==(t=e.response)?void 0:t.status)===401&&!o._retry){if(r)return new Promise((e,a)=>{c.push({resolve:e,reject:a})}).then(()=>n(o)).catch(e=>Promise.reject(e));o._retry=!0,r=!0;try{return await n.post(l.A.REFRESH),i(null),n(o)}catch(e){return console.error(" Refresh failed:",e),i(e),window.location.href="/login",Promise.reject(e)}}return(null==(s=e.response)?void 0:s.status)===401&&(window.location.href="/login"),Promise.reject(e)});let o=n},82680:(e,a,t)=>{"use strict";t.d(a,{D1:()=>n,r8:()=>c,OC:()=>r});let s={CREATE:"/owner/create/staff",VERIFY_TICKET:"/staff/verify-ticket",GET_DETAILS:"/staff/details"};var l=t(77567);let n=async e=>(await l.A.post(s.CREATE,e)).data,r=async e=>(await l.A.post(s.VERIFY_TICKET,{data:e})).data,c=async()=>(await l.A.get(s.GET_DETAILS)).data.data}},e=>{e.O(0,[8497,4303,9268,1410,7779,8441,5964,7358],()=>e(e.s=11101)),_N_E=e.O()}]);