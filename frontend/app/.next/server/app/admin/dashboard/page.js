(()=>{var a={};a.id=957,a.ids=[957],a.modules={203:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},724:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},1768:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6737:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},7055:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_9e6433"}},8292:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},8598:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},10187:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},10701:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontStyle:"normal"},className:"__className_7511d4"}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11860:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},12412:a=>{"use strict";a.exports=require("assert")},12491:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},12941:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},14015:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},16432:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19635:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},19656:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:700,fontStyle:"normal"},className:"__className_81d908"}},20694:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},21069:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},21705:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},21820:a=>{"use strict";a.exports=require("os")},22245:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},22718:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},23026:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},23644:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},23961:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},23976:(a,b,c)=>{Promise.resolve().then(c.bind(c,69552))},26202:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27137:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontStyle:"normal"},className:"__className_7511d4"}},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},28440:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]])},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29940:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},30157:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},33327:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},33500:(a,b,c)=>{"use strict";c.d(b,{A:()=>i});var d=c(60687);c(43210);var e=c(7055),f=c.n(e),g=c(19656),h=c.n(g);function i({bookingFlow:a}){return(0,d.jsx)("div",{className:"h-100 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"backdrop-blur-sm bg-black/20 rounded-2xl p-8 border border-gray-500/30 text-center",children:[(0,d.jsx)("h2",{className:`${h().className} text-white text-2xl mb-4`,children:"Oops"}),(0,d.jsxs)("p",{className:`${f().className} text-gray-400 mb-6`,children:["There are no shows ","movie-first"===a?"for":"in"," this ","movie-first"===a?"movie":"theater"," for this date."]})]})})}},33873:a=>{"use strict";a.exports=require("path")},36200:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},36489:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},38081:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},38267:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},38424:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},41862:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},42692:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},43128:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},44829:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},46294:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},48576:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},50209:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},51361:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},55825:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},56631:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},57668:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},58823:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},59144:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},60424:(a,b,c)=>{Promise.resolve().then(c.bind(c,71031))},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64670:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},65465:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},66994:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},68341:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},69165:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},69552:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e5});var d=c(60687),e=c(43210),f=c.n(e),g=c(72950),h=c.n(g),i=c(28440),j=c(41312),k=c(58869),l=c(15382),m=c(53411),n=c(35583),o=c(40228),p=c(86594),q=c(12941),r=c(40083),s=c(94926),t=c(54864),u=c(16189);let v={fontFamily:"Lexend",fontWeight:"500"},w={fontFamily:"Lexend",fontWeight:"400"},x=({activeTab:a,setActiveTab:b,sidebarOpen:c,setSidebarOpen:e})=>{let f=[{id:"movies",label:"Movies",icon:i.A,count:0},{id:"users",label:"Users",icon:j.A,count:1247},{id:"owners",label:"Owners and Theaters",icon:k.A,count:12},{id:"screens",label:"Screens and Showtimes",icon:l.A,count:1247},{id:"analytics",label:"Analytics",icon:m.A},{id:"wallet",label:"Wallet",icon:n.A},{id:"bookings",label:"Bookings",icon:o.A,count:89},{id:"coupon",label:"Coupons",icon:p.A,count:5}],g=(0,t.wA)(),h=(0,u.useRouter)(),x=async()=>{try{await g((0,s.y4)()).unwrap(),console.log("Logged out successfully"),h.push("/login")}catch(a){console.error("Logout failed:",a)}};return(0,d.jsxs)("div",{className:`${c?"w-72":"w-20"} bg-black/95 backdrop-blur-sm border-r border-yellow-500/20 transition-all duration-300 flex flex-col`,children:[(0,d.jsx)("div",{className:"p-6 border-b border-yellow-500/20",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[c&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl text-yellow-400 mb-1",style:v,children:"Showteria"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:w,children:"Movie Management"})]}),(0,d.jsx)("button",{onClick:()=>e(!c),className:"text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 p-2 rounded-lg transition-all duration-200",children:(0,d.jsx)(q.A,{size:20})})]})}),(0,d.jsx)("nav",{className:"flex-1 p-4",children:(0,d.jsx)("ul",{className:"space-y-2",children:f.map(e=>{let f=e.icon,g=a===e.id;return(0,d.jsx)("li",{children:(0,d.jsxs)("button",{onClick:()=>b(e.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${g?"bg-yellow-500 text-black":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-500/10"}`,children:[(0,d.jsx)(f,{size:20,className:g?"text-black":"text-yellow-400"}),c&&(0,d.jsx)("div",{className:"flex-1 flex items-center justify-between",children:(0,d.jsx)("span",{className:"text-left",style:w,children:e.label})})]})},e.id)})})}),(0,d.jsx)("div",{className:"p-4 border-t border-yellow-500/20",children:(0,d.jsxs)("button",{onClick:x,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:text-red-400 hover:bg-red-500/10 transition-all duration-200",children:[(0,d.jsx)(r.A,{size:20,className:"text-red-400"}),c&&(0,d.jsx)("span",{style:w,children:"Logout"})]})})]})};var y=c(65465),z=c.n(y),A=c(83578),B=c.n(A),C=c(48730),D=c(96474);let E={fontFamily:"Lexend",fontWeight:"400"},F=({activeView:a,setActiveView:b,currentCount:c,expiredCount:e})=>{let f=[{id:"current",label:"Current Movies",icon:i.A,count:c,color:"text-green-400"},{id:"expired",label:"Inactive Movies",icon:C.A,count:e,color:"text-red-400"},{id:"tmdb",label:"Add from TMDB",icon:D.A,color:"text-blue-400"}];return(0,d.jsx)("div",{className:"bg-gray-900/90 backdrop-blur-sm border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsx)("div",{className:"flex flex-wrap gap-3",children:f.map(c=>{let e=c.icon,f=a===c.id;return(0,d.jsxs)("button",{onClick:()=>b(c.id),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${f?"bg-yellow-500 text-black font-medium":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-500/10 border border-yellow-500/30"}`,children:[(0,d.jsx)(e,{size:18,className:f?"text-black":"text-yellow-400"}),(0,d.jsx)("span",{style:E,children:c.label}),void 0!==c.count&&(0,d.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${f?"bg-black/20 text-black":"bg-yellow-500/20 text-yellow-400"}`,style:E,children:c.count})]},c.id)})})})},G={POPULAR_MOVIES:"/movie/popular",GENRES:"/genre/movie/list",SEARCH_MOVIES:"/search/movie"},H=c(51060).A.create({baseURL:"https://api.themoviedb.org/3",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5NDI5ZTk2NjM0MjZkYTI3NzAxYTFiNzI5ZTFhYjI4NiIsIm5iZiI6MTczNzY1MDg5Ni4xODU5OTk5LCJzdWIiOiI2NzkyNzJkMGVhNjQ2ODIzNGVlYWQxYmUiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.X9OMStrcWC9IeHFbMd7_s7qWFhwlB5Lol_T65QEMULY",Accept:"application/json"}}),I=async(a=1)=>(await H.get(G.POPULAR_MOVIES,{params:{language:"en-US",page:a}})).data,J=async()=>(await H.get(G.GENRES,{params:{language:"en-US"}})).data.genres,K=async(a,b=1)=>(await H.get(G.SEARCH_MOVIES,{params:{query:a,page:b}})).data,L=(0,e.createContext)(void 0),M=({children:a})=>{let[b,c]=(0,e.useState)([]),[f,g]=(0,e.useState)([]),[h,i]=(0,e.useState)(!1);return(0,d.jsx)(L.Provider,{value:{movies:b,setMovies:c,tmdbMovies:f,setTmdbMovies:g,loading:h,setLoading:i},children:a})},N=()=>{let a=(0,e.useContext)(L);if(!a)throw Error("useAdmin must be used within AdminProvider");return a};var O=c(59144),P=c.n(O),Q=c(69165),R=c.n(Q);let S=()=>(0,d.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${P().className} text-2xl font-bold text-white mb-2`,children:"Add Movies from TMDB"}),(0,d.jsx)("p",{className:`${R().className} text-gray-300`,children:"Search and add movies from The Movie Database"})]})});var T=c(99270),U=c(80462),V=c(6943),W=c(62688);let X=(0,W.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var Y=c(10187),Z=c.n(Y);let $=({searchTerm:a,setSearchTerm:b,selectedGenre:c,setSelectedGenre:e,sortBy:f,setSortBy:g,viewMode:h,setViewMode:i,genres:j})=>(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,d.jsx)("input",{type:"text",placeholder:"Search movies on TMDB...",value:a,onChange:a=>b(a.target.value),className:`${Z().className} w-full pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(U.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:c,onChange:a=>e(a.target.value),className:"w-48 pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white appearance-none focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]",children:[(0,d.jsx)("option",{value:"all",children:"All Genres"}),j.map(a=>(0,d.jsx)("option",{value:a.id.toString(),children:a.name},a.id))]})]}),(0,d.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"w-40 px-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white appearance-none focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]",children:[(0,d.jsx)("option",{value:"popularity",children:"Popularity"}),(0,d.jsx)("option",{value:"title",children:"Title"}),(0,d.jsx)("option",{value:"release_date",children:"Release Date"}),(0,d.jsx)("option",{value:"vote_average",children:"Rating"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>i("grid"),className:`p-2 rounded border transition-colors ${"grid"===h?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:border-[#e78f03] hover:text-white"}`,children:(0,d.jsx)(V.A,{size:16})}),(0,d.jsx)("button",{onClick:()=>i("list"),className:`p-2 rounded border transition-colors ${"list"===h?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:border-[#e78f03] hover:text-white"}`,children:(0,d.jsx)(X,{size:16})})]})]})});var _=c(64398),aa=c(41862),ab=c(57668),ac=c.n(ab),ad=c(6737),ae=c.n(ad);let af=({movie:a,onAddMovie:b,getGenreNames:c,loading:e})=>(0,d.jsxs)("div",{className:"group bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300 hover:shadow-2xl hover:shadow-[#e78f03]/20 backdrop-blur-sm",children:[(0,d.jsxs)("div",{className:"relative overflow-hidden rounded-t-lg",children:[(0,d.jsx)("img",{src:a.poster_path?`https://image.tmdb.org/t/p/w500${a.poster_path}`:"/placeholder.svg",alt:a.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,d.jsx)("div",{className:"absolute top-3 left-3",children:(0,d.jsxs)("div",{className:"flex items-center gap-1 bg-black/50 text-yellow-400 text-xs px-2 py-1 rounded-full",children:[(0,d.jsx)(_.A,{size:12,fill:"currentColor"}),(0,d.jsx)("span",{children:a.vote_average.toFixed(1)})]})}),(0,d.jsx)("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,d.jsx)("button",{className:"h-8 w-8 p-0 bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md flex items-center justify-center transition-colors",onClick:()=>b(a),disabled:e,children:e?(0,d.jsx)(aa.A,{size:14,className:"animate-spin"}):(0,d.jsx)(D.A,{size:14})})})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsx)("h3",{className:`${ac().className} text-lg font-semibold text-white line-clamp-1`,children:a.title}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,d.jsx)(o.A,{size:12}),(0,d.jsx)("span",{children:a.release_date?new Date(a.release_date).getFullYear():"N/A"})]})]}),(0,d.jsx)("div",{className:"flex items-center gap-2 mb-3",children:(0,d.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border bg-blue-500/20 text-blue-200 border-blue-400/50",children:c(a.genre_ids.slice(0,2))})}),(0,d.jsx)("p",{className:`${ae().className} text-gray-300 text-sm mb-4 line-clamp-2`,children:a.overview}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,d.jsx)(_.A,{size:14,fill:"currentColor"}),(0,d.jsx)("span",{className:"text-sm",children:a.vote_average.toFixed(1)}),(0,d.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",a.vote_count,")"]})]}),(0,d.jsxs)("button",{className:"bg-[#e78f03] text-black hover:bg-[#d17a02] px-3 py-1 rounded-md text-sm font-medium transition-colors flex items-center gap-1",onClick:()=>b(a),disabled:e,children:[e?(0,d.jsx)(aa.A,{size:14,className:"animate-spin"}):(0,d.jsx)(D.A,{size:14}),"Add"]})]})]})]});var ag=c(55825),ah=c.n(ag),ai=c(66994),aj=c.n(ai);let ak=({movie:a,onAddMovie:b,getGenreNames:c,loading:e})=>(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300",children:(0,d.jsx)("div",{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("img",{src:a.poster_path?`https://image.tmdb.org/t/p/w500${a.poster_path}`:"/placeholder.svg",alt:a.title,className:"w-16 h-24 object-cover rounded-lg"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsx)("h3",{className:`${ah().className} text-lg font-semibold text-white`,children:a.title}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,d.jsx)(_.A,{size:14,fill:"currentColor"}),(0,d.jsx)("span",{className:"text-sm",children:a.vote_average.toFixed(1)})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,d.jsx)(o.A,{size:12}),(0,d.jsx)("span",{children:new Date(a.release_date).getFullYear()})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,d.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border bg-blue-500/20 text-blue-200 border-blue-400/50",children:c(a.genre_ids.slice(0,3))}),(0,d.jsxs)("span",{className:"text-gray-400 text-sm",children:["Votes: ",a.vote_count]})]}),(0,d.jsx)("p",{className:`${aj().className} text-gray-300 text-sm mb-3 line-clamp-1`,children:a.overview})]}),(0,d.jsx)("div",{className:"flex gap-2",children:(0,d.jsxs)("button",{className:"px-4 py-2 text-sm bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md transition-colors font-medium flex items-center gap-2",onClick:()=>b(a),disabled:e,children:[e?(0,d.jsx)(aa.A,{size:14,className:"animate-spin"}):(0,d.jsx)(D.A,{size:14}),"Add Movie"]})})]})})}),al=(0,W.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var am=c(14952);let an={fontFamily:"Lexend",fontWeight:"400"},ao=({currentPage:a,totalPages:b,onPageChange:c})=>b<=1?null:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3 mt-8",children:[(0,d.jsx)("button",{onClick:()=>c(Math.max(a-1,1)),disabled:1===a,className:"p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-yellow-400 hover:bg-yellow-500/10 hover:border-yellow-500/60 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-800/50 disabled:hover:border-yellow-500/30 transition-all duration-200",children:(0,d.jsx)(al,{size:20})}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,b)},(e,f)=>{let g=Math.max(1,a-2)+f;return g>b?null:(0,d.jsx)("button",{onClick:()=>c(g),className:`px-4 py-2 rounded-lg transition-all duration-200 ${a===g?"bg-yellow-500 text-black font-medium":"bg-gray-800/50 border border-yellow-500/30 text-yellow-400 hover:bg-yellow-500/10 hover:border-yellow-500/60"}`,style:an,children:g},g)})}),(0,d.jsx)("button",{onClick:()=>c(Math.min(a+1,b)),disabled:a===b,className:"p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-yellow-400 hover:bg-yellow-500/10 hover:border-yellow-500/60 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-800/50 disabled:hover:border-yellow-500/30 transition-all duration-200",children:(0,d.jsx)(am.A,{size:20})})]});var ap=c(38267),aq=c.n(ap),ar=c(1768),as=c.n(ar);let at=()=>(0,d.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-12 text-center",children:[(0,d.jsx)(aa.A,{className:"h-16 w-16 text-[#e78f03] mx-auto mb-4 animate-spin"}),(0,d.jsx)("h3",{className:`${aq().className} text-xl text-white mb-2`,children:"Loading Movies..."}),(0,d.jsx)("p",{className:`${as().className} text-gray-400`,children:"Fetching data from TMDB"})]});var au=c(97436),av=c.n(au),aw=c(21705),ax=c.n(aw);let ay=()=>(0,d.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-12 text-center",children:[(0,d.jsx)(T.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:`${av().className} text-xl text-white mb-2`,children:"No movies found"}),(0,d.jsx)("p",{className:`${ax().className} text-gray-400`,children:"Try adjusting your search or filter criteria"})]}),az=({onAddMovie:a})=>{let{searchTerm:b,setSearchTerm:c,selectedGenre:f,setSelectedGenre:g,sortBy:h,setSortBy:i,viewMode:j,setViewMode:k,currentPage:l,setCurrentPage:m,totalPages:n,genres:o,loading:p,filteredMovies:q,getGenreNames:r,TMDB_IMAGE_BASE_URL:s}=(()=>{let{tmdbMovies:a,setTmdbMovies:b,loading:c,setLoading:d}=N(),[f,g]=(0,e.useState)(""),[h,i]=(0,e.useState)("all"),[j,k]=(0,e.useState)("popularity"),[l,m]=(0,e.useState)("grid"),[n,o]=(0,e.useState)(1),[p,q]=(0,e.useState)(1),[r,s]=(0,e.useState)([]);(0,e.useEffect)(()=>{if(f.trim()){let a=f.trim(),b=setTimeout(()=>{u(a,n)},500);return()=>clearTimeout(b)}t(n)},[f,n]);let t=async a=>{d(!0);try{let[c,d]=await Promise.all([I(a),J()]);b(c.results),s(d),q(c.total_pages)}catch(a){console.error(a)}finally{d(!1)}},u=async(a,c)=>{d(!0);try{let d=await K(a,c);b(d.results),q(d.total_pages)}catch(a){console.error(a)}finally{d(!1)}},v=(a||[]).filter(a=>"all"===h||a.genre_ids.includes(+h)).sort((a,b)=>{switch(j){case"title":return a.title.localeCompare(b.title);case"release_date":return new Date(b.release_date).getTime()-new Date(a.release_date).getTime();case"vote_average":return b.vote_average-a.vote_average;default:return(b.popularity??0)-(a.popularity??0)}});return{searchTerm:f,setSearchTerm:a=>{g(a),o(1)},selectedGenre:h,setSelectedGenre:i,sortBy:j,setSortBy:k,viewMode:l,setViewMode:m,currentPage:n,setCurrentPage:o,totalPages:p,genres:r,loading:c,filteredMovies:v,getGenreNames:a=>a.map(a=>r.find(b=>b.id===a)?.name).filter(Boolean).join(", "),TMDB_IMAGE_BASE_URL:"https://image.tmdb.org/t/p/w500"}})(),t=async b=>{try{let c={tmdbId:b.id,title:b.title,genre:r(b.genre_ids).split(", ").filter(Boolean),releaseDate:b.release_date,duration:120,rating:"PG-13",description:b.overview,poster:`${s}${b.poster_path}`,trailer:"",cast:["Sample Actor 1","Sample Actor 2"],director:"Sample Director",language:b.original_language};a(c)}catch(a){console.error("Error adding movie:",a)}};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(S,{}),(0,d.jsx)($,{searchTerm:b,setSearchTerm:c,selectedGenre:f,setSelectedGenre:g,sortBy:h,setSortBy:i,viewMode:j,setViewMode:k,genres:o}),p&&(0,d.jsx)(at,{}),p||0!==q.length?p?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"grid"===j?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:q.map(a=>"grid"===j?(0,d.jsx)(af,{movie:a,onAddMovie:t,getGenreNames:r,loading:p},a.id):(0,d.jsx)(ak,{movie:a,onAddMovie:t,getGenreNames:r,loading:p},a.id))}),(0,d.jsx)(ao,{currentPage:l,totalPages:n,onPageChange:m})]}):(0,d.jsx)(ay,{})]})};var aA=c(43128),aB=c.n(aA),aC=c(11860),aD=c(8819),aE=c(64670),aF=c.n(aE),aG=c(58823),aH=c.n(aG);let aI=({poster:a,onPosterChange:b})=>(0,d.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:[(0,d.jsx)("h3",{className:`${aF().className} text-lg text-white mb-4`,children:"Movie Poster"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("img",{src:a||"/placeholder.svg",alt:"Movie Poster",className:"w-full h-80 object-cover rounded-lg border border-gray-500"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`${aH().className} block text-sm text-gray-300 font-medium`,children:"Poster URL"}),(0,d.jsx)("input",{type:"url",name:"poster",value:a,onChange:b,className:"w-full px-3 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]",placeholder:"https://example.com/poster.jpg"})]})]})]});var aJ=c(56631),aK=c.n(aJ);let aL=({formData:a})=>(0,d.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:[(0,d.jsx)("h3",{className:`${aK().className} text-lg text-white mb-4`,children:"Movie Details"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,d.jsx)(_.A,{className:"h-4 w-4 text-yellow-400"}),(0,d.jsxs)("span",{className:"text-sm",children:["TMDB ID: ",a.tmdbId||"N/A"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,d.jsx)(o.A,{className:"h-4 w-4 text-blue-400"}),(0,d.jsxs)("span",{className:"text-sm",children:["Release:"," ",a.releaseDate?new Date(a.releaseDate).getFullYear():"N/A"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,d.jsx)(C.A,{className:"h-4 w-4 text-green-400"}),(0,d.jsxs)("span",{className:"text-sm",children:["Duration: ",a.duration||0," minutes"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-purple-400"}),(0,d.jsxs)("span",{className:"text-sm",children:["Cast: ",a.cast?.length||0," actors"]})]})]})]});var aM=c(46294),aN=c.n(aM);let aO=({register:a,errors:b,watchedValues:c})=>(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:["Title ",(0,d.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,d.jsx)("input",{type:"text",...a("title"),className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.title?"border-red-400":"border-gray-500"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`,placeholder:"Enter movie title"}),b.title&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.title?.message||"This field is required")})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:"Duration (minutes)"}),(0,d.jsx)("input",{type:"number",...a("duration",{valueAsNumber:!0}),min:"1",className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.duration?"border-red-400":"border-gray-500"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`,placeholder:"120"}),b.duration&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.duration?.message||"Duration is required")})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:"Rating"}),(0,d.jsxs)("select",{...a("rating"),className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.rating?"border-red-400":"border-gray-500"} rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`,children:[(0,d.jsx)("option",{value:"",children:"Select rating"}),["G","PG","PG-13","R","NC-17"].map(a=>(0,d.jsx)("option",{value:a,children:a},a))]}),b.rating&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.rating?.message||"Rating is required")})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:["Release Date ",(0,d.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,d.jsx)("input",{type:"date",...a("releaseDate"),className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.releaseDate?"border-red-400":"border-gray-500"} rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`}),b.releaseDate&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.releaseDate?.message||"Release date is required")})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:"Language"}),(0,d.jsxs)("select",{...a("language"),className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.language?"border-red-400":"border-gray-500"} rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`,children:[(0,d.jsx)("option",{value:"",children:"Select language"}),[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"zh",name:"Chinese"},{code:"hi",name:"Hindi"},{code:"ar",name:"Arabic"}].map(a=>(0,d.jsx)("option",{value:a.code,children:a.name},a.code))]}),b.language&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.language?.message||"Language is required")})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:"Director"}),(0,d.jsx)("input",{type:"text",...a("director"),className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.director?"border-red-400":"border-gray-500"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`,placeholder:"Director name"}),b.director&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.director?.message||"Director is required")})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:"Trailer URL"}),(0,d.jsx)("input",{type:"url",...a("trailer"),className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.trailer?"border-red-400":"border-gray-500"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`,placeholder:"https://youtube.com/watch?v=..."}),b.trailer&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.trailer?.message||"Invalid trailer URL")})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:`${aN().className} block text-sm text-gray-300 font-medium`,children:["Description ",(0,d.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,d.jsx)("textarea",{...a("description"),rows:4,className:`w-full px-3 py-2 bg-[#2a2a2a] border ${b.description?"border-red-400":"border-gray-500"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] resize-none`,placeholder:"Enter movie description..."}),b.description&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:String(b.description?.message||"Description is required")})]})]});var aP=c(90508),aQ=c.n(aP),aR=c(23961),aS=c.n(aR);let aT=({selectedGenres:a,onGenreChange:b,genreError:c})=>(0,d.jsxs)("div",{className:`bg-[#1a1a1a] border ${c?"border-red-400":"border-gray-600"} rounded-lg p-4`,children:[(0,d.jsxs)("h3",{className:`${aQ().className} text-lg text-white mb-4`,children:["Genres ",(0,d.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto",children:["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Science Fiction","TV Movie","Thriller","War","Western"].map(c=>(0,d.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-[#2a2a2a] p-2 rounded-md transition-colors",children:[(0,d.jsx)("input",{type:"checkbox",checked:a.includes(c),onChange:()=>b(c),className:"rounded border-gray-400 text-[#e78f03] focus:ring-[#e78f03] focus:ring-2"}),(0,d.jsx)("span",{className:`${aS().className} text-gray-300 text-sm`,children:c})]},c))}),c&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-2",children:c}),(0,d.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:a.map((a,b)=>(0,d.jsx)("span",{className:"bg-[#e78f03] text-black px-2 py-1 rounded-full text-xs font-medium",children:a},b))})]});var aU=c(29940),aV=c.n(aU),aW=c(50209),aX=c.n(aW);let aY=({cast:a,onCastChange:b,castError:c})=>{let[g,h]=(0,e.useState)(a.join(", "));return f().useEffect(()=>{h(a.join(", "))},[a]),(0,d.jsxs)("div",{className:`bg-[#1a1a1a] border ${c?"border-red-400":"border-gray-600"} rounded-lg p-4`,children:[(0,d.jsxs)("h3",{className:`${aV().className} text-lg text-white mb-4`,children:["Cast ",(0,d.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`${aX().className} block text-sm text-gray-300 font-medium`,children:"Cast Members (comma-separated)"}),(0,d.jsx)("textarea",{value:g,onChange:a=>(a=>{h(a),b(a.split(",").map(a=>a.trim()).filter(a=>a))})(a.target.value),rows:6,className:`w-full px-3 py-2 bg-[#2a2a2a] border ${c?"border-red-400":"border-gray-500"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] resize-none`,placeholder:"Actor 1, Actor 2, Actor 3..."}),c&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:c})]}),(0,d.jsx)("div",{className:"mt-4 space-y-2 max-h-40 overflow-y-auto",children:a.map((a,b)=>(0,d.jsxs)("div",{className:"bg-[#2a2a2a] border border-gray-500 rounded-md p-2 flex items-center gap-2",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-purple-400"}),(0,d.jsx)("span",{className:`${aX().className} text-gray-300 text-sm`,children:a})]},b))})]})};var aZ=c(27605),a$=c(63442),a_=c(54712);let a0=({isOpen:a,onClose:b,onSubmit:c,tmdbMovie:f,editingMovie:g})=>{let[h,j]=(0,e.useState)(!1),{register:k,handleSubmit:l,formState:{errors:m},setValue:n,watch:o,control:p,reset:q}=(0,aZ.mN)({resolver:(0,a$.u)(a_.GW),defaultValues:{tmdbId:0,title:"",genre:[],releaseDate:"",duration:0,rating:"",description:"",poster:"",trailer:"",cast:[],director:"",language:"",isActive:!0}}),r=o(),s=async a=>{j(!0);try{c(a)}catch(a){console.error("Error saving movie:",a),alert("Error saving movie. Please try again.")}finally{j(!1)}};return((0,e.useEffect)(()=>{f?q({tmdbId:f.tmdbId||0,title:f.title||"",genre:Array.isArray(f.genre)?f.genre:[],releaseDate:f.releaseDate||"",duration:f.duration||120,rating:f.rating||"PG-13",description:f.description||"",poster:f.poster||"",trailer:f.trailer||"",cast:Array.isArray(f.cast)?f.cast:[],director:f.director||"",language:f.language||"en",isActive:!0}):g&&q({tmdbId:"string"==typeof g.tmdbId?parseInt(g.tmdbId)||0:g.tmdbId||0,title:g.title||"",genre:Array.isArray(g.genre)?g.genre:[],releaseDate:g.releaseDate instanceof Date?g.releaseDate.toISOString().split("T")[0]:g.releaseDate||"",duration:g.duration||120,rating:g.rating||"PG-13",description:g.description||"",poster:g.poster||"",trailer:g.trailer||"",cast:Array.isArray(g.cast)?g.cast:[],director:g.director||"",language:g.language||"en",isActive:g.isActive??!0})},[f,g,q]),a)?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,d.jsxs)("div",{className:"bg-[#0a0a0a] border border-gray-600 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-600 sticky top-0 bg-[#0a0a0a] z-10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(i.A,{className:"h-6 w-6 text-[#e78f03]"}),(0,d.jsx)("h2",{className:`${aB().className} text-2xl text-white`,children:g?"Edit Movie":"Add New Movie"})]}),(0,d.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-white p-2 rounded-md transition-colors",disabled:h,children:(0,d.jsx)(aC.A,{size:24})})]}),(0,d.jsxs)("form",{onSubmit:l(s),className:"p-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(aI,{poster:r.poster||"",onPosterChange:a=>n("poster",a.target.value),posterError:m.poster?.message}),(0,d.jsx)(aL,{formData:r})]}),(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(aO,{register:k,errors:m,watchedValues:r})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(aT,{selectedGenres:r.genre||[],onGenreChange:a=>{let b=r.genre||[];n("genre",b.includes(a)?b.filter(b=>b!==a):[...b,a])},genreError:m.genre?.message}),(0,d.jsx)(aY,{cast:r.cast||[],onCastChange:a=>n("cast",a),castError:m.cast?.message})]})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-600",children:[(0,d.jsxs)("button",{type:"submit",disabled:h,className:"bg-[#e78f03] text-black hover:bg-[#d17a02] px-6 py-3 rounded-lg flex items-center gap-2 transition-colors font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[h?(0,d.jsx)(aa.A,{size:16,className:"animate-spin"}):(0,d.jsx)(aD.A,{size:16}),g?"Update Movie":"Add Movie"]}),(0,d.jsx)("button",{type:"button",onClick:b,disabled:h,className:"border border-gray-500 text-gray-300 hover:bg-[#2a2a2a] hover:text-white bg-transparent px-6 py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})}):null},a1={BASE:"/admin/movies",FILTER:"/admin/movies/filter",TOGGLE_STATUS:a=>`/admin/movies/${a}/toggle-status`,BY_ID:a=>`/admin/movies/${a}`};var a2=c(5376);let a3=async a=>(await a2.A.post(a1.BASE,a)).data,a4=async()=>(await a2.A.get(a1.BASE)).data,a5=async a=>{let b=new URLSearchParams;return Object.entries(a).forEach(([a,c])=>{null!=c&&""!==c&&b.append(a,c.toString())}),(await a2.A.get(`${a1.FILTER}?${b.toString()}`)).data},a6=async a=>(await a2.A.patch(a1.TOGGLE_STATUS(a))).data,a7=async(a,b)=>(await a2.A.put(a1.BY_ID(a),b)).data,a8=async a=>(await a2.A.delete(a1.BY_ID(a))).data;var a9=c(37590),ba=c(9564),bb=c(1510),bc=c(33327),bd=c.n(bc),be=c(724),bf=c.n(be);let bg=(0,W.A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var bh=c(97840),bi=c(63143),bj=c(88233),bk=c(13861);let bl=({movies:a,onEdit:b,onDelete:c,onToggleStatus:f,title:g,emptyMessage:h})=>{let[i,k]=(0,e.useState)("grid"),[l,m]=(0,e.useState)(""),[n,p]=(0,e.useState)("all"),[q,r]=(0,e.useState)("title"),s=["all",...Array.from(new Set(a?.flatMap(a=>a.genre)))],t=a?.filter(a=>{let b=a.title.toLowerCase().includes(l.toLowerCase())||a.genre.some(a=>a.toLowerCase().includes(l.toLowerCase()))||a.director.toLowerCase().includes(l.toLowerCase()),c="all"===n||a.genre.includes(n);return b&&c}).sort((a,b)=>{switch(q){case"title":return a.title.localeCompare(b.title);case"releaseDate":return new Date(b.releaseDate).getTime()-new Date(a.releaseDate).getTime();case"duration":return b.duration-a.duration;default:return 0}}),u=a=>{switch(a){case"G":return"bg-green-500";case"PG":return"bg-blue-500";case"PG-13":return"bg-yellow-500";case"R":return"bg-orange-500";case"NC-17":return"bg-red-500";default:return"bg-gray-500"}},v=a=>({Action:"bg-red-500/20 text-red-200 border-red-400/50",Comedy:"bg-yellow-500/20 text-yellow-200 border-yellow-400/50",Drama:"bg-purple-500/20 text-purple-200 border-purple-400/50",Horror:"bg-gray-500/20 text-gray-200 border-gray-400/50","Sci-Fi":"bg-blue-500/20 text-blue-200 border-blue-400/50",Romance:"bg-pink-500/20 text-pink-200 border-pink-400/50",Thriller:"bg-orange-500/20 text-orange-200 border-orange-400/50",Crime:"bg-indigo-500/20 text-indigo-200 border-indigo-400/50"})[a]||"bg-gray-500/20 text-gray-200 border-gray-400/50";return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Total Movies"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]}),(0,d.jsx)(bk.A,{className:"h-8 w-8 text-[#e78f03]"})]})}),(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Active"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-400",children:a.filter(a=>a.isActive).length})]}),(0,d.jsx)(bh.A,{className:"h-8 w-8 text-green-400"})]})}),(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Inactive"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-red-400",children:a.filter(a=>!a.isActive).length})]}),(0,d.jsx)(bg,{className:"h-8 w-8 text-red-400"})]})}),(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Genres"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-white",children:s.length-1})]}),(0,d.jsx)(U.A,{className:"h-8 w-8 text-[#e78f03]"})]})})]}),(0,d.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,d.jsx)("h2",{className:`${bd().className} text-2xl font-bold text-white`,children:g})}),(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,d.jsx)("input",{type:"text",placeholder:"Search movies by title, genre, or director...",value:l,onChange:a=>m(a.target.value),className:`${bf().className} w-full pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03]`})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(U.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsx)("select",{value:n,onChange:a=>p(a.target.value),className:"w-48 pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] appearance-none",children:s.map(a=>(0,d.jsx)("option",{value:a,className:"bg-[#2a2a2a]",children:"all"===a?"All Genres":a},a))})]}),(0,d.jsx)("div",{className:"relative",children:(0,d.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"w-40 px-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white focus:outline-none focus:border-[#e78f03] focus:ring-1 focus:ring-[#e78f03] appearance-none",children:[(0,d.jsx)("option",{value:"title",children:"Sort by Title"}),(0,d.jsx)("option",{value:"releaseDate",children:"Sort by Date"}),(0,d.jsx)("option",{value:"duration",children:"Sort by Duration"})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>k("grid"),className:`p-2 rounded-md border transition-colors ${"grid"===i?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:text-white hover:border-[#e78f03]"}`,children:(0,d.jsx)(V.A,{size:16})}),(0,d.jsx)("button",{onClick:()=>k("list"),className:`p-2 rounded-md border transition-colors ${"list"===i?"bg-[#e78f03] text-black border-[#e78f03]":"border-gray-500 text-gray-300 hover:text-white hover:border-[#e78f03]"}`,children:(0,d.jsx)(X,{size:16})})]})]})}),0===t.length?(0,d.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-12 text-center",children:[(0,d.jsx)(bk.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:`${bd().className} text-xl text-white mb-2`,children:h}),(0,d.jsx)("p",{className:`${bf().className} text-gray-400`,children:"Try adjusting your search or filter criteria"})]}):(0,d.jsx)("div",{className:"grid"===i?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:t.map(a=>"grid"===i?(a=>(0,d.jsxs)("div",{className:"group bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300 hover:shadow-2xl hover:shadow-[#e78f03]/20 backdrop-blur-sm",children:[(0,d.jsxs)("div",{className:"relative overflow-hidden rounded-t-lg",children:[(0,d.jsx)("img",{src:a.poster||"/placeholder.svg",alt:a.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,d.jsx)("div",{className:"absolute top-3 left-3",children:(0,d.jsx)("span",{className:`${u(a.rating)} text-white text-xs px-2 py-1 rounded-full font-medium`,children:a.rating})}),(0,d.jsx)("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("button",{className:"h-8 w-8 p-0 bg-blue-500 hover:bg-blue-600 text-white rounded-md flex items-center justify-center transition-colors",onClick:()=>f(a),title:a.isActive?"Deactivate":"Activate",children:a.isActive?(0,d.jsx)(bg,{size:14}):(0,d.jsx)(bh.A,{size:14})}),(0,d.jsx)("button",{className:"h-8 w-8 p-0 bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md flex items-center justify-center transition-colors",onClick:()=>b(a),children:(0,d.jsx)(bi.A,{size:14})}),(0,d.jsx)("button",{className:"h-8 w-8 p-0 bg-red-500 hover:bg-red-600 text-white rounded-md flex items-center justify-center transition-colors",onClick:()=>c(a),children:(0,d.jsx)(bj.A,{size:14})})]})})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsx)("h3",{className:`${bd().className} text-lg font-semibold text-white line-clamp-1`,children:a.title}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,d.jsx)(_.A,{size:14,fill:"currentColor"}),(0,d.jsx)("span",{className:"text-sm",children:"4.5"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[a.genre.slice(0,2).map((a,b)=>(0,d.jsx)("span",{className:`text-xs px-2 py-1 rounded-full border ${v(a)}`,children:a},b)),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,d.jsx)(C.A,{size:12}),(0,d.jsxs)("span",{children:[a.duration,"m"]})]})]}),(0,d.jsx)("p",{className:`${bf().className} text-gray-300 text-sm mb-4 line-clamp-2`,children:a.description}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[(0,d.jsx)(j.A,{size:12}),(0,d.jsx)("span",{children:a.director})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,d.jsx)(o.A,{size:12}),(0,d.jsx)("span",{children:new Date(a.releaseDate).getFullYear()})]})]})]})]},a._id))(a):(a=>(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg hover:border-[#e78f03] transition-all duration-300",children:(0,d.jsx)("div",{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("img",{src:a.poster||"/placeholder.svg",alt:a.title,className:"w-16 h-24 object-cover rounded-lg"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsx)("h3",{className:`${bd().className} text-lg font-semibold text-white`,children:a.title}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:`${u(a.rating)} text-white text-xs px-2 py-1 rounded-full font-medium`,children:a.rating}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,d.jsx)(_.A,{size:14,fill:"currentColor"}),(0,d.jsx)("span",{className:"text-sm",children:"4.5"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-2 flex-wrap",children:[a.genre.slice(0,3).map((a,b)=>(0,d.jsx)("span",{className:`text-xs px-2 py-1 rounded-full border ${v(a)}`,children:a},b)),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,d.jsx)(C.A,{size:12}),(0,d.jsxs)("span",{children:[a.duration,"m"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-300 text-sm",children:[(0,d.jsx)(o.A,{size:12}),(0,d.jsx)("span",{children:new Date(a.releaseDate).getFullYear()})]})]}),(0,d.jsx)("p",{className:`${bf().className} text-gray-300 text-sm mb-3 line-clamp-1`,children:a.description})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{className:"px-3 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>f(a),title:a.isActive?"Deactivate":"Activate",children:a.isActive?(0,d.jsx)(bg,{size:14}):(0,d.jsx)(bh.A,{size:14})}),(0,d.jsx)("button",{className:"px-3 py-2 text-sm bg-[#e78f03] hover:bg-[#d17a02] text-black rounded-md transition-colors font-medium",onClick:()=>b(a),children:(0,d.jsx)(bi.A,{size:14})}),(0,d.jsx)("button",{className:"px-3 py-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors",onClick:()=>c(a),children:(0,d.jsx)(bj.A,{size:14})})]})]})})},a._id))(a))})]})},bm=()=>{let{movies:a,setMovies:b}=N(),[c,g]=(0,e.useState)("current"),[h,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(null),[n,o]=(0,e.useState)([]),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)({}),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(1),[x,y]=(0,e.useState)(1),[A,C]=(0,e.useState)(0),[D]=(0,e.useState)(10),E=async()=>{try{q(!0);let a=await a4();b(a.data||[]),t||(o(a.data||[]),C((a.data||[]).length),y(Math.ceil((a.data||[]).length/D)))}catch(a){console.log(a),a9.Ay.error("Failed to load movies")}finally{q(!1)}};(0,e.useEffect)(()=>{E()},[]);let G=(0,e.useCallback)(a=>{w(a),t&&H({...r,page:a,limit:D},!1)},[r,D,t]),H=(0,e.useCallback)(async(b,c=!0)=>{if(c?(w(1),b={...b,page:1,limit:D}):b={...b,limit:D},JSON.stringify(b)===JSON.stringify(r))return;s(b);let d=Object.entries(b).some(([a,b])=>"page"!==a&&"limit"!==a&&null!=b&&""!==b);if(u(d),!d){o(a),y(Math.ceil(a.length/D)),C(a.length),w(1);return}try{q(!0);let a=await a5(b);console.log(a),o(a.data||[]),a.meta?.pagination&&(y(a.meta.pagination.totalPages),C(a.meta.pagination.total),w(a.meta.pagination.currentPage))}catch(a){console.error("Filter error:",a),a instanceof bb.pe&&(a9.Ay.error(a.response?.data?.message||"Filter failed"),o([]),y(1),C(0))}finally{q(!1)}},[r,a,D,t]),I=async a=>{try{let c=await a3(a);a9.Ay.success("Movie added successfully!"),c.data&&b(a=>[...a,c.data]),i(!1),k(null),t?H(r,!1):E()}catch(a){a&&a9.Ay.error("Movie already exists!"),console.error(a)}},J=async a=>{if(l)try{await a7(l._id,a),a9.Ay.success("Movie updated successfully!"),b(b=>b.map(b=>{if(b._id===l._id)return{...b,...a,updatedAt:new Date}})),i(!1),m(null),t&&H(r,!1)}catch(a){a9.Ay.error(a.response?.data?.message||"Failed to update movie"),console.error(a)}},K=a=>{m(a),i(!0),k(null)},L=async a=>{if(await (0,ba.f)({title:"Delete Movie?",message:`Are you sure you want to delete "${a.title}"?`,confirmText:"Delete",cancelText:"Cancel"}))try{await a8(a._id),a9.Ay.success("Movie deleted successfully!"),t?H(r,!1):E()}catch(a){console.error(a),a9.Ay.error(a.response?.data?.message||"Failed to delete movie")}},M=async a=>{try{let b=a.isActive?"disable":"activate",c=b[0].toUpperCase()+b.slice(1);if(!await (0,ba.f)({title:`${c} Movie?`,message:`Are you sure you want to ${b} "${a.title}"?`,confirmText:c,cancelText:"Cancel"}))return;(await a6(a._id)).success?(a9.Ay.success(`Movie ${b}d successfully!`),t?H(r,!1):E()):a9.Ay.error(`Failed to ${b} movie.`)}catch(a){console.error(a),a9.Ay.error("Something went wrong")}},O=()=>{let a="current"===c?n.filter(a=>a.isActive):n.filter(a=>!a.isActive);if(!t){let b=(v-1)*D,c=b+D;return a.slice(b,c)}return a},P=a.filter(a=>a.isActive),Q=a.filter(a=>!a.isActive);return(0,d.jsx)(f().Fragment,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:`${z().className} text-3xl font-bold text-white mb-2`,children:"Movies Management"}),(0,d.jsx)("p",{className:`${B().className} text-gray-300`,children:"Manage your movie collection and track performance"})]})}),(0,d.jsx)(F,{activeView:c,setActiveView:g,currentCount:P.length,expiredCount:Q.length}),"current"===c&&(0,d.jsx)(bl,{movies:O(),allMovies:a,onEdit:K,onDelete:L,onToggleStatus:M,onFiltersChange:H,isLoading:p,currentFilters:r,title:"Current Movies",emptyMessage:"No active movies found",currentPage:v,totalPages:x,totalItems:A,onPageChange:G}),"expired"===c&&(0,d.jsx)(bl,{movies:O(),allMovies:a,onEdit:K,onDelete:L,onToggleStatus:M,onFiltersChange:H,isLoading:p,currentFilters:r,title:"Inactive Movies",emptyMessage:"No inactive movies found",currentPage:v,totalPages:x,totalItems:A,onPageChange:G}),"tmdb"===c&&(0,d.jsx)(az,{onAddMovie:a=>{k(a),i(!0)}}),h&&(0,d.jsx)(a0,{isOpen:h,onClose:()=>{i(!1),k(null),m(null)},onSubmit:l?J:I,tmdbMovie:j,editingMovie:l})]})})},bn={BASE:"/admin/owners",REQUESTS:"/admin/owners/requests",COUNTS:"/admin/owners/counts",ACCEPT_REQUEST:a=>`/admin/owners/requests/${a}/accept`,REJECT_REQUEST:a=>`/admin/owners/requests/${a}/reject`,TOGGLE_STATUS:a=>`/admin/owners/${a}/toggle-status`},bo=a=>{let b=new URLSearchParams;return Object.entries(a).forEach(([a,c])=>{void 0!==c&&""!==c&&null!==c&&b.append(a,c.toString())}),b.toString()},bp=async a=>{let b=bo(a);return(await a2.A.get(`${bn.BASE}?${b}`)).data},bq=async a=>{let b=bo(a);return(await a2.A.get(`${bn.REQUESTS}?${b}`)).data},br=async()=>(await a2.A.get(bn.COUNTS)).data,bs=async a=>(await a2.A.patch(bn.ACCEPT_REQUEST(a))).data,bt=async(a,b)=>(await a2.A.patch(bn.REJECT_REQUEST(a),b)).data,bu=async a=>(await a2.A.patch(bn.TOGGLE_STATUS(a))).data;var bv=c(96052),bw=c.n(bv);let bx=(0,W.A)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);var by=c(88889),bz=c(14015),bA=c.n(bz),bB=c(19169),bC=c(48340),bD=c(5336),bE=c(35071),bF=c(99891),bG=c(79410),bH=c(85778),bI=c(62100),bJ=c(10022);let bK=(0,W.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),bL={BASE:"/admin/theaters",VERIFY:a=>`/admin/theaters/verify/${a}`,REJECT:a=>`/admin/theaters/reject/${a}`,TOGGLE_STATUS:a=>`/admin/theaters/${a}`};async function bM(a){return(await a2.A.patch(bL.VERIFY(a))).data}async function bN(a){return(await a2.A.patch(bL.REJECT(a))).data}let bO=async a=>(await a2.A.patch(bL.TOGGLE_STATUS(a))).data,bP=async(a,b)=>{try{return console.log(a),(await a2.A.get(bL.BASE,{params:{ownerId:a,...b}})).data}catch(a){throw console.error("Error fetching theaters:",a),a}},bQ=({owner:a,actions:b,setViewThaeter:c})=>{let[f,g]=(0,e.useState)(!1),h=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),i=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[j,l]=(0,e.useState)([]);async function m(){let b=await bP(a._id);l(b.data.theaters),console.log(b.data)}return(0,e.useEffect)(()=>{m()},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-700/50 hover:border-yellow-500/30 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.ownerPhotoUrl?(0,d.jsx)("img",{src:a.ownerPhotoUrl,alt:a.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-yellow-500/30 shadow-lg"}):(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700/50 flex items-center justify-center border-2 border-yellow-500/30 shadow-lg",children:(0,d.jsx)(k.A,{className:"text-gray-400",size:24})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:`${bA().className} text-xl font-medium text-white mb-2`,children:a.ownerName}),(0,d.jsxs)("div",{className:"flex flex-col gap-2 text-sm text-gray-300",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(bB.A,{size:14,className:"text-gray-400"}),a.email]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(bC.A,{size:14,className:"text-gray-400"}),a.phone]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[(0,d.jsxs)("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-medium ${a.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[a.isActive?(0,d.jsx)(bD.A,{size:12}):(0,d.jsx)(bE.A,{size:12}),a.isActive?"Active":"Blocked"]}),a.isVerified&&(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-medium bg-blue-500/20 text-blue-400 border border-blue-500/30",children:[(0,d.jsx)(bF.A,{size:12}),"Verified"]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,d.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(o.A,{size:14,className:"text-yellow-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Joined"})]}),(0,d.jsx)("p",{className:"text-white text-sm font-medium",children:h(a.createdAt)})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(bD.A,{size:14,className:"text-green-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Approved"})]}),(0,d.jsx)("p",{className:"text-white text-sm font-medium",children:h(a.approvedAt)})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(bG.A,{size:14,className:"text-blue-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Theatres"})]}),(0,d.jsx)("p",{className:"text-white text-sm font-medium",children:a.theatres.length})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 p-3 rounded-lg border border-yellow-500/10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(C.A,{size:14,className:"text-purple-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Last Login"})]}),(0,d.jsx)("p",{className:"text-white text-sm font-medium",children:a.lastLogin?h(a.lastLogin):"Never"})]})]}),(0,d.jsxs)("div",{className:"flex gap-6",children:[(0,d.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 text-yellow-400 hover:text-yellow-300 text-sm font-medium transition-colors",children:[(0,d.jsx)(bk.A,{size:14}),"View Full Details"]}),(0,d.jsxs)("button",{onClick:()=>{c(a.id)},className:"flex items-center gap-2 text-yellow-400 hover:text-yellow-300 text-sm font-medium transition-colors",children:[(0,d.jsx)(bG.A,{size:14}),"View Theaters"]})]})]}),(0,d.jsx)("div",{className:"flex flex-col gap-2 ml-6",children:b.map((b,c)=>{let e=b.icon;return(0,d.jsx)("button",{onClick:()=>b.onClick(a),className:`p-3 rounded-lg transition-all duration-200 flex items-center justify-center ${b.className}`,title:b.label,children:(0,d.jsx)(e,{size:16})},c)})})]})}),f&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-5xl max-h-[90vh] overflow-hidden shadow-2xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[a.ownerPhotoUrl?(0,d.jsx)("img",{src:a.ownerPhotoUrl,alt:a.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-yellow-500/30 shadow-lg"}):(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700/50 flex items-center justify-center border-2 border-yellow-500/30",children:(0,d.jsx)(k.A,{className:"text-gray-400",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${bA().className} text-2xl text-yellow-400 font-medium`,children:a.ownerName}),(0,d.jsx)("p",{className:"text-gray-300",children:a.email}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,d.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${a.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.isActive?"Active":"Blocked"}),a.isVerified&&(0,d.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500/20 text-blue-400",children:"Verified"})]})]})]}),(0,d.jsx)("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,d.jsx)(aC.A,{size:24})})]}),(0,d.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("div",{className:`p-2 rounded-lg ${a.isActive?"bg-green-500/20":"bg-red-500/20"}`,children:(0,d.jsx)(bD.A,{className:a.isActive?"text-green-400":"text-red-400",size:16})}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Status"})]}),(0,d.jsx)("p",{className:`font-medium ${a.isActive?"text-green-400":"text-red-400"}`,children:a.isActive?"Active Account":"Blocked Account"})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("div",{className:`p-2 rounded-lg ${a.isVerified?"bg-blue-500/20":"bg-red-500/20"}`,children:(0,d.jsx)(bF.A,{className:a.isVerified?"text-blue-400":"text-red-400",size:16})}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Verification"})]}),(0,d.jsx)("p",{className:`font-medium ${a.isVerified?"text-blue-400":"text-red-400"}`,children:a.isVerified?"Verified Owner":"Not Verified"})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(bG.A,{className:"text-yellow-400",size:16})}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Theatres"})]}),(0,d.jsx)("p",{className:"text-white font-medium text-lg",children:a.theatres.length})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(bH.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h4",{className:`${bA().className} text-white text-lg font-medium`,children:"KYC Information"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Aadhaar Number"}),(0,d.jsxs)("p",{className:"text-white font-medium",children:["****",a.aadhaar.slice(-4)]})]}),(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"PAN Number"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.pan})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(bI.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h4",{className:`${bA().className} text-white text-lg font-medium`,children:"Bank Details"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Holder"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.accountHolder||"Not provided"})]}),(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Bank Name"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.bankName||"Not provided"})]}),(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Account Number"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.accountNumber?`****${a.accountNumber.slice(-4)}`:"Not provided"})]}),(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"IFSC Code"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.ifsc||"Not provided"})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(bJ.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h4",{className:`${bA().className} text-white text-lg font-medium`,children:"KYC Documents"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)("a",{href:a.aadhaarUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700/30 p-4 rounded-lg border border-yellow-500/20 hover:border-blue-500/50 transition-all duration-200 group",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:(0,d.jsx)(bJ.A,{size:20,className:"text-blue-400 group-hover:text-blue-300"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white font-medium block",children:"Aadhaar Card"}),(0,d.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:["View document ",(0,d.jsx)(bK,{size:12})]})]})]})}),(0,d.jsx)("a",{href:a.panUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700/30 p-4 rounded-lg border border-yellow-500/20 hover:border-green-500/50 transition-all duration-200 group",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-green-500/20 p-2 rounded-lg",children:(0,d.jsx)(bJ.A,{size:20,className:"text-green-400 group-hover:text-green-300"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white font-medium block",children:"PAN Card"}),(0,d.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:["View document ",(0,d.jsx)(bK,{size:12})]})]})]})}),(0,d.jsx)("a",{href:a.ownerPhotoUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700/30 p-4 rounded-lg border border-yellow-500/20 hover:border-purple-500/50 transition-all duration-200 group",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-purple-500/20 p-2 rounded-lg",children:(0,d.jsx)(k.A,{size:20,className:"text-purple-400 group-hover:text-purple-300"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white font-medium block",children:"Owner Photo"}),(0,d.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:["View photo ",(0,d.jsx)(bK,{size:12})]})]})]})})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 p-6 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(C.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h4",{className:`${bA().className} text-white text-lg font-medium`,children:"Activity Timeline"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Registration Date"}),(0,d.jsx)("p",{className:"text-white font-medium",children:i(a.createdAt)})]}),(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Approval Date"}),(0,d.jsx)("p",{className:"text-white font-medium",children:i(a.approvedAt)})]}),(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Last Login"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.lastLogin?i(a.lastLogin):"Never logged in"})]}),(0,d.jsxs)("div",{className:"p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Profile Updated"}),(0,d.jsx)("p",{className:"text-white font-medium",children:i(a.updatedAt)})]})]})]})]})}),(0,d.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30 flex justify-end",children:(0,d.jsx)("button",{onClick:()=>g(!1),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-6 py-2 font-medium rounded-lg transition-all duration-200",children:"Close"})})]})})]})},bR=({owners:a,isLoading:b,currentFilters:c,currentPage:e,totalPages:f,totalItems:g,onPageChange:h,ownerSearchValue:i,onFiltersChange:j,onViewDetails:l,onToggleStatus:m,setViewThaeter:n})=>{let o=a=>{j({...c,search:a})};return(0,d.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${bw().className} text-lg text-yellow-400 font-medium`,children:"Search & Filters"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search active owners by name, email...",value:i||"",onChange:a=>o(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:`${c.sortBy||"ownerName"}-${c.sortOrder||"asc"}`,onChange:a=>{let[b,d]=a.target.value.split("-");j({...c,sortBy:b,sortOrder:d})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[200px] cursor-pointer hover:bg-gray-700/50",children:[(0,d.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,d.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"}),(0,d.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,d.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,d.jsx)("option",{value:"approvedAt-desc",children:"Recently Approved"}),(0,d.jsx)("option",{value:"approvedAt-asc",children:"Oldest Approved"}),(0,d.jsx)("option",{value:"lastLogin-desc",children:"Recently Active"})]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,d.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:g}),(0,d.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"active owners"})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(k.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${bw().className} text-lg text-yellow-400 font-medium`,children:"Owners List"})]}),(0,d.jsx)("div",{className:"space-y-4",children:b?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading active owners..."})]}):a.length>0?a.map(a=>(0,d.jsx)("div",{className:"transition-all duration-200 hover:scale-[1.01]",children:(0,d.jsx)(bQ,{setViewThaeter:n,owner:a,actions:[{label:"Block Owner",icon:by.A,onClick:m,className:"bg-red-500 hover:bg-red-400 text-white px-4 py-2 rounded-lg transition-all duration-200"}]})},a._id)):(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,d.jsx)("div",{className:"bg-yellow-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(k.A,{size:32,className:"text-yellow-400"})}),(0,d.jsx)("h3",{className:`${bw().className} text-xl text-white mb-2`,children:"No active owners found"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"No owners match your current search criteria. Try adjusting your search terms or filters."}),(0,d.jsx)("button",{onClick:()=>o(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),f>1&&(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:e})," of"," ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:f})," (",g," total)"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>h(e-1),disabled:1===e,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(al,{size:16})}),(0,d.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(f,5))].map((a,b)=>{let c=b+1;if(f>5&&(c=Math.max(1,e-2)+b)>f)return null;let g=c===e;return(0,d.jsx)("button",{onClick:()=>h(c),className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 ${g?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:c},c)})}),(0,d.jsx)("button",{onClick:()=>h(e+1),disabled:e===f,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(am.A,{size:16})})]})]})})]})})};var bS=c(12491),bT=c.n(bS),bU=c(93613);let bV=(0,W.A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var bW=c(8292),bX=c.n(bW);let bY=({request:a,actions:b,showProcessedInfo:c=!1,showRejectionReason:f=!1})=>{let[g,h]=(0,e.useState)(!1),i=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return console.log(a),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-6 hover:border-gray-500 transition-colors",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.ownerPhotoUrl?(0,d.jsx)("img",{src:a.ownerPhotoUrl,alt:a.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600"}):(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#2a2a2a] flex items-center justify-center border-2 border-gray-600",children:(0,d.jsx)(k.A,{className:"text-gray-400",size:24})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:`${bX().className} text-xl font-semibold text-white mb-1`,children:a.ownerName}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(bB.A,{size:14}),a.email]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(bC.A,{size:14}),a.phone]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,d.jsx)("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${"pending"===a.status?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/50":"approved"===a.status?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-red-500/20 text-red-400 border border-red-500/50"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)}),a.emailVerified&&(0,d.jsxs)("span",{className:"inline-block px-2 py-1 rounded-full text-xs bg-green-500/20 text-green-400 border border-green-500/50",children:[(0,d.jsx)(bD.A,{size:12,className:"inline mr-1"}),"Email Verified"]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(o.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Submitted"})]}),(0,d.jsx)("p",{className:"text-white text-sm font-medium",children:new Date(a.submittedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(bH.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"PAN"})]}),(0,d.jsx)("p",{className:"text-white text-sm font-medium",children:a.pan})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(bJ.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Documents"})]}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-1 py-0.5 rounded text-xs",children:"ID"}),(0,d.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-1 py-0.5 rounded text-xs",children:"PAN"}),a.ownerPhotoUrl&&(0,d.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-1 py-0.5 rounded text-xs",children:"Photo"})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-3 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(bF.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Status"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[a.emailVerified?(0,d.jsx)(bD.A,{size:14,className:"text-green-400"}):(0,d.jsx)(bE.A,{size:14,className:"text-red-400"}),(0,d.jsx)("span",{className:`text-xs ${a.emailVerified?"text-green-400":"text-red-400"}`,children:a.emailVerified?"Verified":"Pending"})]})]})]}),f&&a.rejectionReason&&(0,d.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 p-3 rounded-lg mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(bE.A,{size:14,className:"text-red-400"}),(0,d.jsx)("span",{className:"text-red-400 font-medium text-sm",children:"Rejection Reason:"})]}),(0,d.jsx)("p",{className:"text-red-300 text-sm",children:a.rejectionReason})]}),(0,d.jsx)("button",{onClick:()=>h(!0),className:"text-[#e78f03] hover:text-orange-400 text-sm font-medium transition-colors",children:"View Full Details"})]}),(0,d.jsx)("div",{className:"flex flex-col gap-2 ml-6",children:b.map((b,c)=>{let e=b.icon;return(0,d.jsx)("button",{onClick:()=>b.onClick(a),className:`p-3 rounded-lg text-white transition-colors ${b.className} flex items-center justify-center`,title:b.label,children:(0,d.jsx)(e,{size:16})},c)})})]})}),g&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[a.ownerPhotoUrl?(0,d.jsx)("img",{src:a.ownerPhotoUrl,alt:a.ownerName,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600"}):(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#2a2a2a] flex items-center justify-center border-2 border-gray-600",children:(0,d.jsx)(k.A,{className:"text-gray-400",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${bX().className} text-2xl font-bold text-white`,children:a.ownerName}),(0,d.jsx)("p",{className:"text-gray-400",children:a.email}),(0,d.jsx)("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium mt-1 ${"pending"===a.status?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/50":"approved"===a.status?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-red-500/20 text-red-400 border border-red-500/50"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]}),(0,d.jsx)("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,d.jsx)(aC.A,{className:"text-gray-400",size:20})})]}),(0,d.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(bD.A,{className:"approved"===a.status?"text-green-400":"pending"===a.status?"text-yellow-400":"text-red-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Request Status"})]}),(0,d.jsx)("p",{className:`font-medium ${"approved"===a.status?"text-green-400":"pending"===a.status?"text-yellow-400":"text-red-400"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(bF.A,{className:a.emailVerified?"text-green-400":"text-red-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Email Verification"})]}),(0,d.jsx)("p",{className:`font-medium ${a.emailVerified?"text-green-400":"text-red-400"}`,children:a.emailVerified?"Verified":"Not Verified"})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(C.A,{className:"text-blue-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"OTP Code"})]}),(0,d.jsx)("p",{className:"text-white font-medium font-mono text-lg",children:a.otp})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("h4",{className:`${bX().className} text-white text-lg font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(bC.A,{size:20}),"Contact Information"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Owner Name:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.ownerName})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Email Address:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Phone Number:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.phone})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Email Status:"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[a.emailVerified?(0,d.jsx)(bD.A,{size:16,className:"text-green-400"}):(0,d.jsx)(bE.A,{size:16,className:"text-red-400"}),(0,d.jsx)("p",{className:`font-medium ${a.emailVerified?"text-green-400":"text-red-400"}`,children:a.emailVerified?"Verified":"Not Verified"})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("h4",{className:`${bX().className} text-white text-lg font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(bH.A,{size:20}),"KYC Information"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Aadhaar Number:"}),(0,d.jsx)("p",{className:"text-white font-medium font-mono",children:a.aadhaar})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"PAN Number:"}),(0,d.jsx)("p",{className:"text-white font-medium font-mono",children:a.pan})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Request ID:"}),(0,d.jsx)("p",{className:"text-white font-medium text-sm font-mono",children:a._id})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"OTP Code:"}),(0,d.jsx)("p",{className:"text-white font-medium font-mono",children:a.otp})]})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("h4",{className:`${bX().className} text-white text-lg font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(bG.A,{size:20}),"Bank Details"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Account Holder:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.accountHolder||"Not provided"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Bank Name:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.bankName||"Not provided"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Account Number:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.accountNumber||"Not provided"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"IFSC Code:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.ifsc||"Not provided"})]})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("h4",{className:`${bX().className} text-white text-lg font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(bJ.A,{size:20}),"KYC Documents"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)("a",{href:a.aadhaarUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 hover:border-blue-400 transition-colors group",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(bJ.A,{size:20,className:"text-blue-400 group-hover:text-blue-300"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white font-medium",children:"Aadhaar Card"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to view document"})]})]})}),(0,d.jsx)("a",{href:a.panUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 hover:border-green-400 transition-colors group",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(bJ.A,{size:20,className:"text-green-400 group-hover:text-green-300"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white font-medium",children:"PAN Card"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to view document"})]})]})}),a.ownerPhotoUrl?(0,d.jsx)("a",{href:a.ownerPhotoUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 hover:border-purple-400 transition-colors group",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(k.A,{size:20,className:"text-purple-400 group-hover:text-purple-300"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white font-medium",children:"Owner Photo"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to view photo"})]})]})}):(0,d.jsx)("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-gray-600 opacity-50",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(k.A,{size:20,className:"text-gray-500"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-500 font-medium",children:"Owner Photo"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:"Not provided"})]})]})})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("h4",{className:`${bX().className} text-white text-lg font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(bF.A,{size:20}),"Verification & Agreement Status"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#1a1a1a] rounded-lg",children:[a.emailVerified?(0,d.jsx)(bD.A,{className:"text-green-400",size:16}):(0,d.jsx)(bE.A,{className:"text-red-400",size:16}),(0,d.jsxs)("span",{className:"text-sm text-gray-400",children:["Email ",a.emailVerified?"Verified":"Not Verified"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#1a1a1a] rounded-lg",children:[a.declaration?(0,d.jsx)(bD.A,{className:"text-green-400",size:16}):(0,d.jsx)(bE.A,{className:"text-red-400",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-400",children:"Declaration Accepted"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#1a1a1a] rounded-lg",children:[a.agree?(0,d.jsx)(bD.A,{className:"text-green-400",size:16}):(0,d.jsx)(bE.A,{className:"text-red-400",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-400",children:"Terms Agreed"})]})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("h4",{className:`${bX().className} text-white text-lg font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(C.A,{size:20}),"Request Information"]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Request Submitted:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:i(a.submittedAt)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Created Date:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:i(a.createdAt)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Last Updated:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:i(a.updatedAt)})]}),a.reviewedAt&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Reviewed At:"}),(0,d.jsx)("p",{className:"text-white font-medium",children:i(a.reviewedAt)})]})]}),a.reviewedBy&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Reviewed By (Admin ID):"}),(0,d.jsx)("p",{className:"text-white font-medium text-sm font-mono",children:a.reviewedBy})]}),a.rejectionReason&&(0,d.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 p-3 rounded-lg",children:[(0,d.jsx)("span",{className:"text-red-400 font-medium",children:"Rejection Reason:"}),(0,d.jsx)("p",{className:"text-red-300 mt-1",children:a.rejectionReason})]})]})]}),(0,d.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg",children:[(0,d.jsxs)("h4",{className:`${bX().className} text-white text-lg font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(bF.A,{size:20}),"System Information"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Request ID:"}),(0,d.jsx)("span",{className:"text-white font-mono text-sm break-all",children:a._id})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"OTP Code:"}),(0,d.jsx)("span",{className:"text-white font-mono text-sm",children:a.otp})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Current Status:"}),(0,d.jsx)("span",{className:`font-medium ${"approved"===a.status?"text-green-400":"pending"===a.status?"text-yellow-400":"text-red-400"}`,children:a.status.toUpperCase()})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Email Verified:"}),(0,d.jsx)("span",{className:`font-medium ${a.emailVerified?"text-green-400":"text-red-400"}`,children:a.emailVerified?"YES":"NO"})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-600",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Declaration:"}),(0,d.jsx)("span",{className:`font-medium ${a.declaration?"text-green-400":"text-red-400"}`,children:a.declaration?"ACCEPTED":"NOT ACCEPTED"})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Terms Agreement:"}),(0,d.jsx)("span",{className:`font-medium ${a.agree?"text-green-400":"text-red-400"}`,children:a.agree?"AGREED":"NOT AGREED"})]})]})]})]})}),(0,d.jsxs)("div",{className:"p-6 border-t border-gray-600 flex justify-between items-center",children:[(0,d.jsx)("button",{onClick:()=>h(!1),className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors",children:"Close"}),(0,d.jsx)("div",{className:"flex gap-3",children:b.map((b,c)=>{let e=b.icon;return(0,d.jsxs)("button",{onClick:()=>{h(!1),b.onClick(a)},className:`px-4 py-2 rounded-lg text-white transition-colors flex items-center gap-2 ${b.className}`,children:[(0,d.jsx)(e,{size:16}),b.label]},c)})})]})]})})]})};var bZ=c(84192);let b$=({requests:a,isLoading:b,currentFilters:c,currentPage:f,totalPages:g,totalItems:h,onPageChange:i,onFiltersChange:j,onViewDetails:k,onAcceptRequest:l,onRejectRequest:m})=>{let[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(null),[r,s]=(0,e.useState)(""),t=(0,bZ.d)(a=>{j({...c,search:a})},500),u=a=>{t(a)},v=a=>{q(a),s(""),o(!0)};return(0,d.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,d.jsxs)("div",{className:"space-y-6",children:[h>0&&(0,d.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(C.A,{className:"text-blue-400",size:20}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-blue-400 font-medium",children:"Pending Requests"}),(0,d.jsxs)("p",{className:"text-blue-300 text-sm",children:[h," request",h>1?"s":""," awaiting your review and approval."]})]})]})}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${bT().className} text-lg text-yellow-400 font-medium`,children:"Search & Filters"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search pending requests by name, email...",value:c.search||"",onChange:a=>u(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:`${c.sortBy||"submittedAt"}-${c.sortOrder||"desc"}`,onChange:a=>{let[b,d]=a.target.value.split("-");j({...c,sortBy:b,sortOrder:d})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[200px] cursor-pointer hover:bg-gray-700/50",children:[(0,d.jsx)("option",{value:"submittedAt-desc",children:"Newest First"}),(0,d.jsx)("option",{value:"submittedAt-asc",children:"Oldest First"}),(0,d.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,d.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"}),(0,d.jsx)("option",{value:"reviewedAt-desc",children:"Recently Reviewed"})]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,d.jsx)("span",{className:"text-blue-400 font-medium text-sm",children:h}),(0,d.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"pending requests"})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(bV,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${bT().className} text-lg text-yellow-400 font-medium`,children:"Pending Requests"})]}),(0,d.jsx)("div",{className:"space-y-4",children:b?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading pending requests..."})]}):a.length>0?a.map(a=>(0,d.jsx)("div",{className:"transition-all duration-200 hover:scale-[1.01]",children:(0,d.jsx)(bY,{request:a,actions:[{label:"View Details",icon:bk.A,onClick:k,className:"bg-blue-500 hover:bg-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-200"},{label:"Accept",icon:bD.A,onClick:l,className:"bg-green-500 hover:bg-green-400 text-white px-4 py-2 rounded-lg transition-all duration-200"},{label:"Reject",icon:bE.A,onClick:v,className:"bg-red-500 hover:bg-red-400 text-white px-4 py-2 rounded-lg transition-all duration-200"}]})},a._id)):(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,d.jsx)("div",{className:"bg-green-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(bV,{size:32,className:"text-green-400"})}),(0,d.jsx)("h3",{className:`${bT().className} text-xl text-white mb-2`,children:"All Requests Processed"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Great! All owner requests have been reviewed and processed."}),(0,d.jsx)("button",{onClick:()=>u(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),g>1&&(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:f})," of"," ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:g})," (",h," total)"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>i(f-1),disabled:1===f,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(al,{size:16})}),(0,d.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(g,5))].map((a,b)=>{let c=b+1;if(g>5&&(c=Math.max(1,f-2)+b)>g)return null;let e=c===f;return(0,d.jsx)("button",{onClick:()=>i(c),className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 ${e?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:c},c)})}),(0,d.jsx)("button",{onClick:()=>i(f+1),disabled:f===g,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(am.A,{size:16})})]})]})}),n&&p?(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:(0,d.jsxs)("div",{className:"bg-gray-900/95 border border-red-500/30 rounded-lg w-full max-w-md shadow-2xl",children:[(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[(0,d.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(bU.A,{className:"text-red-400 mt-0.5",size:20}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-red-400 font-medium text-sm",children:"Warning: This action cannot be undone"}),(0,d.jsxs)("p",{className:"text-red-300/80 text-sm mt-1",children:["Are you sure you want to reject ",(0,d.jsx)("span",{className:"font-semibold text-white",children:p.ownerName}),"'s request?"]})]})]})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Rejection Reason ",(0,d.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,d.jsx)("textarea",{className:"w-full p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500/20 resize-none transition-all duration-200",placeholder:"Please provide a detailed reason for rejection...",value:r,rows:4,onChange:a=>s(a.target.value)}),(0,d.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"This reason will be sent to the applicant via email."})]})]}),(0,d.jsxs)("div",{className:"p-6 border-t border-red-500/20 bg-gray-800/30 flex justify-end gap-3",children:[(0,d.jsx)("button",{onClick:()=>{o(!1),q(null),s("")},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-all duration-200 font-medium",children:"Cancel"}),(0,d.jsx)("button",{onClick:()=>{if(!r.trim())return void a9.Ay.error("Please provide a rejection reason.");p&&(m(p,r.trim()),o(!1),q(null),s(""))},className:"bg-red-500 hover:bg-red-400 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Reject Request"})]})]})}):null]})})};var b_=c(23644),b0=c.n(b_),b1=c(36489),b2=c.n(b1);let b3=(0,W.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var b4=c(97992),b5=c(38424),b6=c.n(b5),b7=c(44829),b8=c.n(b7);let b9=(0,W.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),ca=(0,W.A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),cb=(0,W.A)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);var cc=c(51361),cd=c(92200),ce=c(38038),cf=c(45609);let cg=(0,c(30036).default)(async()=>{},{loadableGenerated:{modules:["app\\others\\components\\Admin\\Dashboard\\Owners\\TheaterModal.tsx -> ../../../../components/Leaflet/MapLocationPicker"]},ssr:!1,loading:()=>(0,d.jsx)("div",{className:"w-full h-64 bg-gray-800/50 border border-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,d.jsx)(aa.A,{className:"w-6 h-6 animate-spin text-yellow-400"})})}),ch=({theater:a,isOpen:b,onClose:c,onStatusToggle:e,onVerifyTheater:f,onRejectTheater:g})=>{if(!b||!a)return null;let h=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=async()=>{let b=a.isActive,c=b?"disable":"enable",d=b?"Disable":"Enable";if(await (0,ba.f)({title:`${d} Theater?`,message:`Are you sure you want to ${c} "${a.name}"?`,confirmText:d,cancelText:"Cancel"}))try{e&&(await bO(a._id),a9.Ay.success(`Theater ${c}d successfully!`),e())}catch(a){a instanceof bb.pe&&a9.Ay.error(a.message||`Failed to ${c} theater`)}},j=async()=>{if(await (0,ba.f)({title:"Verify Theater?",message:`Are you sure you want to verify "${a.name}"? This action cannot be undone and will allow the theater to operate fully.`,confirmText:"Verify",cancelText:"Cancel"}))try{f&&(await bM(a._id),a9.Ay.success("Theater verified successfully!"),f())}catch(a){a instanceof bb.pe&&a9.Ay.error(a.message||"Failed to verify theater")}},l=async()=>{if(await (0,ba.f)({title:"Reject Theater?",message:`Are you sure you want to reject "${a.name}"?`,confirmText:"Reject",cancelText:"Cancel"}))try{g&&(await bN(a._id),a9.Ay.success("Theater rejected successfully!"),g())}catch(a){a instanceof bb.pe&&a9.Ay.error(a.message||"Failed to reject theater")}},m=a.location?.coordinates?.[1],n=a.location?.coordinates?.[0];return(0,d.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity",onClick:c}),(0,d.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"relative w-full max-w-5xl bg-gray-900/95 border border-yellow-500/30 rounded-lg shadow-2xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(bG.A,{className:"text-yellow-400",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${b6().className} text-2xl text-yellow-400 font-medium`,children:a.name}),(0,d.jsx)("p",{className:`${b8().className} text-gray-300`,children:"Theater Details & Management"})]})]}),(0,d.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,d.jsx)(aC.A,{size:24})})]}),(0,d.jsx)("div",{className:"max-h-[75vh] overflow-y-auto",children:(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[a.isActive?(0,d.jsx)("div",{className:"bg-green-500/20 p-2 rounded-lg",children:(0,d.jsx)(bD.A,{className:"text-green-400",size:20})}):(0,d.jsx)("div",{className:"bg-red-500/20 p-2 rounded-lg",children:(0,d.jsx)(bE.A,{className:"text-red-400",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"Status"}),(0,d.jsx)("p",{className:`font-medium ${a.isActive?"text-green-400":"text-red-400"}`,children:a.isActive?"Active":"Inactive"})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[a.isVerified?(0,d.jsx)("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:(0,d.jsx)(bD.A,{className:"text-blue-400",size:20})}):(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(C.A,{className:"text-yellow-400",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"Verification"}),(0,d.jsx)("p",{className:`font-medium ${a.isVerified?"text-blue-400":"text-yellow-400"}`,children:a.isVerified?"Verified":"Pending"})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(bG.A,{className:"text-yellow-400",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"Screens"}),(0,d.jsxs)("p",{className:"font-medium text-white",children:[a.screens," ",1===a.screens?"Screen":"Screens"]})]})]})})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(b4.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${b6().className} text-lg text-yellow-400 font-medium`,children:"Basic Information"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(b4.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Address"}),(0,d.jsx)("p",{className:`${b8().className} text-white font-medium`,children:a.address}),(0,d.jsxs)("p",{className:`${b8().className} text-gray-300`,children:[a.city,", ",a.state," - ",a.pincode]})]})]})}),(0,d.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(bC.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Contact Number"}),(0,d.jsx)("p",{className:`${b8().className} text-white font-medium`,children:a.phone})]})]})})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(o.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Created"}),(0,d.jsx)("p",{className:`${b8().className} text-white font-medium`,children:h(a.createdAt)})]})]})}),(0,d.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(C.A,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Last Updated"}),(0,d.jsx)("p",{className:`${b8().className} text-white font-medium`,children:h(a.updatedAt)})]})]})})]})]}),m&&n&&(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(cd.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"Location on Map"})]}),(0,d.jsx)("button",{onClick:()=>{let a=`https://www.google.com/maps?q=${m},${n}`;window.open(a,"_blank")},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-3 py-1 rounded-lg text-xs font-medium transition-all duration-200",children:"View on Google Maps"})]}),(0,d.jsx)("div",{className:"border border-yellow-500/20 rounded-lg overflow-hidden",children:(0,d.jsx)(cg,{readOnly:!0,initialPosition:[m,n]})})]})]}),"object"==typeof a.ownerId&&a.ownerId&&(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(k.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${b6().className} text-lg text-yellow-400 font-medium`,children:"Owner Information"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(k.A,{className:"text-gray-400",size:16}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Owner Name"}),(0,d.jsx)("p",{className:`${b8().className} text-white font-medium`,children:a.ownerId.ownerName})]})]})}),(0,d.jsx)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(bB.A,{className:"text-gray-400",size:16}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Owner Email"}),(0,d.jsx)("p",{className:`${b8().className} text-white font-medium`,children:a.ownerId.email})]})]})})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(_.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${b6().className} text-lg text-yellow-400 font-medium`,children:"Facilities & Amenities"})]}),a.facilities&&a.facilities.length>0?(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.facilities.map((a,b)=>{let c=(a=>{let b=a.toLowerCase();return b.includes("wifi")||b.includes("internet")?b9:b.includes("parking")?ca:b.includes("cafe")||b.includes("food")?cb:b.includes("security")?bF.A:b.includes("cctv")||b.includes("camera")?cc.A:_.A})(a);return(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-700/30 rounded-lg border border-yellow-500/10 hover:border-yellow-500/20 transition-all duration-200",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-1.5 rounded",children:(0,d.jsx)(c,{className:"text-yellow-400 flex-shrink-0",size:14})}),(0,d.jsx)("span",{className:`${b8().className} text-gray-300`,children:a})]},b)})}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"bg-gray-700/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(bG.A,{className:"text-gray-400",size:24})}),(0,d.jsx)("p",{className:"text-gray-400",children:"No facilities information available"})]})]})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-yellow-500/20 bg-gray-800/30",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[!a.isVerified&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:j,className:"flex items-center gap-2 bg-green-500 hover:bg-green-400 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:[(0,d.jsx)(ce.A,{size:16}),"Verify Theater"]}),(0,d.jsxs)("button",{onClick:l,className:"flex items-center gap-2 bg-red-500 hover:bg-red-400 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:[(0,d.jsx)(bE.A,{size:16}),"Reject Theater"]})]}),a.isVerified&&(0,d.jsxs)("button",{onClick:i,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 font-medium ${a.isActive?"bg-red-500 hover:bg-red-400 text-white":"bg-green-500 hover:bg-green-400 text-white"}`,children:[(0,d.jsx)(cf.A,{size:16}),a.isActive?"Disable Theater":"Enable Theater"]})]}),(0,d.jsx)("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-all duration-200 font-medium",children:"Close"})]})]})})]})},ci=({setViewInactiveTheater:a,ownerId:b,onClose:c,status:f})=>{let[g,h]=(0,e.useState)([]),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)("createdAt"),[o,p]=(0,e.useState)("desc"),[q,r]=(0,e.useState)(1),[s,t]=(0,e.useState)(1),[u,v]=(0,e.useState)(0),[w,x]=(0,e.useState)(null),[y]=(0,e.useState)(10),[z,A]=(0,e.useState)(!1),B=async()=>{A(!1),G()},C=async()=>{A(!1),G()},D=async()=>{A(!1),G()},E=(()=>{switch(f){case"active":return{title:"Active Theaters",icon:bD.A,iconColor:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/30",statusBadgeColor:"text-green-400",statusText:"Active",emptyMessage:"No Active Theaters",emptyDescription:"This owner doesn't have any active theaters yet."};case"inactive":return{title:"Inactive Theaters",icon:bE.A,iconColor:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/30",statusBadgeColor:"text-red-400",statusText:"Inactive",emptyMessage:"No Inactive Theaters",emptyDescription:"This owner doesn't have any inactive theaters."};default:return{title:"Theaters",icon:bG.A,iconColor:"text-gray-400",bgColor:"bg-gray-500/20",borderColor:"border-gray-500/30",statusBadgeColor:"text-gray-400",statusText:"Unknown",emptyMessage:"No Theaters",emptyDescription:"No theaters found."}}})(),F=E.icon,G=async(a={})=>{try{j(!0);let c={ownerId:b,status:f,page:q,limit:y,...a},d=await bP(b,c);h(d.data?.theaters||d.theaters||[]),d.data?.meta?.pagination?(t(d.data.meta.pagination.totalPages),v(d.data.meta.pagination.total),r(d.data.meta.pagination.currentPage)):d.meta?.pagination?(t(d.meta.pagination.totalPages),v(d.meta.pagination.total),r(d.meta.pagination.currentPage)):(t(1),v(g.length))}catch(a){a instanceof bb.pe&&(console.error("Error fetching theaters:",a),a9.Ay.error(a.response?.data?.message||"Failed to load theaters"),h([]),t(1),v(0))}finally{j(!1)}};(0,e.useEffect)(()=>{G()},[b,q,f]);let H=(0,bZ.d)(a=>{G(a)},700),I=a=>{r(a)};return(0,d.jsxs)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`${E.bgColor} p-2 rounded-lg`,children:(0,d.jsx)(F,{className:E.iconColor,size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${b0().className} text-2xl text-yellow-400 font-medium`,children:E.title}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Manage and monitor theater operations and status"})]})]}),(0,d.jsxs)("button",{className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 font-medium",onClick:()=>a(),children:["View ","active"===f?"Inactive":"Active"," Theaters"]})]})}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${b0().className} text-lg text-yellow-400 font-medium`,children:"Search & Filters"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,d.jsx)("form",{onSubmit:a=>{a.preventDefault(),r(1),H({search:k,sortBy:m,sortOrder:o,page:1})},className:"flex-1",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search theaters by name, location...",value:k,onChange:a=>{l(a.target.value),r(1),H({ownerId:b,search:a.target.value,sortBy:m,sortOrder:o,page:1})},className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]})}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:m,onChange:a=>(a=>{let c=m===a&&"desc"===o?"asc":"desc";n(a),p(c),r(1),G({ownerId:b,search:k,sortBy:a,sortOrder:c,page:1})})(a.target.value),className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[180px] cursor-pointer hover:bg-gray-700/50",children:[(0,d.jsx)("option",{value:"createdAt",children:"Sort by Date"}),(0,d.jsx)("option",{value:"theaterName",children:"Sort by Name"}),(0,d.jsx)("option",{value:"verifiedAt",children:"Sort by Verified Date"}),(0,d.jsx)("option",{value:"totalScreens",children:"Sort by Screens"}),(0,d.jsx)("option",{value:"totalSeats",children:"Sort by Seats"})]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,d.jsxs)("button",{onClick:()=>G({ownerId:b,search:k,sortBy:m,sortOrder:o}),className:"flex items-center gap-2 bg-gray-800/50 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50 text-white px-4 py-3 rounded-lg transition-all duration-200",disabled:i,children:[(0,d.jsx)(b3,{size:16,className:i?"animate-spin":""}),i?"Loading...":"Refresh"]})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg w-fit",children:[(0,d.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:u}),(0,d.jsxs)("span",{className:"text-gray-300 text-sm",children:[E.statusText.toLowerCase()," theaters found"]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(bG.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${b0().className} text-lg text-yellow-400 font-medium`,children:"Theaters List"})]}),i?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading theaters..."})]}):0===g.length?(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto",children:[(0,d.jsx)("div",{className:`${E.bgColor} rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4`,children:(0,d.jsx)(F,{size:32,className:E.iconColor})}),(0,d.jsx)("h3",{className:`${b0().className} text-xl text-white mb-2`,children:E.emptyMessage}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:k?`No theaters found matching "${k}"`:E.emptyDescription}),k&&(0,d.jsx)("button",{onClick:()=>{l(""),r(1),G({ownerId:b,sortBy:m,sortOrder:o,page:1})},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})}):(0,d.jsx)("div",{className:"space-y-4",children:g.map(a=>(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-700/50 hover:border-yellow-500/30 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("h3",{className:`${b0().className} text-xl font-medium text-white`,children:a.name}),(0,d.jsx)(F,{className:E.iconColor,size:18}),a.isVerified&&(0,d.jsxs)("span",{className:"bg-green-500/20 text-green-400 border border-green-500/30 px-3 py-1 text-xs rounded-full flex items-center gap-1",children:[(0,d.jsx)(bF.A,{size:12}),"Verified"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(b4.A,{size:16,className:"text-gray-400"}),(0,d.jsxs)("span",{className:`${b2().className} text-sm text-white`,children:[a.city,", ",a.state]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(bC.A,{size:16,className:"text-gray-400"}),(0,d.jsx)("span",{className:`${b2().className} text-sm text-white`,children:a.phone})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(bG.A,{size:16,className:"text-gray-400"}),(0,d.jsxs)("span",{className:`${b2().className} text-sm text-white`,children:[a.screens," Screens"]})]})]}),a.facilities&&a.facilities.length>0&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Facilities:"}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.facilities.slice(0,4).map((a,b)=>(0,d.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-3 py-1 text-xs rounded-full",children:a},b)),a.facilities.length>4&&(0,d.jsxs)("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 text-xs rounded-full",children:["+",a.facilities.length-4," more"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg ${a.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${a.isActive?"bg-green-400":"bg-red-400"}`}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.isActive?"Active":"Inactive"})]}),(0,d.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg ${a.isVerified?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${a.isVerified?"bg-blue-400":"bg-yellow-400"}`}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.isVerified?"Verified":"Pending Verification"})]})]})]}),(0,d.jsx)("div",{className:"ml-6",children:(0,d.jsxs)("button",{onClick:()=>{x(a),A(!0)},className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:[(0,d.jsx)(bk.A,{size:16}),(0,d.jsx)("span",{className:`${b2().className} text-sm`,children:"View Details"})]})})]})},a._id))}),(()=>{if(s<=1)return null;let a=[],b=Math.max(1,q-Math.floor(2.5)),c=Math.min(s,b+5-1);c-b<4&&(b=Math.max(1,c-5+1));for(let d=b;d<=c;d++)a.push(d);return(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 mt-6",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:(q-1)*y+1})," to"," ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:Math.min(q*y,u)})," of"," ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:u})," theaters"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>I(q-1),disabled:1===q,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(al,{size:16})}),(0,d.jsx)("div",{className:"flex gap-1",children:a.map(a=>(0,d.jsx)("button",{onClick:()=>I(a),className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 ${q===a?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:a},a))}),(0,d.jsx)("button",{onClick:()=>I(q+1),disabled:q===s,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(am.A,{size:16})})]})]})})})()]})]}),(0,d.jsx)(ch,{theater:w,isOpen:z,onClose:()=>{x(null),A(!1)},onStatusToggle:B,onVerifyTheater:C,onRejectTheater:D})]})};var cj=c(19635),ck=c.n(cj),cl=c(43649),cm=c(23026);let cn=({owners:a,isLoading:b,currentFilters:c,currentPage:e,totalPages:f,totalItems:g,onPageChange:h,onFiltersChange:i,onViewDetails:j,onToggleStatus:k,setViewThaeter:l})=>{let m=a=>{i({...c,search:a})};return(0,d.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,d.jsxs)("div",{className:"space-y-6",children:[g>0&&(0,d.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(cl.A,{className:"text-orange-400",size:20}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-orange-400 font-medium",children:"Inactive Owners Alert"}),(0,d.jsxs)("p",{className:"text-orange-300 text-sm",children:[g," owner",g>1?"s":""," currently blocked. Their theaters may be affected."]})]})]})}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${ck().className} text-lg text-yellow-400 font-medium`,children:"Search & Filters"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search inactive owners by name, email...",value:c.search||"",onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:`${c.sortBy||"createdAt"}-${c.sortOrder||"desc"}`,onChange:a=>{let[b,d]=a.target.value.split("-");i({...c,sortBy:b,sortOrder:d})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[200px] cursor-pointer hover:bg-gray-700/50",children:[(0,d.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,d.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,d.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,d.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"}),(0,d.jsx)("option",{value:"approvedAt-desc",children:"Recently Approved"}),(0,d.jsx)("option",{value:"approvedAt-asc",children:"Oldest Approved"})]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:[(0,d.jsx)("span",{className:"text-orange-400 font-medium text-sm",children:g}),(0,d.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"inactive owners"})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(C.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${ck().className} text-lg text-yellow-400 font-medium`,children:"Inactive Owners List"})]}),(0,d.jsx)("div",{className:"space-y-4",children:b?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading inactive owners..."})]}):a.length>0?a.map(a=>(0,d.jsxs)("div",{className:"relative transition-all duration-200 hover:scale-[1.01]",children:[(0,d.jsx)("div",{className:"bg-orange-500/20 border border-orange-500/30 rounded-t-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-orange-500/30 p-2 rounded-lg",children:(0,d.jsx)(C.A,{className:"text-orange-400",size:16})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-orange-400 font-medium text-sm block",children:"Owner Account Blocked"}),(0,d.jsx)("span",{className:"text-orange-300/80 text-xs",children:"Account status changed to inactive"})]})]}),(0,d.jsx)("div",{className:"flex items-center gap-3",children:(0,d.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/20 px-3 py-1 rounded-lg",children:(0,d.jsxs)("span",{className:"text-orange-300 text-xs",children:["Theaters: ",a.theatres.length]})})})]})}),(0,d.jsx)("div",{className:"border-t-0 rounded-t-none",children:(0,d.jsx)(bQ,{setViewThaeter:l,owner:a,actions:[{label:"Reactivate Owner",icon:cm.A,onClick:k,className:"bg-green-500 hover:bg-green-400 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium"}]})})]},a._id)):(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,d.jsx)("div",{className:"bg-green-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(C.A,{size:32,className:"text-green-400"})}),(0,d.jsx)("h3",{className:`${ck().className} text-xl text-white mb-2`,children:"All Owners Active"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Great! All owners are currently active. No blocked accounts found."}),(0,d.jsx)("button",{onClick:()=>m(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),f>1&&(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:e})," of"," ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:f})," (",g," total)"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>h(e-1),disabled:1===e,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(al,{size:16})}),(0,d.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(f,5))].map((a,b)=>{let c=b+1;if(f>5&&(c=Math.max(1,e-2)+b)>f)return null;let g=c===e;return(0,d.jsx)("button",{onClick:()=>h(c),className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 ${g?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:c},c)})}),(0,d.jsx)("button",{onClick:()=>h(e+1),disabled:e===f,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(am.A,{size:16})})]})]})})]})})};var co=c(36200),cp=c.n(co);let cq=({requests:a,isLoading:b,currentFilters:c,currentPage:e,totalPages:f,totalItems:g,onPageChange:h,onFiltersChange:i,onViewDetails:j})=>{let k=(0,bZ.d)(a=>{i({...c,search:a})},500),l=a=>{k(a)};return(0,d.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,d.jsxs)("div",{className:"space-y-6",children:[g>0&&(0,d.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(bU.A,{className:"text-red-400",size:20}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-red-400 font-medium",children:"Rejected Applications"}),(0,d.jsxs)("p",{className:"text-red-300 text-sm",children:[g," application",g>1?"s":""," have been rejected. You can review the reasons and details here."]})]})]})}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${cp().className} text-lg text-yellow-400 font-medium`,children:"Search & Filters"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search rejected requests by name, email...",value:c.search||"",onChange:a=>l(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:`${c.sortBy||"reviewedAt"}-${c.sortOrder||"desc"}`,onChange:a=>{let[b,d]=a.target.value.split("-");i({...c,sortBy:b,sortOrder:d})},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[220px] cursor-pointer hover:bg-gray-700/50",children:[(0,d.jsx)("option",{value:"reviewedAt-desc",children:"Recently Rejected"}),(0,d.jsx)("option",{value:"reviewedAt-asc",children:"Oldest Rejected"}),(0,d.jsx)("option",{value:"submittedAt-desc",children:"Request Date (New)"}),(0,d.jsx)("option",{value:"submittedAt-asc",children:"Request Date (Old)"}),(0,d.jsx)("option",{value:"ownerName-asc",children:"Name (A-Z)"}),(0,d.jsx)("option",{value:"ownerName-desc",children:"Name (Z-A)"})]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,d.jsx)("span",{className:"text-red-400 font-medium text-sm",children:g}),(0,d.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"rejected requests"})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(bE.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${cp().className} text-lg text-yellow-400 font-medium`,children:"Rejected Applications"})]}),(0,d.jsx)("div",{className:"space-y-4",children:b?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading rejected requests..."})]}):a.length>0?a.map(a=>(0,d.jsxs)("div",{className:"relative transition-all duration-200 hover:scale-[1.01]",children:[(0,d.jsxs)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-t-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-red-500/30 p-2 rounded-lg",children:(0,d.jsx)(bE.A,{className:"text-red-400",size:16})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-red-400 font-medium text-sm block",children:"Application Rejected"}),(0,d.jsx)("span",{className:"text-red-300/80 text-xs",children:"Request was reviewed and declined"})]})]}),a.reviewedAt&&(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-red-500/10 border border-red-500/20 px-3 py-1 rounded-lg",children:[(0,d.jsx)(C.A,{className:"text-red-400",size:12}),(0,d.jsx)("span",{className:"text-red-300 text-xs",children:new Date(a.reviewedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),a.rejectionReason&&(0,d.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(bU.A,{className:"text-red-400 mt-0.5 flex-shrink-0",size:14}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-red-400 font-medium text-xs mb-1",children:"Rejection Reason:"}),(0,d.jsx)("p",{className:"text-red-300 text-sm leading-relaxed",children:a.rejectionReason})]})]})})]}),(0,d.jsx)("div",{className:"border-t-0 rounded-t-none",children:(0,d.jsx)(bY,{request:a,actions:[{label:"View Details",icon:bk.A,onClick:j,className:"bg-blue-500 hover:bg-blue-400 text-white px-4 py-2 rounded-lg transition-all duration-200"}],showProcessedInfo:!0,showRejectionReason:!1})})]},a._id)):(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,d.jsx)("div",{className:"bg-green-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(bE.A,{size:32,className:"text-green-400"})}),(0,d.jsx)("h3",{className:`${cp().className} text-xl text-white mb-2`,children:"No Rejected Requests"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Great! No owner applications have been rejected. All applications are being processed successfully."}),(0,d.jsx)("button",{onClick:()=>l(""),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),f>1&&(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-300",children:["Page ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:e})," of"," ",(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:f})," (",g," total)"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>h(e-1),disabled:1===e,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(al,{size:16})}),(0,d.jsx)("div",{className:"flex gap-1",children:[...Array(Math.min(f,5))].map((a,b)=>{let c=b+1;if(f>5&&(c=Math.max(1,e-2)+b)>f)return null;let g=c===e;return(0,d.jsx)("button",{onClick:()=>h(c),className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 ${g?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 border border-yellow-500/30 text-white hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:c},c)})}),(0,d.jsx)("button",{onClick:()=>h(e+1),disabled:e===f,className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200",children:(0,d.jsx)(am.A,{size:16})})]})]})})]})})},cr=({activeView:a,owners:b,ownerRequests:c,isLoading:e,ownerFilters:f,requestFilters:g,currentPage:h,totalPages:i,totalItems:j,ownerId:k,ownerSearchValue:l,requestSearchValue:m,onPageChange:n,onOwnerFiltersChange:o,onRequestFiltersChange:p,onViewDetails:q,onToggleOwnerStatus:r,onAcceptRequest:s,onRejectRequest:t,setViewThaeter:u,setViewInactiveTheater:v,onClose:w})=>{let x={isLoading:e,currentFilters:f,ownerSearchValue:l,currentPage:h,totalPages:i,totalItems:j,onPageChange:n,onFiltersChange:o,onViewDetails:q},y={isLoading:e,currentFilters:g,requestSearchValue:m,currentPage:h,totalPages:i,totalItems:j,onPageChange:n,onFiltersChange:p,onViewDetails:q};switch(a){case"active":default:return(0,d.jsx)(bR,{...x,owners:b,onToggleStatus:r,setViewThaeter:u});case"inactive":return(0,d.jsx)(cn,{...x,owners:b,onToggleStatus:r,setViewThaeter:u});case"pending":return(0,d.jsx)(b$,{...y,requests:c,onAcceptRequest:s,onRejectRequest:t});case"rejected":return(0,d.jsx)(cq,{...y,requests:c});case"active-theaters":return(0,d.jsx)(ci,{setViewInactiveTheater:v,ownerId:k,onClose:w,status:"active"});case"inactive-theaters":return(0,d.jsx)(ci,{setViewInactiveTheater:v,ownerId:k,onClose:w,status:"inactive"})}};var cs=c(30157),ct=c.n(cs),cu=c(20694),cv=c.n(cu);let cw=(0,W.A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),cx=({activeView:a,setActiveView:b,activeCounts:c,countsLoading:e})=>{let f=c||{activeOwners:0,inactiveOwners:0,pendingRequests:0,rejectedRequests:0},g=[{id:"active",label:"Active Owners",icon:k.A,count:f.activeOwners,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/30"},{id:"inactive",label:"Inactive Owners",icon:C.A,count:f.inactiveOwners,color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/30"},{id:"pending",label:"Pending Requests",icon:bV,count:f.pendingRequests,color:"text-blue-400",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/30"},{id:"rejected",label:"Rejected Requests",icon:cw,count:f.rejectedRequests,color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/30"}],h=Object.values(f).reduce((a,b)=>a+b,0);return e?(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(m.A,{className:"text-yellow-400",size:20})}),(0,d.jsx)("h3",{className:`${ct().className} text-lg text-yellow-400 font-medium`,children:"Owners Statistics"})]}),(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("span",{className:"text-gray-300 text-sm",children:"Loading statistics..."})]})})]}):(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h4",{className:`${ct().className} text-sm text-gray-400 uppercase tracking-wider`,children:"Filter by Category"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-3",children:g.map(c=>{let e=c.icon,f=a===c.id;return(0,d.jsxs)("button",{onClick:()=>b(c.id),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 min-w-[160px] ${f?"bg-yellow-500 hover:bg-yellow-400 text-black shadow-lg transform scale-105":"bg-gray-800/50 border border-yellow-500/30 text-gray-300 hover:text-white hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:[(0,d.jsx)(e,{size:18,className:f?"text-black":c.color}),(0,d.jsxs)("div",{className:"flex flex-col items-start",children:[(0,d.jsx)("span",{className:`${cv().className} text-sm font-medium`,children:c.label}),(0,d.jsxs)("span",{className:`text-xs ${f?"text-black/70":"text-gray-400"}`,children:[c.count," ",1===c.count?"item":"items"]})]}),(0,d.jsx)("div",{className:`ml-auto px-2 py-1 rounded-full text-xs font-medium ${f?"bg-black/20 text-black":`${c.bgColor} ${c.color}`}`,children:c.count})]},c.id)})})]}),h>0&&(0,d.jsx)("div",{className:"mt-6 pt-4 border-t border-yellow-500/20",children:(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsxs)("span",{className:"text-gray-400",children:["Showing ",g.find(b=>b.id===a)?.label.toLowerCase()||"all items"]}),(0,d.jsx)("div",{className:"flex gap-2",children:(0,d.jsx)("div",{className:"bg-gray-800/50 px-3 py-1 rounded-lg",children:(0,d.jsxs)("span",{className:"text-gray-300",children:[((g.find(b=>b.id===a)?.count||0)/h*100).toFixed(1),"%"]})})})]})})]})};var cy=c(83011),cz=c.n(cy);let cA=()=>(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:`${cz().className} text-3xl font-bold text-white mb-2`,children:"Owners Management"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Manage cinema owners and their requests"})]}),cB=()=>{let[a,b]=(0,e.useState)("active"),[c,f]=(0,e.useState)([]),[g,h]=(0,e.useState)([]),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(""),[o,p]=(0,e.useState)({}),[q,r]=(0,e.useState)({}),[s,t]=(0,e.useState)(""),[u,v]=(0,e.useState)(!0),[w,x]=(0,e.useState)(1),[y,z]=(0,e.useState)(1),[A,B]=(0,e.useState)(0),[C]=(0,e.useState)(1),[D,E]=(0,e.useState)({activeOwners:0,inactiveOwners:0,pendingRequests:0,rejectedRequests:0}),F=async()=>{try{v(!0);let a=await br();a?.data?.counts?E(a.data.counts):a?.counts?E(a.counts):(console.error("Unexpected response format:",a),a9.Ay.error("Failed to load counts - invalid response format"))}catch(a){console.error("Error fetching counts:",a),a9.Ay.error(a.response?.data?.message||"Failed to load counts"),E({activeOwners:0,inactiveOwners:0,pendingRequests:0,rejectedRequests:0})}finally{v(!1)}};(0,e.useEffect)(()=>{F()},[]);let G=(0,bZ.d)((0,e.useCallback)(async(b,c=!0)=>{c?(x(1),b={...b,page:1,limit:C}):b={...b,limit:C},p(b);try{j(!0);let c={...b,status:a},d=await bp(c);f(d.data?.owners||d.owners||[]),h([]),d.data?.meta?.pagination?(z(d.data.meta.pagination.totalPages),B(d.data.meta.pagination.total),x(d.data.meta.pagination.currentPage)):d.meta?.pagination&&(z(d.meta.pagination.totalPages),B(d.meta.pagination.total),x(d.meta.pagination.currentPage))}catch(a){console.error("Filter error:",a),a9.Ay.error(a.response?.data?.message||"Filter failed"),f([]),z(1),B(0)}finally{j(!1)}},[a,C]),500),H=(0,bZ.d)((0,e.useCallback)(async(b,c=!0)=>{c?(x(1),b={...b,page:1,limit:C}):b={...b,limit:C},r(b);try{j(!0);let c={...b,status:a},d=await bq(c);h(d.data?.requests||d.requests||[]),f([]),d.data?.meta?.pagination?(z(d.data.meta.pagination.totalPages),B(d.data.meta.pagination.total),x(d.data.meta.pagination.currentPage)):d.meta?.pagination&&(z(d.meta.pagination.totalPages),B(d.meta.pagination.total),x(d.meta.pagination.currentPage))}catch(a){console.error("Filter error:",a),a9.Ay.error(a.response?.data?.message||"Filter failed"),h([]),z(1),B(0)}finally{j(!1)}},[a,C]),500),I=(0,e.useCallback)(b=>{x(b),"inactive"===a||"active"===a?J({...o,page:b,limit:C},!1):K({...q,page:b,limit:C},!1)},[o,q,C,a]),J=async(b,c=!0)=>{if(void 0!==b.search&&b.search!==o.search)l(b.search||""),G(b,c);else{c?(x(1),b={...b,page:1,limit:C}):b={...b,limit:C},p(b);try{j(!0);let c={...b,status:a},d=await bp(c);f(d.data?.owners||d.owners||[]),h([]),d.data?.meta?.pagination?(z(d.data.meta.pagination.totalPages),B(d.data.meta.pagination.total),x(d.data.meta.pagination.currentPage)):d.meta?.pagination&&(z(d.meta.pagination.totalPages),B(d.meta.pagination.total),x(d.meta.pagination.currentPage))}catch(a){console.error("Filter error:",a),a9.Ay.error(a.response?.data?.message||"Filter failed"),f([]),z(1),B(0)}finally{j(!1)}}},K=async(b,c=!0)=>{if(void 0!==b.search&&b.search!==q.search)H(b,c);else{c?(x(1),b={...b,page:1,limit:C}):b={...b,limit:C},r(b);try{j(!0);let c={...b,status:a},d=await bq(c);h(d.data?.requests||d.requests||[]),f([]),d.data?.meta?.pagination?(z(d.data.meta.pagination.totalPages),B(d.data.meta.pagination.total),x(d.data.meta.pagination.currentPage)):d.meta?.pagination&&(z(d.meta.pagination.totalPages),B(d.meta.pagination.total),x(d.meta.pagination.currentPage))}catch(a){console.error("Filter error:",a),a9.Ay.error(a.response?.data?.message||"Filter failed"),h([]),z(1),B(0)}finally{j(!1)}}};(0,e.useEffect)(()=>{p({}),r({}),x(1),f([]),h([]),"inactive"===a||"active"===a?J({},!0):("pending"===a||"rejected"===a)&&K({},!0)},[a]);let L=async a=>{try{let b=a.isActive?"disable":"activate",c=b[0].toUpperCase()+b.slice(1);if(!await (0,ba.f)({title:`${c} Owner?`,message:`Are you sure you want to ${b} "${a.ownerName}"?`,confirmText:c,cancelText:"Cancel"}))return;await bu(a._id);let d=a.isActive?"blocked":"activated";a9.Ay.success(`Owner ${d} successfully!`),F(),Object.keys(o).length>0&&J(o,!1)}catch(a){console.error("Error toggling owner status:",a),a9.Ay.error(a.response?.data?.message||"Failed to update owner status")}},M=async a=>{try{if(!await (0,ba.f)({title:"Accept Owner Request?",message:`Are you sure you want to accept "${a.ownerName}"'s request?`,confirmText:"Accept",cancelText:"Cancel"}))return;await bs(a._id),a9.Ay.success("Owner request accepted! New owner account created."),F(),Object.keys(q).length>0&&K(q,!1)}catch(a){console.error("Error accepting request:",a),a9.Ay.error(a.response?.data?.message||"Failed to accept request")}},N=async(a,b)=>{try{await bt(a._id,b),a9.Ay.success("Owner request rejected!"),F(),Object.keys(q).length>0&&K(q,!1)}catch(a){console.error("Error rejecting request:",a),a9.Ay.error(a.response?.data?.message||"Failed to reject request")}};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(cA,{}),(0,d.jsx)(cx,{activeView:a,setActiveView:b,activeCounts:D,countsLoading:u}),(0,d.jsx)(cr,{activeView:a,owners:c,ownerRequests:g,isLoading:i,ownerSearchValue:k,requestSearchValue:m,ownerFilters:o,requestFilters:q,currentPage:w,totalPages:y,totalItems:A,ownerId:s,onPageChange:I,onOwnerFiltersChange:J,onRequestFiltersChange:K,onViewDetails:a=>{console.log("View details for:",a.ownerName)},onToggleOwnerStatus:L,onAcceptRequest:M,onRejectRequest:N,setViewThaeter:a=>{b("active-theaters"),t(a)},setViewInactiveTheater:()=>{"active-theaters"==a?b("inactive-theaters"):b("active-theaters")},onClose:()=>{b("active")}})]})};var cC=c(68341),cD=c.n(cC),cE=c(22718),cF=c.n(cE),cG=c(38081),cH=c.n(cG),cI=c(42692),cJ=c.n(cI);let cK=({user:a,onViewDetails:b,onToggleStatus:c})=>{let e=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 hover:border-gray-500 transition-colors",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,d.jsxs)("div",{className:"relative",children:[a.profilePicture?(0,d.jsx)("img",{src:a.profilePicture,alt:a.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-600"}):(0,d.jsx)("div",{className:"w-12 h-12 rounded-full bg-[#2a2a2a] border-2 border-gray-600 flex items-center justify-center",children:(0,d.jsx)(k.A,{size:20,className:"text-gray-400"})}),a.isVerified&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:(0,d.jsx)(bF.A,{size:10,className:"text-white"})})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("h3",{className:`${cJ().className} text-lg font-medium text-white`,children:a.name}),(0,d.jsxs)("div",{className:"flex gap-1",children:[a.emailVerified&&(0,d.jsx)(bB.A,{size:14,className:"text-green-400"}),a.phoneVerified&&(0,d.jsx)(bC.A,{size:14,className:"text-green-400"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,d.jsxs)("div",{className:"text-gray-300",children:[(0,d.jsx)("span",{className:"text-gray-500",children:"Email:"})," ",a.email]}),(0,d.jsxs)("div",{className:"text-gray-300",children:[(0,d.jsx)("span",{className:"text-gray-500",children:"Phone:"})," ",a.phone]}),(0,d.jsxs)("div",{className:"text-gray-300",children:[(0,d.jsx)("span",{className:"text-gray-500",children:"Joined:"})," ",e(a.joinedAt)]}),(0,d.jsxs)("div",{className:"text-gray-300",children:[(0,d.jsx)("span",{className:"text-gray-500",children:"Last Login:"})," ",(a=>{if(!a||"0"===a)return"Never logged in";let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/36e5);if(c<24)return`${c} hours ago`;{let a=Math.floor(c/24);return`${a} days ago`}})(a.lastActive)]}),a.gender&&(0,d.jsxs)("div",{className:"text-gray-300",children:[(0,d.jsx)("span",{className:"text-gray-500",children:"Gender:"})," ",a.gender]}),a.dateOfBirth&&(0,d.jsxs)("div",{className:"text-gray-300",children:[(0,d.jsx)("span",{className:"text-gray-500",children:"DOB:"})," ",e(a.dateOfBirth)]})]}),(0,d.jsxs)("div",{className:"flex gap-2 mt-3 flex-wrap",children:[(0,d.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.isActive?"bg-green-900/50 text-green-400 border border-green-500/30":"bg-red-900/50 text-red-400 border border-red-500/30"}`,children:a.isActive?"Active":"Inactive"}),(0,d.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.isVerified?"bg-blue-900/50 text-blue-400 border border-blue-500/30":"bg-gray-900/50 text-gray-400 border border-gray-500/30"}`,children:a.isVerified?"Verified":"Unverified"}),a.bookingHistory&&a.bookingHistory.length>0&&(0,d.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-900/50 text-purple-400 border border-purple-500/30",children:[a.bookingHistory.length," Bookings"]})]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 flex-col sm:flex-row",children:[(0,d.jsxs)("button",{onClick:()=>b(a),className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-1",children:[(0,d.jsx)(bk.A,{size:14}),"View"]}),(0,d.jsxs)("button",{onClick:()=>c(a),className:`px-3 py-2 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-1 ${a.isActive?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,children:[(0,d.jsx)(by.A,{size:14}),a.isActive?"Block":"Activate"]})]})]})})},cL=({users:a,isLoading:b,currentFilters:c,currentPage:e,totalPages:f,totalItems:g,onPageChange:h,onFiltersChange:i,onSearchChange:j,onViewDetails:l,onToggleStatus:m,searchLoading:n})=>(0,d.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${cH().className} text-lg text-yellow-400 font-medium`,children:"Search & Filters"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search users by name, email, or phone...",value:c.search||"",onChange:a=>j(a.target.value),className:"w-full pl-10 pr-10 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"}),n&&(0,d.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-500 border-t-transparent"})})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:`${c.sortBy||"name"}-${c.sortOrder||"asc"}`,onChange:a=>{let[b,d]=a.target.value.split("-");i({...c,sortBy:b,sortOrder:d},!0)},className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[180px] cursor-pointer hover:bg-gray-700/50",children:[(0,d.jsx)("option",{value:"name-asc",children:"Name (A-Z)"}),(0,d.jsx)("option",{value:"name-desc",children:"Name (Z-A)"}),(0,d.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,d.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,d.jsx)("option",{value:"lastLogin-desc",children:"Recently Active"}),(0,d.jsx)("option",{value:"lastLogin-asc",children:"Least Active"})]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,d.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:g}),(0,d.jsx)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:"users found"})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(k.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${cH().className} text-lg text-yellow-400 font-medium`,children:"Users List"})]}),(0,d.jsx)("div",{className:"space-y-4",children:b?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading users..."})]}):a.length>0?a.map(a=>(0,d.jsx)("div",{className:"transition-all duration-200 hover:scale-[1.01]",children:(0,d.jsx)(cK,{user:a,onViewDetails:l,onToggleStatus:m})},a._id)):(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 text-center max-w-md mx-auto transition-all duration-200",children:[(0,d.jsx)("div",{className:"bg-yellow-500/10 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(k.A,{size:32,className:"text-yellow-400"})}),(0,d.jsx)("h3",{className:`${cH().className} text-xl text-white mb-2`,children:"No users found"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed",children:"No users match your current search criteria. Try adjusting your search terms or filters."}),(0,d.jsx)("button",{onClick:()=>j(""),className:"mt-4 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]})})})]}),f>1&&(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsx)(ao,{currentPage:e,totalPages:f,onPageChange:h})})]})}),cM={BASE:"/admin/users",COUNTS:"/admin/users/counts",TOGGLE_STATUS:a=>`/admin/users/${a}/toggle-status`},cN=async()=>(await a2.A.get(cM.COUNTS)).data,cO=async a=>{let b=(a=>{let b=new URLSearchParams;return Object.entries(a).forEach(([a,c])=>{void 0!==c&&""!==c&&null!==c&&b.append(a,c.toString())}),b.toString()})(a);return(await a2.A.get(`${cM.BASE}?${b}`)).data},cP=async a=>(await a2.A.patch(cM.TOGGLE_STATUS(a))).data;var cQ=c(22245),cR=c.n(cQ),cS=c(86561),cT=c(11437),cU=c(58559);let cV=({user:a,isOpen:b,onClose:c})=>{if(!b||!a)return null;let e=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",f=a=>({en:"English",hi:"Hindi",es:"Spanish",fr:"French"})[a]||a.toUpperCase();return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(k.A,{size:20,className:"text-yellow-400"})}),(0,d.jsx)("h2",{className:`${cR().className} text-2xl text-yellow-400 font-medium`,children:"User Details"})]}),(0,d.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,d.jsx)(aC.A,{size:24})})]}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"flex items-start gap-6",children:[(0,d.jsxs)("div",{className:"relative",children:[a.profilePicture?(0,d.jsx)("img",{src:a.profilePicture,alt:a.username,className:"w-28 h-28 rounded-full object-cover border-4 border-yellow-500/30 shadow-lg"}):(0,d.jsx)("div",{className:"w-28 h-28 rounded-full bg-gray-700/50 border-4 border-yellow-500/30 flex items-center justify-center shadow-lg",children:(0,d.jsx)(k.A,{size:48,className:"text-gray-400"})}),a.isVerified&&(0,d.jsx)("div",{className:"absolute -top-2 -right-2 bg-green-500 rounded-full p-2 border-2 border-gray-900 shadow-lg",children:(0,d.jsx)(bF.A,{size:16,className:"text-white"})})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,d.jsx)("h3",{className:`${cR().className} text-3xl font-medium text-white`,children:a.username})}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,d.jsxs)("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 px-3 py-1 rounded-full flex items-center gap-2",children:[(0,d.jsx)(cS.A,{size:14}),(0,d.jsxs)("span",{className:"text-sm font-medium",children:[a.xpPoints," XP"]})]}),(0,d.jsxs)("div",{className:"bg-blue-500/20 text-blue-400 border border-blue-500/30 px-3 py-1 rounded-full flex items-center gap-2",children:[(0,d.jsx)(cT.A,{size:14}),(0,d.jsx)("span",{className:"text-sm font-medium",children:f(a?.language)})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsxs)("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 ${a.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[a.isActive?(0,d.jsx)(bD.A,{size:16}):(0,d.jsx)(bE.A,{size:16}),a.isActive?"Active":"Inactive"]}),(0,d.jsxs)("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 ${a.isVerified?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:[(0,d.jsx)(bF.A,{size:16}),a.isVerified?"Verified":"Unverified"]})]})]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("h4",{className:`${cR().className} text-lg text-yellow-400 font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(k.A,{size:20}),"Account Information"]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(bB.A,{size:16,className:"text-gray-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Email"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.email})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(k.A,{size:16,className:"text-gray-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Username"}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.username})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(bF.A,{size:16,className:"text-gray-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Auth Provider"}),(0,d.jsx)("p",{className:"text-white font-medium capitalize",children:a.authProvider})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(cT.A,{size:16,className:"text-gray-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Language"}),(0,d.jsx)("p",{className:"text-white font-medium",children:f(a.language)})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("h4",{className:`${cR().className} text-lg text-yellow-400 font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(cU.A,{size:20}),"Activity Information"]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(o.A,{size:16,className:"text-gray-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Joined"}),(0,d.jsx)("p",{className:"text-white font-medium",children:e(a.joinedAt)})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(C.A,{size:16,className:"text-gray-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Last Active"}),(0,d.jsx)("p",{className:"text-white font-medium",children:(a=>{if(!a)return"Never active";let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/36e5);if(c<1)return"Active now";if(c<24)return`${c} hours ago`;let d=Math.floor(c/24);return d<7?`${d} days ago`:e(a)})(a.lastActive)})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(cU.A,{size:16,className:"text-gray-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Last Updated"}),(0,d.jsx)("p",{className:"text-white font-medium",children:(a=>a?new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")(a.updatedAt)})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)(_.A,{size:16,className:"text-yellow-400 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"XP Points"}),(0,d.jsx)("p",{className:"text-yellow-400 font-bold text-lg",children:a.xpPoints})]})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("h4",{className:`${cR().className} text-lg text-yellow-400 font-medium mb-4 flex items-center gap-2`,children:[(0,d.jsx)(b4.A,{size:20}),"Location & Status"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm block mb-2",children:"Location"}),(0,d.jsxs)("a",{href:`https://www.google.com/maps?q=${a.location.coordinates[1]},${a.location.coordinates[0]}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:[(0,d.jsx)(b4.A,{size:16}),"View on Google Maps",(0,d.jsx)(bK,{size:14})]}),(0,d.jsx)("p",{className:"text-gray-300 text-xs mt-2",children:(a=>{if(!a?.coordinates)return"Unknown";let[b,c]=a.coordinates;return`${c.toFixed(4)}\xb0, ${b.toFixed(4)}\xb0`})(a.location)})]}),(0,d.jsxs)("div",{className:"p-4 bg-gray-700/30 rounded-lg",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm block mb-2",children:"Account Status"}),(0,d.jsxs)("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-lg text-sm font-medium ${a.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[a.isActive?(0,d.jsx)(bD.A,{size:16}):(0,d.jsx)(bE.A,{size:16}),a.isActive?"Active Account":"Inactive Account"]})]})]})]})]}),(0,d.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30 flex justify-end gap-3",children:(0,d.jsx)("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-all duration-200 font-medium",children:"Close"})})]})})},cW=({activeView:a,setActiveView:b,activeCounts:c})=>{let e=c||{activeUsers:0,inactiveUsers:0,verifiedUsers:0,unverifiedUsers:0},f=[{id:"active",label:"Active Users",icon:k.A,count:e.activeUsers,color:"text-green-400"},{id:"inactive",label:"Inactive Users",icon:C.A,count:e.inactiveUsers,color:"text-orange-400"}];return(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map(c=>{let e=c.icon,f=a===c.id;return(0,d.jsxs)("button",{onClick:()=>{b(c.id)},className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${f?"bg-[#e78f03] text-black font-medium shadow-lg":"text-gray-300 hover:text-white hover:bg-[#2a2a2a] border border-gray-500"}`,children:[(0,d.jsx)(e,{size:16,className:f?"text-black":c.color}),(0,d.jsx)("span",{className:`${cF().className}`,children:c.label}),(0,d.jsx)("span",{className:`${f?"bg-black/20 text-black":"bg-[#2a2a2a] text-gray-300"} text-xs px-2 py-1 rounded-full ml-1`,children:c.count})]},c.id)})})})},cX=()=>{let[a,b]=(0,e.useState)("active"),[c,f]=(0,e.useState)([]),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)({}),[k,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)(1),[o,p]=(0,e.useState)(1),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(0),[u]=(0,e.useState)(3),[v,w]=(0,e.useState)(""),x=(0,e.useRef)(),[y,z]=(0,e.useState)({activeUsers:0,inactiveUsers:0,verifiedUsers:0,unverifiedUsers:0}),[A,B]=(0,e.useState)(null),[C,D]=(0,e.useState)(!1),E=async()=>{try{l(!0);let a=await cN();z(a)}catch(a){console.error("Error fetching counts:",a),a9.Ay.error("Failed to load user counts"),z({activeUsers:0,inactiveUsers:0,verifiedUsers:0,unverifiedUsers:0})}finally{l(!1)}};(0,e.useEffect)(()=>{E()},[]);let F=(0,e.useCallback)(a=>{n(a),G({...i,page:a,limit:u},!1)},[i,u]),G=async(b,c=!0)=>{c?(n(1),b={...b,page:1,limit:u}):b={...b,limit:u},j(b);try{h(!0);let c={...b};"active"===a||"inactive"===a?c.status=a:"verified"===a?c.isVerified=!0:"unverified"===a&&(c.isVerified=!1);let d=await cO(c);console.log(d),f(d.data.users),p(d.data.meta.pagination.totalPages),t(d.data.meta.pagination.total),n(d.data.meta.pagination.currentPage)}catch(a){console.error("Filter error:",a),a9.Ay.error("Failed to load users"),f([]),p(1),t(0)}finally{h(!1),r(!1)}},H=(0,e.useRef)(i);H.current=i,(0,bZ.d)(a=>{G({...H.current,search:a},!0)},650);let I=(0,e.useCallback)(a=>{if(w(a),j(b=>({...b,search:a})),!a.trim())return void r(!1);r(!0),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{G({...i,search:a},!0)},650)},[i]);(0,e.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]),(0,e.useEffect)(()=>{w(""),j({}),n(1),f([]),G({},!0)},[a]);let J=a=>{B(a),D(!0)},K=async a=>{try{let b=a.isActive,c=b?"Deactivate":"Activate";if(!await (0,ba.f)({title:`${c} User?`,message:`Are you sure you want to ${c.toLowerCase()} "${a.name}"?`,confirmText:c,cancelText:"Cancel"}))return;await cP(a._id),a9.Ay.success(`User ${b?"deactivated":"activated"} successfully!`),E(),Object.keys(i).length>0&&G(i,!1)}catch(a){console.error("Error toggling user status:",a),a9.Ay.error("Failed to update user status")}};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(cV,{user:A,isOpen:C,onClose:()=>{D(!1),B(null)}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:`${cD().className} text-3xl font-bold text-white mb-2`,children:"Users Management"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Manage platform users and their accounts"})]}),k?(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4 shadow-lg",children:(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsx)("div",{className:"text-gray-400",children:"Loading counts..."})})}):(0,d.jsx)(cW,{activeView:a,setActiveView:b,activeCounts:y}),(()=>{let a={isLoading:g,searchLoading:q,currentFilters:{...i,search:v},currentPage:m,totalPages:o,totalItems:s,onPageChange:F,onFiltersChange:G,onSearchChange:I,onViewDetails:J};return(0,d.jsx)(cL,{...a,users:c,onToggleStatus:K})})()]})};var cY=c(93973),cZ=c(75153),c$=c.n(cZ),c_=c(34318),c0=c(12597),c1=c(74650);let c2=({handleToggleScreenStatus:a,screen:b,onViewDetails:c,onViewShowtimes:f})=>{let[g,h]=(0,e.useState)(!1),i=()=>"object"==typeof b.theaterId&&b.theaterId?.city?`${b.theaterId.city}, ${b.theaterId.state||""}`:"";return(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-700/50 hover:border-yellow-500/30 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(c_.A,{className:"text-yellow-400",size:20})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:`${c$().className} text-xl font-medium text-white mb-1`,children:b.name}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsxs)("div",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-lg text-xs font-medium ${b.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[b.isActive?(0,d.jsx)(bD.A,{size:12}):(0,d.jsx)(bE.A,{size:12}),b.isActive?"Active":"Disabled"]})})]})]}),(0,d.jsx)("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(c_.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400",children:"Theater:"}),(0,d.jsx)("span",{className:"text-white font-medium",children:"object"==typeof b.theaterId&&b.theaterId?.name||"Unknown Theater"})]}),i()&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(b4.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400",children:"Location:"}),(0,d.jsx)("span",{className:"text-gray-300",children:i()})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400",children:"Total Seats:"}),(0,d.jsx)("span",{className:"text-white font-medium",children:b.totalSeats})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(V.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400",children:"Layout:"}),(0,d.jsxs)("span",{className:"text-white font-medium",children:[b.layout?.rows||0," rows \xd7 ",b.layout?.seatsPerRow||0," seats/row"]})]})]})}),b.features&&b.features.length>0&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(_.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Features"})]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:b.features.map((a,b)=>(0,d.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-2 py-1 rounded text-xs font-medium",children:a},b))})]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 lg:min-w-[220px]",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm",onClick:()=>c(b),children:[(0,d.jsx)(bk.A,{size:14}),"View Details"]}),(0,d.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 border border-yellow-500/30 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm",onClick:()=>f(b),children:[(0,d.jsx)(o.A,{size:14}),"Showtimes"]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[b.layout?.advancedLayout&&(0,d.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 bg-purple-500/20 border border-purple-500/30 hover:bg-purple-500/30 text-purple-400 hover:text-purple-300 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm",onClick:()=>h(!g),children:[g?(0,d.jsx)(c0.A,{size:14}):(0,d.jsx)(bk.A,{size:14}),g?"Hide Layout":"Show Layout"]}),(0,d.jsxs)("button",{onClick:()=>a(b._id,b.isActive),className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${b.isActive?"bg-red-500 hover:bg-red-400 text-white":"bg-green-500 hover:bg-green-400 text-white"}`,children:[(0,d.jsx)(cf.A,{size:14}),b.isActive?"Disable":"Enable"]})]})]})]}),g&&b.layout?.advancedLayout&&(0,d.jsx)("div",{className:"mt-6 pt-6 border-t border-yellow-500/20",children:(0,d.jsxs)("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-yellow-500/10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(V.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("h4",{className:`${c$().className} text-white text-sm font-medium`,children:"Seating Layout Preview"})]}),(0,d.jsx)(c1.l,{advancedLayoutJSON:b.layout.advancedLayout,maxCols:b.layout.seatsPerRow||24,showAisles:(()=>{let a=b.layout.advancedLayout?.aisles;return a&&(a.vertical&&a.vertical.length>0||a.horizontal&&a.horizontal.length>0)})()})]})})]})},c3=({filters:a,totalItems:b,onChange:c})=>(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsx)("input",{type:"text",placeholder:"Search screens by name...",value:a.search||"",onChange:b=>c({...a,search:b.target.value}),className:"w-full pl-10 pr-4 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#e78f03]"})]}),(0,d.jsxs)("select",{value:void 0===a.isActive?"all":a.isActive.toString(),onChange:b=>{let d="all"===b.target.value?void 0:"true"===b.target.value;c({...a,isActive:d})},className:"bg-[#2a2a2a] border border-gray-500 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-[#e78f03]",children:[(0,d.jsx)("option",{value:"all",children:"All Status"}),(0,d.jsx)("option",{value:"true",children:"Active"}),(0,d.jsx)("option",{value:"false",children:"Disabled"})]}),(0,d.jsxs)("select",{value:`${a.sortBy||"name"}-${a.sortOrder||"asc"}`,onChange:b=>{let[d,e]=b.target.value.split("-");c({...a,sortBy:d,sortOrder:e})},className:"bg-[#2a2a2a] border border-gray-500 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-[#e78f03] min-w-[150px]",children:[(0,d.jsx)("option",{value:"name-asc",children:"Name (A-Z)"}),(0,d.jsx)("option",{value:"name-desc",children:"Name (Z-A)"}),(0,d.jsx)("option",{value:"totalSeats-desc",children:"Most Seats"}),(0,d.jsx)("option",{value:"totalSeats-asc",children:"Least Seats"}),(0,d.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,d.jsx)("option",{value:"createdAt-asc",children:"Oldest First"})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-400 whitespace-nowrap",children:[b," screens"]})]})}),c4=({currentPage:a,totalPages:b,totalItems:c,onPageChange:e})=>(0,d.jsx)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",a," of ",b," (",c," total)"]}),(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap justify-center",children:[(0,d.jsx)("button",{onClick:()=>e(a-1),disabled:1===a,className:"px-3 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#3a3a3a] transition-colors",children:(0,d.jsx)(al,{size:16})}),[...Array(Math.min(b,5))].map((c,f)=>{let g=f+1;if(b>5&&(g=Math.max(1,a-2)+f)>b)return null;let h=g===a;return(0,d.jsx)("button",{onClick:()=>e(g),className:`px-3 py-2 rounded-lg transition-colors ${h?"bg-[#e78f03] text-black":"bg-[#2a2a2a] border border-gray-500 text-white hover:bg-[#3a3a3a]"}`,children:g},g)}),(0,d.jsx)("button",{onClick:()=>e(a+1),disabled:a===b,className:"px-3 py-2 bg-[#2a2a2a] border border-gray-500 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#3a3a3a] transition-colors",children:(0,d.jsx)(am.A,{size:16})})]})]})}),c5={BASE:"/admin/screens",BY_ID:a=>`/admin/screens/${a}`},c6=async(a,b)=>{let c=new URLSearchParams({page:a.toString(),limit:"5",...Object.entries(b).filter(([a,b])=>void 0!==b&&""!==b).reduce((a,[b,c])=>({...a,[b]:c.toString()}),{})});return(await a2.A.get(c5.BASE,{params:c})).data},c7=async(a,b)=>(await a2.A.patch(c5.BY_ID(a),{isActive:b})).data,c8=({screens:a,totalItems:b,currentPage:c,totalPages:f,isLoading:g,onViewDetails:h,onViewShowtimes:i,onPageChange:j,onFiltersChange:k,fetchScreens:l})=>{let[m,n]=(0,e.useState)({search:"",sortBy:"name",sortOrder:"asc"}),o=async(a,b)=>{let c=b?"disable":"enable",d=c.toUpperCase();if(await (0,ba.f)({title:`${d} Owner?`,message:`Are you sure you want to ${c} this screen?`,confirmText:d,cancelText:"Cancel"}))try{let d=await c7(a,b);console.log(d),a9.Ay.success(`Screen succusfully ${c}d`),l(0,{})}catch(a){console.log(a)}},p=a.reduce((a,b)=>{let c="object"==typeof b.theaterId&&b.theaterId?.name||"Unknown Theater";return a[c]||(a[c]=[]),a[c].push(b),a},{});return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(c3,{filters:m,totalItems:b,onChange:a=>{n(a),k(a)}}),(0,d.jsx)("div",{className:"space-y-6",children:g?(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#e78f03]"})}):0===Object.keys(p).length?(0,d.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No screens available."}):Object.entries(p).map(([a,b])=>(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold text-white border-b border-gray-600 pb-2",children:[a," (",b.length," screens)"]}),(0,d.jsx)("div",{className:"space-y-3",children:b.map(a=>(0,d.jsx)(c2,{handleToggleScreenStatus:o,screen:a,onViewDetails:h,onViewShowtimes:i},a._id))})]},a))}),f>1&&(0,d.jsx)(c4,{currentPage:c,totalPages:f,totalItems:b,onPageChange:j})]})};var c9=c(48576),da=c.n(c9),db=c(84027);let dc=({screen:a,onClose:b})=>(0,d.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-2xl shadow-2xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(c_.A,{className:"text-yellow-400",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${da().className} text-2xl text-yellow-400 font-medium`,children:"Screen Details"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:a.name})]})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,d.jsx)(aC.A,{size:24})})]}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`p-2 rounded-lg ${a.isActive?"bg-green-500/20":"bg-red-500/20"}`,children:a.isActive?(0,d.jsx)(bD.A,{className:"text-green-400",size:20}):(0,d.jsx)(bE.A,{className:"text-red-400",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"Screen Status"}),(0,d.jsx)("p",{className:`font-medium ${a.isActive?"text-green-400":"text-red-400"}`,children:a.isActive?"Active":"Disabled"})]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)(c_.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Screen Name"})]}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.name})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)(j.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Seats"})]}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.totalSeats})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)(db.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Screen Type"})]}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.screenType||"Standard"})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)(V.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Layout"})]}),(0,d.jsx)("p",{className:"text-white font-medium",children:a.layout?`${a.layout.rows} rows \xd7 ${a.layout.seatsPerRow} seats/row`:"Not configured"})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)(_.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Features"})]}),a.features&&a.features.length>0?(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:a.features.map((a,b)=>(0,d.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-3 py-1 rounded text-xs font-medium",children:a},b))}):(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"No special features"})]})]}),(0,d.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30 flex justify-end",children:(0,d.jsx)("button",{className:"bg-yellow-500 hover:bg-yellow-400 text-black px-6 py-2 rounded-lg font-medium transition-all duration-200",onClick:b,children:"Close"})})]})});var dd=c(83461),de=c.n(dd);let df={BY_SCREEN_ID:a=>`/admin/showtimes/${a}`,BY_ID:a=>`/admin/showtimes/${a}`},dg=async(a,b)=>(await a2.A.get(df.BY_SCREEN_ID(a),{params:b})).data,dh=async(a,b)=>(await a2.A.patch(df.BY_ID(a),{isActive:b})).data,di=({fetchShowtimes:a,showtime:b})=>{let c=async(b,c)=>{let d=c?"disable":"enable",e=d.toUpperCase();if(await (0,ba.f)({title:`${e} Owner?`,message:`Are you sure you want to ${d} this show?`,confirmText:e,cancelText:"Cancel"}))try{let e=await dh(b,c);console.log(e),a9.Ay.success(`Screen succusfully ${d}d`),a(0,{})}catch(a){console.log(a)}};return(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center bg-[#2a2a2a] rounded py-3 px-4 gap-2",children:[(0,d.jsxs)("div",{className:"text-white",children:[(0,d.jsxs)("div",{className:"font-bold",children:[new Date(b.showDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})," ",b.showTime,"-",b.endTime]}),(0,d.jsxs)("div",{className:"text-sm",children:["Movie: ",(0,d.jsx)("span",{className:"font-semibold text-[#e78f03]",children:"object"==typeof b.movieId&&null!==b.movieId?b.movieId.title||"Unknown Movie":b.movieId||"Unknown Movie"})]})]}),(0,d.jsxs)("div",{className:"flex gap-7",children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("button",{onClick:()=>c(b._id,b.isActive),className:`py-1 rounded-sm px-2 ${b.isActive?"bg-red-500 text-white":"bg-green-400 text-black"}`,children:b.isActive?"Disable":"Enable"})}),(0,d.jsxs)("div",{className:"text-sm text-gray-400 flex flex-col sm:text-right",children:[(0,d.jsxs)("div",{children:["Format: ",b.format," | Language: ",b.language]}),(0,d.jsxs)("div",{children:["Available: ",(0,d.jsx)("span",{className:"text-green-400",children:b.availableSeats}),"/",(0,d.jsx)("span",{className:"text-gray-300",children:b.totalSeats})," seats"]}),(0,d.jsxs)("div",{className:"text-xs",children:["Status: ",(0,d.jsx)("span",{className:b.isActive?"text-green-400":"text-red-400",children:b.isActive?"Active":"Inactive"})]})]})]})]})},dj=({screen:a,onClose:b})=>{let[c,f]=(0,e.useState)([]),[g,h]=(0,e.useState)(!0),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)({currentPage:1,totalPages:1,totalItems:0,pageSize:10}),[m,n]=(0,e.useState)({search:"",sortBy:"showDate",sortOrder:"asc"}),p=async(b=1,c={})=>{try{h(!0),j(null);let d={page:b,limit:k.pageSize,...c},e=await dg(a._id,d);e.success&&e.data?(f(e.data.showtimes||[]),l({currentPage:e.data.currentPage||b,totalPages:e.data.totalPages||1,totalItems:e.data.total||e.data.totalItems||0,pageSize:e.data.pageSize||10})):(f([]),l(a=>({...a,totalItems:0,totalPages:1})))}catch(a){console.log(a),j("Failed to load showtimes."),f([]),l(a=>({...a,totalItems:0,totalPages:1}))}finally{h(!1)}};(0,e.useEffect)(()=>{p(1,m)},[a._id]);let q=(a,b)=>{let c={...m,[a]:b};n(c),l(a=>({...a,currentPage:1})),p(1,c)},r=c.reduce((a,b)=>{let c=new Date(b.showDate).toDateString();return a[c]||(a[c]=[]),a[c].push(b),a},{});return(0,d.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-gray-900/95 border border-yellow-500/30 rounded-lg w-full max-w-7xl h-[90vh] flex flex-col shadow-2xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20 bg-gray-800/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(c_.A,{className:"text-yellow-400",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{className:`${de().className} text-2xl text-yellow-400 font-medium`,children:["Showtimes - ",a.name]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-300 mt-1",children:[(0,d.jsxs)("span",{children:["Theater: ","object"==typeof a.theaterId&&a.theaterId?.name||"Unknown Theater"]}),(0,d.jsx)("span",{children:"•"}),(0,d.jsxs)("span",{children:["Total Seats: ",a.totalSeats]})]})]})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white",children:(0,d.jsx)(aC.A,{size:24})})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border-b border-yellow-500/20 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${de().className} text-lg text-yellow-400 font-medium`,children:"Filters & Search"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-4",children:[(0,d.jsxs)("div",{className:"lg:col-span-2 relative",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsx)("input",{type:"text",placeholder:"Search by movie, time, format...",value:m.search||"",onChange:a=>q("search",a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsx)("input",{type:"date",value:m.showDate||"",onChange:a=>q("showDate",a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,d.jsxs)("select",{value:void 0===m.isActive?"all":m.isActive.toString(),onChange:a=>{q("isActive","all"===a.target.value?void 0:"true"===a.target.value)},className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",children:[(0,d.jsx)("option",{value:"all",children:"All Status"}),(0,d.jsx)("option",{value:"true",children:"Active"}),(0,d.jsx)("option",{value:"false",children:"Inactive"})]}),(0,d.jsxs)("select",{value:m.format||"all",onChange:a=>{q("format","all"===a.target.value?void 0:a.target.value)},className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",children:[(0,d.jsx)("option",{value:"all",children:"All Formats"}),(0,d.jsx)("option",{value:"2D",children:"2D"}),(0,d.jsx)("option",{value:"3D",children:"3D"}),(0,d.jsx)("option",{value:"IMAX",children:"IMAX"}),(0,d.jsx)("option",{value:"4DX",children:"4DX"}),(0,d.jsx)("option",{value:"Dolby Atmos",children:"Dolby Atmos"})]}),(0,d.jsxs)("select",{value:`${m.sortBy}-${m.sortOrder}`,onChange:a=>{let[b,c]=a.target.value.split("-");q("sortBy",b),q("sortOrder",c)},className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white px-3 py-2 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",children:[(0,d.jsx)("option",{value:"showDate-asc",children:"Date (Earliest)"}),(0,d.jsx)("option",{value:"showDate-desc",children:"Date (Latest)"}),(0,d.jsx)("option",{value:"showTime-asc",children:"Time (Earliest)"}),(0,d.jsx)("option",{value:"showTime-desc",children:"Time (Latest)"}),(0,d.jsx)("option",{value:"availableSeats-desc",children:"Most Available"}),(0,d.jsx)("option",{value:"availableSeats-asc",children:"Least Available"})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg w-fit",children:[(0,d.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:k.totalItems}),(0,d.jsx)("span",{className:"text-gray-300 text-sm",children:"showtimes found"})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:g?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading showtimes..."})]}):i?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-6 max-w-md mx-auto",children:(0,d.jsx)("p",{className:"text-red-400 font-medium",children:i})})}):0===k.totalItems?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-8 max-w-md mx-auto",children:[(0,d.jsx)(C.A,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,d.jsx)("h3",{className:"text-white text-lg font-medium mb-2",children:"No Showtimes Found"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"No showtimes scheduled for this screen match your current filters."})]})}):(0,d.jsx)("div",{className:"space-y-6",children:Object.entries(r).map(([a,b])=>(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-yellow-500/20",children:[(0,d.jsx)(o.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${de().className} text-lg text-yellow-400 font-medium`,children:a}),(0,d.jsxs)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-2 py-1 rounded text-xs font-medium",children:[b.length," shows"]})]}),(0,d.jsx)("div",{className:"space-y-3",children:b.map(a=>(0,d.jsx)(di,{fetchShowtimes:p,showtime:a},a._id))})]},a))})}),k.totalPages>1&&(0,d.jsx)("div",{className:"p-6 border-t border-yellow-500/20 bg-gray-800/30",children:(0,d.jsx)(c4,{currentPage:k.currentPage,totalPages:k.totalPages,totalItems:k.totalItems,onPageChange:a=>{l(b=>({...b,currentPage:a})),p(a,m)}})})]})})},dk=()=>{let[a,b]=(0,e.useState)([]),[c,f]=(0,e.useState)(null),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)(1),[q,r]=(0,e.useState)(1),[s,t]=(0,e.useState)(0),[u,v]=(0,e.useState)({search:"",sortBy:"name",sortOrder:"asc"}),w=async(a,c)=>{try{l(!0),n(null);let d=await c6(a,c),e=d.data.totalItems??d.data.total??0;b(d.data.screens||[]),p(d.data.currentPage||a),r(d.data.totalPages||1),t(e)}catch(a){n(a instanceof Error?a.message:"Failed to load screens"),b([]),t(0),p(1),r(1)}finally{l(!1)}},x=(0,bZ.d)((0,e.useCallback)((a,b,c)=>{w(c,{...b,search:a})},[]),500);return(0,e.useEffect)(()=>{let{search:a,...b}=u;x(a||"",b,1),1!==o&&p(1)},[u.search,x]),(0,e.useEffect)(()=>{w(o,u)},[u.isActive,u.theaterId,u.sortBy,u.sortOrder,o]),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Screen & Showtime Management"})}),m&&(0,d.jsx)("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-4 text-red-400 mb-4",children:m}),(0,d.jsx)(c8,{fetchScreens:w,screens:a,totalItems:s,currentPage:o,totalPages:q,isLoading:k,onViewDetails:a=>{f(a),h(!0)},onViewShowtimes:a=>{f(a),j(!0)},onPageChange:a=>{p(a)},onFiltersChange:a=>{v(b=>({...b,...a}))}}),g&&c&&(0,d.jsx)(dc,{screen:c,onClose:()=>{h(!1),f(null)}}),i&&c&&(0,d.jsx)(dj,{screen:c,onClose:()=>{j(!1),f(null)}})]})};var dl=c(21069),dm=c.n(dl),dn=c(8598),dp=c.n(dn),dq=c(32192),dr=c(23928),ds=c(25541),dt=c(28559),du=c(26202),dv=c.n(du),dw=c(203),dx=c.n(dw);let dy=({onOwnerSelect:a})=>{let[b,c]=(0,e.useState)([]),[f,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)(""),[k,l]=(0,e.useState)(1),[m,n]=(0,e.useState)(1),[o,p]=(0,e.useState)(0),q=(0,bZ.d)((a,b=!0)=>{r(a,b)},500),r=async(a,b=!0)=>{if(void 0!==a.search&&a.search!==h){i(a.search||""),q(a,b);return}b?(l(1),a={...a,page:1,limit:12}):a={...a,limit:12};try{g(!0);let b={...a,status:"active"},d=await bp(b);c((d.data?.owners||d.owners||[]).map(a=>({...a,name:a.ownerName}))),d.data?.meta?.pagination?(n(d.data.meta.pagination.totalPages),p(d.data.meta.pagination.total),l(d.data.meta.pagination.currentPage)):d.meta?.pagination&&(n(d.meta.pagination.totalPages),p(d.meta.pagination.total),l(d.meta.pagination.currentPage))}catch(a){console.error("Filter error:",a),a instanceof bb.pe&&(a9.Ay.error(a.response?.data?.message||"Failed to load owners"),c([]),n(1),p(0))}finally{g(!1)}};return(0,e.useEffect)(()=>{r({})},[]),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${dv().className} text-lg text-yellow-400 font-medium`,children:"Search & Filter"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full max-w-md",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search owners by name or email...",value:h,onChange:a=>{i(a.target.value),q({search:a.target.value})},className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,d.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:o}),(0,d.jsx)("span",{className:"text-gray-300 text-sm",children:"owners found"})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(j.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${dv().className} text-lg text-yellow-400 font-medium`,children:"Theater Owners"})]}),f?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading owners..."})]}):0===b.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"bg-gray-700/30 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(j.A,{size:32,className:"text-gray-400"})}),(0,d.jsx)("h3",{className:`${dv().className} text-xl text-white mb-2`,children:"No owners found"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:h?`No owners found matching "${h}"`:"No theater owners found in the system"}),h&&(0,d.jsx)("button",{onClick:()=>{i(""),r({})},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]}):(0,d.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:b.map(b=>(0,d.jsxs)("div",{onClick:()=>a(b),className:"bg-gray-700/30 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-600/30 hover:border-yellow-500/40 hover:scale-105 transition-all duration-200 cursor-pointer group",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg group-hover:bg-yellow-500/30 transition-all duration-200",children:(0,d.jsx)(j.A,{className:"w-6 h-6 text-yellow-400"})}),(0,d.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${b.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[b.isActive?(0,d.jsx)(bD.A,{size:12}):(0,d.jsx)(bE.A,{size:12}),b.isActive?"Active":"Inactive"]})]}),(0,d.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,d.jsx)("h3",{className:`${dv().className} text-lg font-medium text-white group-hover:text-yellow-400 transition-colors line-clamp-1`,children:b.name}),(0,d.jsx)("p",{className:`${dx().className} text-gray-400 text-sm line-clamp-1`,children:b.email})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-600/50",children:[b.totalTheaters?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(bG.A,{size:14,className:"text-gray-400"}),(0,d.jsxs)("span",{className:`${dx().className} text-xs text-gray-300`,children:[b.totalTheaters," theater",b.totalTheaters>1?"s":""]})]}):(0,d.jsx)("span",{className:`${dx().className} text-xs text-gray-500`,children:"No theaters"}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,d.jsx)(bk.A,{size:14}),(0,d.jsx)("span",{className:"text-xs font-medium",children:"View"})]})]})]},b._id))})]})]})};var dz=c(83720),dA=c.n(dz),dB=c(96621),dC=c.n(dB);let dD=({selectedOwner:a,onTheaterSelect:b})=>{let[c,f]=(0,e.useState)([]),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)("createdAt"),[m,n]=(0,e.useState)("desc"),[o,p]=(0,e.useState)(1),[q,r]=(0,e.useState)(1),[s,t]=(0,e.useState)(0),u=(0,bZ.d)(a=>{v(a)},500),v=async(b={})=>{try{h(!0);let d={ownerId:a.id,status:"active",page:o,limit:10,sortBy:k,sortOrder:m,...b};if(a.id){let b=await bP(a.id,d);console.log(b.data?.theaters||b.theaters),f(b.data?.theaters||b.theaters||[]),b.data?.meta?.pagination?(r(b.data.meta.pagination.totalPages),t(b.data.meta.pagination.total),p(b.data.meta.pagination.currentPage)):b.meta?.pagination?(r(b.meta.pagination.totalPages),t(b.meta.pagination.total),p(b.meta.pagination.currentPage)):(r(1),t(c.length))}}catch(a){console.error("Error fetching theaters:",a),a9.Ay.error(a.response?.data?.message||"Failed to load theaters"),f([]),r(1),t(0)}finally{h(!1)}};return(0,e.useEffect)(()=>{v()},[a._id]),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${dA().className} text-lg text-yellow-400 font-medium`,children:"Search & Filters"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 transition-all duration-200",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Search theaters by name, location...",value:i,onChange:b=>{j(b.target.value),p(1),u({ownerId:a._id,search:b.target.value,sortBy:k,sortOrder:m,page:1})},className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200"})]})}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsxs)("select",{value:k,onChange:b=>(b=>{l(b),v({ownerId:a._id,search:i,sortBy:b,sortOrder:m})})(b.target.value),className:"appearance-none bg-gray-800/50 border border-yellow-500/30 rounded-lg text-white pl-10 pr-8 py-3 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200 min-w-[180px] cursor-pointer hover:bg-gray-700/50",children:[(0,d.jsx)("option",{value:"createdAt",children:"Sort by Date"}),(0,d.jsx)("option",{value:"theaterName",children:"Sort by Name"}),(0,d.jsx)("option",{value:"verifiedAt",children:"Sort by Verified Date"}),(0,d.jsx)("option",{value:"totalScreens",children:"Sort by Screens"}),(0,d.jsx)("option",{value:"totalSeats",children:"Sort by Seats"})]}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(0,d.jsxs)("button",{onClick:()=>v({ownerId:a._id,search:i,sortBy:k,sortOrder:m}),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 border border-yellow-500/30 hover:border-yellow-500/50 text-white px-4 py-3 rounded-lg transition-all duration-200",disabled:g,children:[(0,d.jsx)(b3,{size:16,className:g?"animate-spin":""}),g?"Loading...":"Refresh"]})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg w-fit",children:[(0,d.jsx)("span",{className:"text-yellow-400 font-medium text-sm",children:s}),(0,d.jsx)("span",{className:"text-gray-300 text-sm",children:"theaters found"})]})]}),(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(bG.A,{className:"text-yellow-400",size:20}),(0,d.jsxs)("h3",{className:`${dA().className} text-lg text-yellow-400 font-medium`,children:[a.name,"'s Theaters"]})]}),g?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading theaters..."})]}):0===c.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"bg-gray-700/30 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(bG.A,{size:32,className:"text-gray-400"})}),(0,d.jsx)("h3",{className:`${dA().className} text-xl text-white mb-2`,children:"No theaters found"}),(0,d.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:i?`No theaters found matching "${i}"`:"No theaters found for this owner"}),i&&(0,d.jsx)("button",{onClick:()=>{j(""),p(1),v({ownerId:a._id,sortBy:k,sortOrder:m,page:1})},className:"bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Clear Search"})]}):(0,d.jsx)("div",{className:"space-y-4",children:c.map(a=>(0,d.jsx)("div",{className:"bg-gray-700/30 border border-yellow-500/20 rounded-lg p-6 hover:bg-gray-600/30 hover:border-yellow-500/30 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("h3",{className:`${dA().className} text-xl font-medium text-white`,children:a.name}),(0,d.jsx)("div",{className:"bg-yellow-500/20 p-1 rounded",children:(0,d.jsx)(bG.A,{className:"text-yellow-400",size:16})}),a.isVerified&&(0,d.jsxs)("span",{className:"bg-green-500/20 text-green-400 border border-green-500/30 px-3 py-1 text-xs rounded-full flex items-center gap-1 font-medium",children:[(0,d.jsx)(bF.A,{size:12}),"Verified"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-600/20 rounded-lg",children:[(0,d.jsx)(b4.A,{size:16,className:"text-gray-400"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Location"}),(0,d.jsxs)("p",{className:`${dC().className} text-sm text-white`,children:[a.city,", ",a.state]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-600/20 rounded-lg",children:[(0,d.jsx)(bC.A,{size:16,className:"text-gray-400"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Contact"}),(0,d.jsx)("p",{className:`${dC().className} text-sm text-white`,children:a.phone})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-600/20 rounded-lg",children:[(0,d.jsx)(bG.A,{size:16,className:"text-gray-400"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"Screens"}),(0,d.jsxs)("p",{className:`${dC().className} text-sm text-white`,children:[a.screens," Screens"]})]})]})]}),a.facilities&&a.facilities.length>0&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(_.A,{className:"text-yellow-400",size:16}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",children:"Facilities"})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.facilities.slice(0,4).map((a,b)=>(0,d.jsx)("span",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-3 py-1 text-xs rounded-full font-medium",children:a},b)),a.facilities.length>4&&(0,d.jsxs)("span",{className:"bg-gray-600/30 text-gray-300 px-3 py-1 text-xs rounded-full font-medium",children:["+",a.facilities.length-4," more"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg ${a.isActive?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[a.isActive?(0,d.jsx)(bD.A,{size:14}):(0,d.jsx)(bE.A,{size:14}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.isActive?"Active":"Inactive"})]}),(0,d.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg ${a.isVerified?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[(0,d.jsx)(bF.A,{size:14}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.isVerified?"Verified":"Pending Verification"})]})]})]}),(0,d.jsx)("div",{className:"ml-6",children:(0,d.jsxs)("button",{onClick:()=>{console.log(a),b(a)},className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-3 rounded-lg transition-all duration-200 font-medium",children:[(0,d.jsx)(bk.A,{size:16}),(0,d.jsx)("span",{className:`${dC().className} text-sm`,children:"View Analytics"})]})})]})},a._id))})]})]})};var dE=c(85913),dF=c.n(dE),dG=c(86106),dH=c.n(dG),dI=c(96729),dJ=c.n(dI);let dK=({analyticsData:a})=>{let b=[{title:"Total Revenue",value:a?`₹${a.totalRevenue.toLocaleString("en-IN")}`:"₹0",icon:dr.A,color:"blue",description:"Total earnings from bookings"},{title:"Total Bookings",value:a?a.totalBookings.toLocaleString("en-IN"):"0",icon:j.A,color:"green",description:"Number of confirmed bookings"},{title:"Avg Ticket Price",value:a?`₹${a.avgTicketPrice.toFixed(2)}`:"₹0",icon:p.A,color:"purple",description:"Average price per ticket"},{title:"Market Share",value:a?`${a.marketShare}%`:"0%",icon:ds.A,color:"orange",description:"Regional market share"}];return(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:b.map((a,b)=>{let c=a.icon,e=(a=>{let b={blue:{bg:"bg-blue-500/20",text:"text-blue-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},orange:{bg:"bg-orange-500/20",text:"text-orange-400"}};return b[a]||b.blue})(a.color);return(0,d.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-600 rounded-lg shadow-lg p-6 hover:border-gray-500 transition-all duration-300",children:[(0,d.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,d.jsx)("div",{className:`p-3 ${e.bg} rounded-xl`,children:(0,d.jsx)(c,{className:`w-6 h-6 ${e.text}`})})}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("h3",{className:`${dJ().className} text-gray-400 text-sm`,children:a.title}),(0,d.jsx)("p",{className:`${dJ().className} text-2xl text-white font-semibold`,children:a.value}),(0,d.jsx)("p",{className:`${dJ().className} text-gray-500 text-xs`,children:a.description})]})]},b)})})};var dL=c(7823);let dM={GET_BOOKINGS:a=>`/admin/theater/bookings/${a}`},dN=async(a,b,c,d,e)=>{let f=new URLSearchParams({startDate:b,endDate:c,page:d.toString(),limit:e.toString()}).toString();return(await a2.A.get(`${dM.GET_BOOKINGS(a)}?${f}`)).data};var dO=c(16432),dP=c.n(dO),dQ=c(74901),dR=c.n(dQ);let dS=({bookings:a,totalBookings:b,currentPage:c,totalPages:e,onPageChange:f,isLoading:g})=>{let h=a=>{switch(a){case"completed":case"confirmed":return(0,d.jsx)(bD.A,{className:"w-4 h-4 text-green-400"});case"failed":case"cancelled":return(0,d.jsx)(bE.A,{className:"w-4 h-4 text-red-400"});case"pending":return(0,d.jsx)(bU.A,{className:"w-4 h-4 text-yellow-400"});default:return(0,d.jsx)(bU.A,{className:"w-4 h-4 text-gray-400"})}},i=a=>{switch(a){case"completed":case"confirmed":return"text-green-400 bg-green-400/10";case"failed":case"cancelled":return"text-red-400 bg-red-400/10";case"pending":return"text-yellow-400 bg-yellow-400/10";default:return"text-gray-400 bg-gray-400/10"}},l=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return g?(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-8",children:(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-yellow-500 border-t-transparent"}),(0,d.jsx)("span",{className:"ml-3 text-gray-300",children:"Loading bookings..."})]})}):0===a.length?(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(p.A,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,d.jsx)("h3",{className:`${dP().className} text-lg text-gray-400 mb-2`,children:"No Bookings Found"}),(0,d.jsx)("p",{className:`${dR().className} text-gray-500`,children:"No bookings available for the selected date range."})]})}):(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg",children:[(0,d.jsx)("div",{className:"p-6 border-b border-yellow-500/20",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(j.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${dP().className} text-lg text-yellow-400 font-medium`,children:"Recent Bookings"})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-400",children:["Total: ",b," bookings"]})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("div",{className:"space-y-4",children:a.map(a=>{let b;return(0,d.jsx)("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-lg p-5 hover:border-yellow-500/30 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:(0,d.jsx)(k.A,{className:"w-5 h-5 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:`${dP().className} text-white font-medium`,children:[a.userId.firstName," ",a.userId.lastName]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400 mt-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(bB.A,{className:"w-3 h-3"}),a.userId.email]}),a.userId.phone&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(bC.A,{className:"w-3 h-3"}),a.userId.phone]})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-300",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(p.A,{className:"w-4 h-4 text-yellow-400"}),(0,d.jsx)("span",{className:"font-medium",children:a.movieId.title}),(0,d.jsx)("span",{className:"text-gray-500",children:"•"}),(0,d.jsx)("span",{children:a.movieId.language})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(b4.A,{className:"w-4 h-4 text-yellow-400"}),(0,d.jsx)("span",{children:a.screenId.name})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 text-yellow-400"}),(0,d.jsx)("span",{children:l(a.showDate)})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(C.A,{className:"w-4 h-4 text-yellow-400"}),(0,d.jsx)("span",{children:(b=a.showTime,new Date(`2000-01-01T${b}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,d.jsxs)("span",{className:"text-gray-400",children:["Seats: ",a.selectedSeats.join(", ")]}),(0,d.jsx)("span",{className:"text-gray-500",children:"•"}),(0,d.jsxs)("span",{className:"text-gray-400",children:["Booking ID: ",a.bookingId]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:items-end gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${i(a.paymentStatus)}`,children:[h(a.paymentStatus),a.paymentStatus.charAt(0).toUpperCase()+a.paymentStatus.slice(1)]}),(0,d.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${i(a.bookingStatus)}`,children:[h(a.bookingStatus),a.bookingStatus.charAt(0).toUpperCase()+a.bookingStatus.slice(1)]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[(0,d.jsx)(bH.A,{className:"w-4 h-4 text-yellow-400"}),"₹",a.priceDetails.total.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-sm text-gray-400",children:[a.paymentMethod," • ",l(a.bookedAt)]})]})]})]})},a._id)})}),e>1&&(0,d.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-700/50",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",c," of ",e]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("button",{onClick:()=>f(c-1),disabled:1===c,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${1===c?"bg-gray-700/30 text-gray-500 cursor-not-allowed":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:[(0,d.jsx)(al,{className:"w-4 h-4"}),"Previous"]}),(0,d.jsxs)("button",{onClick:()=>f(c+1),disabled:c===e,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${c===e?"bg-gray-700/30 text-gray-500 cursor-not-allowed":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:["Next",(0,d.jsx)(am.A,{className:"w-4 h-4"})]})]})]})]})]})},dT=({selectedTheater:a,selectedOwner:b})=>{let[c,f]=(0,e.useState)(null),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)("month"),[k,l]=(0,e.useState)(!1),[n,p]=(0,e.useState)({startDate:"",endDate:""}),[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(1),w=async(b=1)=>{try{t(!0);let{startDate:c,endDate:d}=x(),e=await dN(a._id,c,d,b,10);r(e.data)}catch(a){console.error("Error fetching theater bookings:",a),a9.Ay.error("Failed to fetch bookings"),r(null)}finally{t(!1)}},x=()=>{let a=new Date().toISOString().split("T")[0],b=new Date;if("custom"===i)return{startDate:n.startDate,endDate:n.endDate};switch(i){case"week":b.setDate(b.getDate()-7);break;case"month":default:b.setMonth(b.getMonth()-1);break;case"quarter":b.setMonth(b.getMonth()-3);break;case"year":b.setFullYear(b.getFullYear()-1)}return{startDate:b.toISOString().split("T")[0],endDate:a}},y=async()=>{try{h(!0),await w(1);let{startDate:c,endDate:d}=x();if("custom"===i){if(!c||!d){a9.Ay.error("Please select both start and end dates"),h(!1);return}if(new Date(c)>new Date(d)){a9.Ay.error("Start date cannot be later than end date"),h(!1);return}}let e=await (0,dL.i6)({ownerId:b.id,theaterId:a.id,startDate:c,endDate:d});console.log("the response for the getTheaterWiseRevenueApi",e.data);let g=e.data?.find(b=>b.theaterId===a._id);g?f({totalRevenue:g.totalRevenue,totalBookings:g.totalBookings,avgTicketPrice:g.avgTicketPrice,marketShare:g.marketShare}):(f({totalRevenue:0,totalBookings:0,avgTicketPrice:0,marketShare:0}),e.data?.length===0&&a9.Ay.error("No data available for the selected date range"))}catch(a){console.error("Error fetching analytics:",a),a9.Ay.error("No data available for these time ranges"),f({totalRevenue:0,totalBookings:0,avgTicketPrice:0,marketShare:0})}finally{h(!1)}},z=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return((0,e.useEffect)(()=>{"custom"!==i&&y()},[a._id,b._id,i]),g)?(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-2xl p-12",children:(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-yellow-500 border-t-transparent"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading theater analytics..."})]})}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-lg p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:(0,d.jsx)(bG.A,{className:"w-8 h-8 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${dF().className} text-2xl text-yellow-400 font-medium`,children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-300 mt-1",children:[(0,d.jsx)(b4.A,{size:14}),(0,d.jsxs)("span",{className:`${dH().className} text-sm`,children:[a.city,", ",a.state]}),(0,d.jsx)("span",{className:"text-gray-500",children:"•"}),(0,d.jsxs)("span",{className:`${dH().className} text-sm`,children:["Owner: ",b.name]})]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[["week","month","quarter","year"].map(a=>(0,d.jsx)("button",{onClick:()=>(a=>{j(a),"custom"!==a&&l(!1)})(a),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${i===a?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a)),(0,d.jsxs)("button",{onClick:()=>l(!k),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${"custom"===i?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-800/50 text-gray-300 border border-yellow-500/30 hover:bg-gray-700/50 hover:border-yellow-500/50"}`,children:[(0,d.jsx)(o.A,{className:"w-4 h-4"}),"custom"===i?"custom"===i&&n.startDate&&n.endDate?`${z(n.startDate)} - ${z(n.endDate)}`:i.charAt(0).toUpperCase()+i.slice(1):"Custom"]})]})]}),k&&(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(U.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${dF().className} text-lg text-yellow-400 font-medium`,children:"Custom Date Range"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:`${dH().className} block text-sm font-medium text-gray-300 mb-2`,children:"From Date"}),(0,d.jsx)("input",{type:"date",value:n.startDate,onChange:a=>p(b=>({...b,startDate:a.target.value})),className:"w-full px-3 py-2 bg-gray-700/50 border border-yellow-500/30 rounded-lg text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",max:new Date().toISOString().split("T")[0]})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:`${dH().className} block text-sm font-medium text-gray-300 mb-2`,children:"To Date"}),(0,d.jsx)("input",{type:"date",value:n.endDate,onChange:a=>p(b=>({...b,endDate:a.target.value})),className:"w-full px-3 py-2 bg-gray-700/50 border border-yellow-500/30 rounded-lg text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20 transition-all duration-200",min:n.startDate,max:new Date().toISOString().split("T")[0]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>n.startDate&&n.endDate?new Date(n.startDate)>new Date(n.endDate)?void a9.Ay.error("Start date cannot be later than end date"):void(j("custom"),l(!1),y()):void a9.Ay.error("Please select both start and end dates"),className:"px-6 py-2 bg-yellow-500 hover:bg-yellow-400 text-black rounded-lg font-medium transition-all duration-200",children:"Apply"}),(0,d.jsx)("button",{onClick:()=>l(!1),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-all duration-200",children:"Cancel"})]})]}),(0,d.jsx)("div",{className:"mt-4 p-3 bg-gray-700/30 rounded-lg",children:(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,d.jsx)("span",{className:`${dH().className} text-sm text-gray-400 mr-2`,children:"Quick select:"}),[{label:"Last 7 days",days:7},{label:"Last 30 days",days:30},{label:"Last 90 days",days:90}].map(a=>(0,d.jsx)("button",{onClick:()=>{let b=new Date,c=new Date;c.setDate(b.getDate()-a.days),p({startDate:c.toISOString().split("T")[0],endDate:b.toISOString().split("T")[0]})},className:"px-3 py-1 text-xs bg-gray-600/50 text-gray-300 rounded border border-yellow-500/20 hover:border-yellow-500/40 hover:bg-gray-600/70 transition-all duration-200",children:a.label},a.days))]})})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(m.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h3",{className:`${dF().className} text-lg text-yellow-400 font-medium`,children:"Revenue Analytics"})]}),(0,d.jsx)(dK,{analyticsData:c}),(0,d.jsx)(dS,{bookings:q?.bookings||[],totalBookings:q?.pagination.totalBookings||0,currentPage:q?.pagination.currentPage||1,totalPages:q?.pagination.totalPages||1,onPageChange:a=>{v(a),w(a)},isLoading:s})]})]})},dU=({items:a})=>(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-1.5 rounded",children:(0,d.jsx)(dq.A,{className:"w-3 h-3 text-yellow-400"})}),a.map((a,b)=>(0,d.jsxs)(f().Fragment,{children:[b>0&&(0,d.jsx)(am.A,{className:"w-4 h-4 text-gray-500"}),a.onClick?(0,d.jsx)("button",{onClick:a.onClick,className:`${dp().className} transition-all duration-200 px-3 py-1.5 rounded-lg hover:bg-gray-800/50 ${a.active?"text-yellow-400 font-medium bg-yellow-500/10 border border-yellow-500/20":"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10"}`,children:a.label}):(0,d.jsx)("span",{className:`${dp().className} text-white font-medium px-3 py-1.5 bg-gray-800/50 rounded-lg border border-gray-600/50`,children:a.label})]},b))]})}),dV=()=>{let[a,b]=(0,e.useState)(null),[c,f]=(0,e.useState)(null),g=()=>{b(null),f(null)},h=()=>{f(null)},i=a?c?ds.A:bG.A:dr.A,k=[{label:"Bookings Management",onClick:a?g:void 0,active:!a},...a?[{label:a.name,onClick:c?h:void 0,active:!c}]:[],...c?[{label:c.name,active:!0}]:[]];return(0,d.jsx)("div",{className:"min-h-screen bg-black/95 backdrop-blur-sm p-6",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[a&&(0,d.jsx)("button",{onClick:c?h:g,className:"p-3 bg-gray-800/50 border border-yellow-500/30 rounded-lg hover:bg-gray-700/50 hover:border-yellow-500/50 transition-all duration-200 text-gray-400 hover:text-white",children:(0,d.jsx)(dt.A,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:(0,d.jsx)(i,{className:"w-8 h-8 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:`${dm().className} text-3xl text-yellow-400 font-medium flex items-center gap-3`,children:a?c?`${c.name}`:`${a.name}`:"Bookings Management"}),(0,d.jsx)("p",{className:`${dp().className} text-gray-300 mt-1`,children:a?c?"Theater booking analytics and revenue breakdown":"Select a theater to view detailed booking analytics":"View and manage theater bookings and revenue analytics"})]})]})]}),c&&(0,d.jsxs)("button",{onClick:h,className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-3 rounded-lg transition-all duration-200 font-medium",children:[(0,d.jsx)(dt.A,{className:"w-4 h-4"}),"Back to Theaters"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-yellow-500/20",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 text-blue-400"}),(0,d.jsx)("span",{className:"text-blue-400 text-sm font-medium",children:a?a.name:"All Owners"})]}),a&&(0,d.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,d.jsx)(bG.A,{className:"w-4 h-4 text-green-400"}),(0,d.jsx)("span",{className:"text-green-400 text-sm font-medium",children:c?c.name:"Theater Selection"})]}),c&&(0,d.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:[(0,d.jsx)(ds.A,{className:"w-4 h-4 text-purple-400"}),(0,d.jsx)("span",{className:"text-purple-400 text-sm font-medium",children:"Analytics View"})]})]})]}),(0,d.jsx)(dU,{items:k}),(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 transition-all duration-200",children:a?c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(ds.A,{className:"text-yellow-400",size:20}),(0,d.jsxs)("h2",{className:`${dm().className} text-lg text-yellow-400 font-medium`,children:["Analytics - ",c.name]})]}),(0,d.jsx)(dT,{selectedTheater:c,selectedOwner:a})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(bG.A,{className:"text-yellow-400",size:20}),(0,d.jsxs)("h2",{className:`${dm().className} text-lg text-yellow-400 font-medium`,children:["Theaters - ",a.name]})]}),(0,d.jsx)(dD,{selectedOwner:a,onTheaterSelect:a=>{f(a)}})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)(j.A,{className:"text-yellow-400",size:20}),(0,d.jsx)("h2",{className:`${dm().className} text-lg text-yellow-400 font-medium`,children:"Theater Owners"})]}),(0,d.jsx)(dy,{onOwnerSelect:a=>{b(a),f(null)}})]})})]})})};var dW=c(78122);class dX extends e.Component{constructor(a){super(a),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){console.error("Analytics Error Boundary caught an error:",a,b)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,d.jsx)("div",{className:"bg-gray-900/90 border border-red-500/20 rounded-lg p-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-500/20 border border-red-500/30 mb-4",children:(0,d.jsx)(cl.A,{className:"h-6 w-6 text-red-400"})}),(0,d.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium mb-2",children:"Something went wrong"}),(0,d.jsx)("p",{className:"text-gray-300 mb-4",children:"There was an error loading the analytics data. Please try again."}),this.state.error&&(0,d.jsxs)("details",{className:"text-left mb-4",children:[(0,d.jsx)("summary",{className:"cursor-pointer text-sm text-gray-400 mb-2",children:"Error details"}),(0,d.jsx)("pre",{className:"text-xs bg-gray-800/50 border border-yellow-500/30 p-2 rounded overflow-auto text-gray-300",children:this.state.error.message})]}),(0,d.jsxs)("button",{onClick:this.handleRetry,className:"inline-flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200",children:[(0,d.jsx)(dW.A,{className:"w-4 h-4"}),"Try Again"]})]})}):this.props.children}}var dY=c(31158);let dZ=({title:a,subtitle:b,onFilterClick:c,onExportClick:e,onRefreshClick:f,isRefreshing:g=!1,activeFilters:h,className:i=""})=>{let k=()=>h?Object.values(h).filter(Boolean).length:0;return(0,d.jsx)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ${i}`,children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-800/50 border border-yellow-500/30 rounded-lg",children:(0,d.jsx)(m.A,{className:"w-6 h-6 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl text-yellow-400 font-medium",children:a}),b&&(0,d.jsx)("p",{className:"text-gray-300 mt-1",children:b}),h&&k()>0&&(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[h.dateRange&&(0,d.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm border border-yellow-500/30",children:[(0,d.jsx)(o.A,{className:"w-3 h-3"}),h.dateRange]}),h.owner&&(0,d.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm border border-green-500/30",children:[(0,d.jsx)(j.A,{className:"w-3 h-3"}),h.owner]}),h.theater&&(0,d.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm border border-purple-500/30",children:[(0,d.jsx)(bG.A,{className:"w-3 h-3"}),h.theater]})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("button",{onClick:c,className:"relative flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-all duration-200",children:[(0,d.jsx)(U.A,{className:"w-4 h-4"}),"Filters",k()>0&&(0,d.jsx)("span",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:k()})]}),(0,d.jsxs)("button",{onClick:f,disabled:g,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[(0,d.jsx)(dW.A,{className:`w-4 h-4 ${g?"animate-spin":""}`}),"Refresh"]}),(0,d.jsxs)("button",{onClick:e,className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200",children:[(0,d.jsx)(dY.A,{className:"w-4 h-4"}),"Export"]})]})]})})},d$=(0,W.A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),d_=({startDate:a,endDate:b,onStartDateChange:c,onEndDateChange:e,className:f=""})=>{let g=a=>{let b=new Date,d=new Date;d.setDate(d.getDate()-a),c(d.toISOString().split("T")[0]),e(b.toISOString().split("T")[0])};return(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ${f}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(d$,{className:"w-5 h-5 text-yellow-400"}),(0,d.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:"Date Range"})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"From"}),(0,d.jsx)("input",{type:"date",value:a,onChange:a=>c(a.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200"})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"To"}),(0,d.jsx)("input",{type:"date",value:b,onChange:a=>e(a.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200"})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[(0,d.jsx)("button",{onClick:()=>g(7),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200",children:"Last 7 days"}),(0,d.jsx)("button",{onClick:()=>g(30),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200",children:"Last 30 days"}),(0,d.jsx)("button",{onClick:()=>g(90),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200",children:"Last 90 days"})]})]})},d0=({isOpen:a,onClose:b,filters:c,onFiltersChange:e,ownerOptions:f=[],theaterOptions:g=[],movieOptions:h=[]})=>{if(!a)return null;let i=(a,b)=>{e({...c,[a]:""===b?void 0:b})};return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(U.A,{className:"w-5 h-5 text-yellow-400"}),(0,d.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:"Filters"})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-gray-700 rounded-full transition-all duration-200",children:(0,d.jsx)(aC.A,{className:"w-5 h-5 text-gray-300"})})]}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[f.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Owner"}),(0,d.jsxs)("select",{value:c.ownerId||"",onChange:a=>i("ownerId",a.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200",children:[(0,d.jsx)("option",{value:"",children:"All Owners"}),f.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),g.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Theater"}),(0,d.jsxs)("select",{value:c.theaterId||"",onChange:a=>i("theaterId",a.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200",children:[(0,d.jsx)("option",{value:"",children:"All Theaters"}),g.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),h.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Movie"}),(0,d.jsxs)("select",{value:c.movieId||"",onChange:a=>i("movieId",a.target.value),className:"bg-gray-800/50 border border-yellow-500/30 rounded-lg px-4 py-2 text-white focus:border-yellow-500 focus:outline-none w-full transition-all duration-200",children:[(0,d.jsx)("option",{value:"",children:"All Movies"}),h.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))]})]})]}),(0,d.jsxs)("div",{className:"flex gap-3 p-6 border-t border-yellow-500/20",children:[(0,d.jsx)("button",{onClick:()=>{e({})},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Clear All"}),(0,d.jsx)("button",{onClick:b,className:"flex-1 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2 rounded-lg font-medium transition-all duration-200",children:"Apply Filters"})]})]})})},d1=({tabs:a,activeTab:b,onTabChange:c,className:e=""})=>(0,d.jsx)("div",{className:`border-b border-yellow-500/20 ${e}`,children:(0,d.jsx)("nav",{className:"flex space-x-8",children:a.map(a=>(0,d.jsx)("button",{onClick:()=>!a.disabled&&c(a.id),disabled:a.disabled,className:`py-2 px-1 border-b-2 font-medium text-sm transition-all duration-200 ${b===a.id?"border-yellow-500 text-yellow-400":a.disabled?"border-transparent text-gray-600 cursor-not-allowed":"border-transparent text-gray-300 hover:text-white hover:border-yellow-500/50"}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[a.label,void 0!==a.count&&(0,d.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${b===a.id?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-300"}`,children:a.count})]})},a.id))})});var d2=c(96882);let d3=({type:a,title:b,message:c,visible:f,onClose:g,autoClose:h=!0,duration:i=5e3})=>{if((0,e.useEffect)(()=>{if(f&&h){let a=setTimeout(()=>{g()},i);return()=>clearTimeout(a)}},[f,h,i,g]),!f)return null;let j={success:(0,d.jsx)(bD.A,{className:"w-5 h-5 text-green-400"}),error:(0,d.jsx)(bE.A,{className:"w-5 h-5 text-red-400"}),warning:(0,d.jsx)(bU.A,{className:"w-5 h-5 text-yellow-400"}),info:(0,d.jsx)(d2.A,{className:"w-5 h-5 text-blue-400"})};return(0,d.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right duration-300",children:(0,d.jsx)("div",{className:`max-w-sm w-full border rounded-lg p-4 shadow-xl backdrop-blur-sm ${{success:"bg-gray-900/95 border-green-500/30",error:"bg-gray-900/95 border-red-500/30",warning:"bg-gray-900/95 border-yellow-500/30",info:"bg-gray-900/95 border-blue-500/30"}[a]}`,children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:j[a]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"font-semibold text-white text-sm",children:b}),(0,d.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:c})]}),(0,d.jsx)("button",{onClick:g,className:"flex-shrink-0 p-1 hover:bg-gray-700 rounded transition-all duration-200",children:(0,d.jsx)(aC.A,{className:"w-4 h-4 text-gray-300"})})]})})})},d4=({isOpen:a,onClose:b,title:c,children:e,size:f="lg",showCloseButton:g=!0})=>a?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[f]} max-h-[90vh] overflow-hidden`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20",children:[(0,d.jsx)("h2",{className:"text-2xl text-yellow-400 font-medium",children:c}),g&&(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-gray-700 rounded-full transition-all duration-200",children:(0,d.jsx)(aC.A,{className:"w-5 h-5 text-gray-300"})})]}),(0,d.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-theme(spacing.24))]",children:e})]})}):null,d5={COMPREHENSIVE:"/admin/analytics/comprehensive",REVENUE:"/admin/analytics/revenue",REVENUE_MONTHLY:"/admin/analytics/revenue/monthly",REVENUE_DAILY:"/admin/analytics/revenue/daily",REVENUE_THEATER_WISE:"/admin/analytics/revenue/theater-wise",REVENUE_OWNER_WISE:"/admin/analytics/revenue/owner-wise",REVENUE_MOVIE_WISE:"/admin/analytics/revenue/movie-wise",PERFORMANCE:"/admin/analytics/performance",PERFORMANCE_OCCUPANCY:"/admin/analytics/performance/occupancy",PERFORMANCE_TIME_SLOTS:"/admin/analytics/performance/time-slots",CUSTOMERS:"/admin/analytics/customers",CUSTOMERS_SATISFACTION:"/admin/analytics/customers/satisfaction",MOVIES:"/admin/analytics/movies",MOVIES_TOP_PERFORMING:"/admin/analytics/movies/top-performing",MOVIES_FORMAT_PERFORMANCE:"/admin/analytics/movies/format-performance",FINANCIAL:"/admin/analytics/financial",GROWTH:"/admin/analytics/growth",OPERATIONAL:"/admin/analytics/operational"},d6=async a=>(await a2.A.get(d5.COMPREHENSIVE,{params:a})).data,d7=async a=>(await a2.A.get(d5.REVENUE,{params:a})).data,d8=async a=>(await a2.A.get(d5.REVENUE_MONTHLY,{params:a})).data,d9=async a=>(await a2.A.get(d5.REVENUE_DAILY,{params:a})).data,ea=async a=>(await a2.A.get(d5.REVENUE_THEATER_WISE,{params:a})).data,eb=async a=>(await a2.A.get(d5.REVENUE_OWNER_WISE,{params:a})).data,ec=async a=>(await a2.A.get(d5.REVENUE_MOVIE_WISE,{params:a})).data,ed=async a=>(await a2.A.get(d5.PERFORMANCE,{params:a})).data,ee=async a=>(await a2.A.get(d5.PERFORMANCE_OCCUPANCY,{params:a})).data,ef=async a=>(await a2.A.get(d5.PERFORMANCE_TIME_SLOTS,{params:a})).data,eg=async a=>(await a2.A.get(d5.CUSTOMERS,{params:a})).data,eh=async a=>(await a2.A.get(d5.CUSTOMERS_SATISFACTION,{params:a})).data,ei=async a=>(await a2.A.get(d5.MOVIES,{params:a})).data,ej=async a=>(await a2.A.get(d5.MOVIES_TOP_PERFORMING,{params:a})).data,ek=async a=>(await a2.A.get(d5.MOVIES_FORMAT_PERFORMANCE,{params:a})).data,el=async a=>(await a2.A.get(d5.FINANCIAL,{params:a})).data,em=async a=>(await a2.A.get(d5.GROWTH,{params:a})).data,en=async a=>(await a2.A.get(d5.OPERATIONAL,{params:a})).data;var eo=c(33500);let ep=({type:a="card",count:b=1})=>{let c=Array.from({length:b}).map((b,c)=>{switch(a){case"table":return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg animate-pulse",children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-700/50",children:(0,d.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48"})}),(0,d.jsx)("div",{className:"p-4 space-y-3",children:Array.from({length:5}).map((a,b)=>(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32"}),(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-20"}),(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-16"})]},b))})]})},c);case"chart":return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:[(0,d.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 mb-4"}),(0,d.jsx)("div",{className:"h-64 bg-gray-700/50 rounded"})]})},c);default:return(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-24"}),(0,d.jsx)("div",{className:"h-8 bg-gray-700/50 rounded w-32"}),(0,d.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-20"})]}),(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-700/50 rounded-full"})]})})},c)}});return 1===b?c[0]:(0,d.jsx)("div",{className:`grid gap-6 ${"card"===a?"grid-cols-1 md:grid-cols-2 lg:grid-cols-4":"grid-cols-1"}`,children:c})},eq=({title:a,value:b,subtitle:c,icon:e,iconColor:f="text-yellow-400",trend:g,loading:h=!1})=>h?(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-24"}),(0,d.jsx)("div",{className:"h-8 bg-gray-700/50 rounded w-32"}),(0,d.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-20"})]}),(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-700/50 rounded-full"})]})}):(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 hover:border-yellow-500/40 transition-all duration-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-400",children:a}),(0,d.jsx)("p",{className:"text-2xl font-bold text-white",children:b}),c&&(0,d.jsx)("p",{className:"text-xs text-gray-300",children:c}),g&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsxs)("span",{className:`text-xs font-medium ${g.isPositive?"text-green-400":"text-red-400"}`,children:[g.isPositive?"+":"",g.value,"%"]}),(0,d.jsx)("span",{className:"text-xs text-gray-300",children:"vs last period"})]})]}),(0,d.jsx)("div",{className:"p-3 rounded-full bg-gray-800/50 border border-yellow-500/30",children:(0,d.jsx)(e,{className:`w-6 h-6 ${f}`})})]})});var er=c(28947),es=c(26229);let et=({metrics:a,loading:b=!1,className:c=""})=>{let e,f=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(a),g=[{title:"Total Revenue",value:f(a?.totalRevenue||0),icon:dr.A,iconColor:"text-green-400",trend:a?.growthRate?{value:a.growthRate,isPositive:a.growthRate>0}:void 0},{title:"Total Bookings",value:(e=a?.totalBookings||0,new Intl.NumberFormat("en-IN").format(e)),subtitle:"tickets sold",icon:o.A,iconColor:"text-blue-400"},{title:"Avg Ticket Price",value:f(a?.averageTicketPrice||0),icon:er.A,iconColor:"text-purple-400"},{title:"Occupancy Rate",value:`${(a?.occupancyRate||0).toFixed(1)}%`,icon:j.A,iconColor:"text-orange-400"},{title:"Customer Satisfaction",value:`${(a?.customerSatisfaction||0).toFixed(1)}/5`,icon:ds.A,iconColor:"text-pink-400"},{title:"Growth Rate",value:`${(a?.growthRate||0).toFixed(1)}%`,subtitle:"vs last period",icon:es.A,iconColor:a?.growthRate>=0?"text-green-400":"text-red-400"}];return(0,d.jsx)("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 ${c}`,children:g.map((a,c)=>(0,d.jsx)(eq,{title:a.title,value:a.value,subtitle:a.subtitle,icon:a.icon,iconColor:a.iconColor,trend:a.trend,loading:b},c))})};var eu=c(12640);let ev=(0,W.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ew=({stats:a,loading:b=!1,className:c=""})=>b?(0,d.jsx)("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ${c}`,children:Array.from({length:4}).map((a,b)=>(0,d.jsxs)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 animate-pulse",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-20 mb-2"}),(0,d.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-24 mb-2"}),(0,d.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-16"})]},b))}):(0,d.jsx)("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ${c}`,children:a.map((a,b)=>(0,d.jsx)("div",{className:"bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 hover:border-yellow-500/40 transition-all duration-200",children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-400",children:a.label}),(0,d.jsx)("p",{className:"text-xl font-bold text-white",children:((a,b)=>{if("string"==typeof a)return a;switch(b){case"currency":return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(a);case"percentage":return`${a.toFixed(1)}%`;default:return new Intl.NumberFormat("en-IN").format(a)}})(a.value,a.format)}),a.change&&(0,d.jsxs)("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"increase":return"text-green-400 bg-green-500/20";case"decrease":return"text-red-400 bg-red-500/20";default:return"text-gray-300 bg-gray-500/20"}})(a.change.type)}`,children:[(a=>{switch(a){case"increase":return(0,d.jsx)(ds.A,{className:"w-3 h-3"});case"decrease":return(0,d.jsx)(eu.A,{className:"w-3 h-3"});default:return(0,d.jsx)(ev,{className:"w-3 h-3"})}})(a.change.type),(0,d.jsxs)("span",{children:[a.change.value>0?"+":"",a.change.value.toFixed(1),"%"]}),(0,d.jsx)("span",{className:"text-gray-300",children:a.change.period})]})]})},b))}),ex=({data:a,loading:b,fetchData:c})=>{let e=a.comprehensive;return b&&!e?(0,d.jsx)(ep,{type:"card",count:6}):e?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(ew,{stats:[{label:"Total Revenue",value:e.totalRevenue||0,format:"currency",change:{value:e.revenueGrowthRate||0,type:(e.revenueGrowthRate||0)>=0?"increase":"decrease",period:"vs last month"}},{label:"Total Bookings",value:e.totalBookings||0,format:"number"},{label:"Avg Occupancy",value:e.avgOccupancy||0,format:"percentage"},{label:"Customer Satisfaction",value:`${(e.platformHealth?.customerSatisfactionScore||0).toFixed(1)}/5`}],loading:b}),(0,d.jsx)(et,{metrics:{totalRevenue:e.totalRevenue||0,totalBookings:e.totalBookings||0,averageTicketPrice:0,occupancyRate:e.avgOccupancy||0,customerSatisfaction:e.platformHealth?.customerSatisfactionScore||0,growthRate:e.revenueGrowthRate||0},loading:b}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-sm border",children:[(0,d.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Platform Health"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-white",children:"Payment Success Rate"}),(0,d.jsxs)("span",{className:"font-medium text-white",children:[e.platformHealth?.paymentSuccessRate||0,"%"]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-white",children:"Cancellation Rate"}),(0,d.jsxs)("span",{className:"font-medium text-white",children:[e.platformHealth?.cancellationRate||0,"%"]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-white",children:"Customer Satisfaction"}),(0,d.jsxs)("span",{className:"font-medium text-white",children:[(e.platformHealth?.customerSatisfactionScore||0).toFixed(1),"/5"]})]})]})]}),(0,d.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-sm border",children:[(0,d.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Top Performers"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white text-sm",children:"Top Movie"}),(0,d.jsx)("p",{className:"font-medium text-white",children:e.topPerformingMovie||"No data"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-white text-sm",children:"Top Theater"}),(0,d.jsx)("p",{className:"font-medium text-white",children:e.topPerformingTheater||"No data"})]})]})]})]})]}):(0,d.jsx)(eo.A,{title:"No Analytics Data",description:"Unable to load analytics overview. Please check your filters and try again.",actionLabel:"Retry",onAction:()=>c()})};var ey=c(3589),ez=c(78272);let eA=({title:a,columns:b,data:c,loading:e=!1,sortBy:g,sortOrder:h,onSort:i,className:j=""})=>e?(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg overflow-hidden ${j}`,children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-700/50",children:(0,d.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 animate-pulse"})}),(0,d.jsx)("div",{className:"p-4 space-y-3",children:Array.from({length:5}).map((a,b)=>(0,d.jsxs)("div",{className:"flex justify-between items-center animate-pulse",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32"}),(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-20"}),(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-16"})]},b))})]}):(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg overflow-hidden ${j}`,children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-700/50",children:(0,d.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:a})}),(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{className:"bg-gray-800/50",children:(0,d.jsx)("tr",{children:b.map(a=>(0,d.jsx)("th",{className:`text-yellow-400 px-4 py-3 text-sm font-medium ${"right"===a.align?"text-right":"center"===a.align?"text-center":"text-left"} ${a.sortable?"cursor-pointer hover:bg-yellow-500/5 transition-all duration-200":""}`,onClick:()=>(a=>{a.sortable&&i&&i(a.key)})(a),children:(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[a.label,a.sortable&&g===a.key&&("asc"===h?(0,d.jsx)(ey.A,{className:"w-4 h-4"}):(0,d.jsx)(ez.A,{className:"w-4 h-4"}))]})},a.key))})}),(0,d.jsx)("tbody",{className:"divide-y divide-gray-700/50",children:c.map((a,c)=>(0,d.jsx)("tr",{className:"hover:bg-yellow-500/5 border-b border-gray-700/50 transition-all duration-200",children:b.map(b=>(0,d.jsx)("td",{className:`px-4 py-3 text-sm text-white ${"right"===b.align?"text-right":"center"===b.align?"text-center":"text-left"}`,children:b.render?b.render(a[b.key],a):(a=>{if(null==a)return"";if("string"==typeof a||"number"==typeof a||"boolean"==typeof a)return String(a);if(f().isValidElement(a))return a;try{return JSON.stringify(a)}catch{return String(a)}})(a[b.key])},b.key))},c))})]}),0===c.length&&(0,d.jsx)("div",{className:"text-center py-8 text-gray-300",children:"No data available"})]})]}),eB=({title:a,subtitle:b,children:c,loading:e=!1,onRefresh:f,onDownload:g,className:h="",height:i="h-80"})=>e?(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ${h}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 animate-pulse"}),b&&(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32 animate-pulse"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-700/50 rounded animate-pulse"}),(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-700/50 rounded animate-pulse"})]})]}),(0,d.jsx)("div",{className:`bg-gray-700/50 rounded animate-pulse ${i}`})]}):(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ${h}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.A,{className:"w-5 h-5 text-yellow-400"}),(0,d.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium",children:a})]}),b&&(0,d.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:b})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[f&&(0,d.jsx)("button",{onClick:f,className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded transition-all duration-200",title:"Refresh",children:(0,d.jsx)(dW.A,{className:"w-4 h-4"})}),g&&(0,d.jsx)("button",{onClick:g,className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded transition-all duration-200",title:"Download",children:(0,d.jsx)(dY.A,{className:"w-4 h-4"})})]})]}),(0,d.jsx)("div",{className:i,children:c})]}),eC=({data:a,loading:b=!1,type:c="daily",onRefresh:e,onDownload:f})=>{let g=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(a);return(0,d.jsx)(eB,{title:`${"daily"===c?"Daily":"Monthly"} Revenue Trends`,subtitle:`Revenue performance over ${"daily"===c?"days":"months"}`,loading:b,onRefresh:e,onDownload:f,height:"h-80",children:(()=>{if(!a||0===a.length)return(0,d.jsx)("div",{className:"flex items-center justify-center h-full text-gray-300",children:"No revenue data available"});let b=Math.max(...a.map(a=>a.revenue));return(0,d.jsx)("div",{className:"h-full flex items-end justify-between gap-2 px-4",children:a.map((a,c)=>(0,d.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,d.jsx)("div",{className:"w-full bg-yellow-500 rounded-t-sm hover:bg-yellow-400 transition-colors cursor-pointer relative group",style:{height:`${a.revenue/b*200}px`,minHeight:"4px"},title:`${a.date}: ${g(a.revenue)}`,children:(0,d.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900/90 border border-yellow-500/20 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:g(a.revenue)})}),(0,d.jsx)("div",{className:"text-xs text-gray-300 mt-2 transform -rotate-45 origin-left",children:new Date(a.date).toLocaleDateString("en-IN",{month:"short",day:"numeric"})})]},c))})})()})};var eD=c(92363);let eE=({title:a,data:b,loading:c=!1,type:e="revenue",limit:f=5,className:g=""})=>{if(c)return(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ${g}`,children:[(0,d.jsx)("div",{className:"h-6 bg-gray-700/50 rounded w-48 mb-4 animate-pulse"}),(0,d.jsx)("div",{className:"space-y-3",children:Array.from({length:f}).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-3 animate-pulse",children:[(0,d.jsx)("div",{className:"w-6 h-6 bg-gray-700/50 rounded"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-32 mb-1"}),(0,d.jsx)("div",{className:"h-3 bg-gray-700/50 rounded w-20"})]}),(0,d.jsx)("div",{className:"h-4 bg-gray-700/50 rounded w-16"})]},b))})]});let h=b.slice(0,f);return(0,d.jsxs)("div",{className:`bg-gray-900/90 border border-yellow-500/20 rounded-lg p-6 ${g}`,children:[(0,d.jsx)("h3",{className:"text-2xl text-yellow-400 font-medium mb-4",children:a}),0===h.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-300",children:"No data available"}):(0,d.jsx)("div",{className:"space-y-3",children:h.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-yellow-500/5 transition-all duration-200",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-6",children:(a=>1===a?(0,d.jsx)(eD.A,{className:"w-4 h-4 text-yellow-400"}):(0,d.jsxs)("span",{className:"text-sm font-semibold text-gray-400",children:["#",a]}))(a.rank)}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"font-medium text-white truncate",children:a.name}),a.subtitle&&(0,d.jsx)("div",{className:"text-sm text-gray-300 truncate",children:a.subtitle})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"font-semibold text-white",children:(a=>{switch(e){case"revenue":return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(a);case"occupancy":return`${a.toFixed(1)}%`;default:return new Intl.NumberFormat("en-IN").format(a)}})(a.value)}),void 0!==a.change&&(0,d.jsxs)("div",{className:`flex items-center gap-1 text-xs ${a.change>=0?"text-green-400":"text-red-400"}`,children:[a.change>=0?(0,d.jsx)(ds.A,{className:"w-3 h-3"}):(0,d.jsx)(eu.A,{className:"w-3 h-3"}),Math.abs(a.change).toFixed(1),"%"]})]})]},a.id))})]})},eF=({data:a,loading:b,fetchData:c})=>{let e=a.revenue;if(b&&!e)return(0,d.jsx)(ep,{type:"chart",count:2});if(!e)return(0,d.jsx)(eo.A,{title:"No Revenue Data",description:"Unable to load revenue analytics. Please adjust your filters and try again.",actionLabel:"Retry",onAction:()=>c()});let f=[{key:"name",label:"Theater",sortable:!0},{key:"revenue",label:"Revenue",sortable:!0,align:"right",render:a=>`₹${a.toLocaleString()}`},{key:"bookings",label:"Bookings",sortable:!0,align:"right"},{key:"occupancy",label:"Occupancy",sortable:!0,align:"right",render:a=>`${a.toFixed(1)}%`}],g=Array.isArray(e.daily?.trends)?e.daily.trends:[],h=Array.isArray(e.monthly?.trends)?e.monthly.trends:[],i=Array.isArray(e.theaterWise?.theaters)?e.theaterWise.theaters:[],j=Array.isArray(e.ownerWise?.owners)?e.ownerWise.owners:[];return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(ew,{stats:[{label:"Total Revenue",value:e.overview?.totalRevenue||0,format:"currency"},{label:"Net Revenue",value:e.overview?.netRevenue||0,format:"currency"},{label:"Platform Commission",value:e.overview?.platformCommission||0,format:"currency"},{label:"Growth Rate",value:e.overview?.growthRate||0,format:"percentage"}],loading:b}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsx)(eC,{data:g,loading:b,type:"daily",onRefresh:()=>c()}),(0,d.jsx)(eC,{data:h,loading:b,type:"monthly",onRefresh:()=>c()})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsx)(eA,{title:"Theater-wise Revenue",columns:f,data:i,loading:b}),(0,d.jsx)(eE,{title:"Top Revenue Generating Owners",data:j.slice(0,10).map((a,b)=>({id:a.ownerId||b,name:a.email||"Unknown Owner",value:a.revenue||0,subtitle:`${a.bookings||0} bookings • ${a.theatersCount||0} theaters`,rank:b+1})),type:"revenue",loading:b})]})]})},eG=({data:a,loading:b,fetchData:c})=>{let e=a.performance;return b&&!e?(0,d.jsx)(ep,{type:"card",count:4}):e?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(ew,{stats:[{label:"Average Occupancy",value:e.metrics?.avgOccupancy||0,format:"percentage"},{label:"Screen Efficiency",value:e.metrics?.screenEfficiency||0,format:"percentage"},{label:"Theater Utilization",value:e.metrics?.theaterUtilization||0,format:"percentage"},{label:"Average Ticket Price",value:e.metrics?.avgTicketPrice||0,format:"currency"}],loading:b}),(0,d.jsx)(et,{metrics:{totalRevenue:0,totalBookings:0,averageTicketPrice:e.metrics?.avgTicketPrice||0,occupancyRate:e.metrics?.avgOccupancy||0,customerSatisfaction:0,growthRate:0},loading:b}),e.metrics?.weekdayWeekendComparison&&(0,d.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-sm border",children:[(0,d.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Weekday vs Weekend Performance"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium text-white mb-2",children:"Weekday"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-white",children:"Bookings"}),(0,d.jsx)("span",{className:"font-medium text-white",children:e.metrics.weekdayWeekendComparison.weekday?.bookings||0})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-white",children:"Revenue"}),(0,d.jsxs)("span",{className:"font-medium text-white",children:["₹",(e.metrics.weekdayWeekendComparison.weekday?.revenue||0).toLocaleString()]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium text-white mb-2",children:"Weekend"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-white",children:"Bookings"}),(0,d.jsx)("span",{className:"font-medium text-white",children:e.metrics.weekdayWeekendComparison.weekend?.bookings||0})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-white",children:"Revenue"}),(0,d.jsxs)("span",{className:"font-medium text-white",children:["₹",(e.metrics.weekdayWeekendComparison.weekend?.revenue||0).toLocaleString()]})]})]})]})]})]})]}):(0,d.jsx)(eo.A,{title:"No Performance Data",description:"Unable to load performance analytics. Please check your filters and try again.",actionLabel:"Retry",onAction:()=>c()})};var eH=c(33103);let eI=()=>{let[a,b]=(0,e.useState)("overview"),[c,f]=(0,e.useState)(!1),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)({}),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(null),[q,r]=(0,e.useState)({type:"info",title:"",message:"",visible:!1}),[s,t]=(0,e.useState)(()=>{let a=new Date,b=new Date;return b.setDate(b.getDate()-30),{startDate:b.toISOString().split("T")[0],endDate:a.toISOString().split("T")[0]}}),u=(0,e.useCallback)((a,b,c)=>{r({type:a,title:b,message:c,visible:!0})},[]),v=(0,e.useCallback)(()=>{r(a=>({...a,visible:!1}))},[]),w=(0,e.useCallback)(async()=>{try{let a=await d6({startDate:s.startDate,endDate:s.endDate,ownerId:s.ownerId,theaterId:s.theaterId,movieId:s.movieId});return console.log(" Comprehensive Analytics Response:",a),a.data}catch(a){throw console.error(" Error fetching comprehensive analytics:",a),a}},[s]),x=(0,e.useCallback)(async()=>{try{let[a,b,c,d,e,f]=await Promise.all([d7(s),d8(s),d9(s),ea(s),eb(s),ec(s)]);return{overview:a.data,monthly:b.data,daily:c.data,theaterWise:d.data,ownerWise:e.data,movieWise:f.data}}catch(a){throw console.error(" Error fetching revenue analytics:",a),a}},[s]),y=(0,e.useCallback)(async()=>{try{let[a,b,c]=await Promise.all([ed(s),ee(s),ef(s)]);return{metrics:a.data,occupancy:b.data,timeSlots:c.data}}catch(a){throw console.error(" Error fetching performance analytics:",a),a}},[s]),z=(0,e.useCallback)(async()=>{try{let[a,b,c]=await Promise.all([ei(s),ej(s),ek(s)]);return console.log("\uD83C\uDFAD Movie Performance Response:",a),console.log("\uD83C\uDFC6 Top Performing Movies Response:",b),console.log("\uD83D\uDCFA Movie Format Analytics Response:",c),{performance:a.data,topPerforming:b.data,formatAnalytics:c.data}}catch(a){throw console.error(" Error fetching movie analytics:",a),a}},[s]),A=(0,e.useCallback)(async()=>{try{let[a,b]=await Promise.all([eg(s),eh(s)]);return{insights:a.data,satisfaction:b.data}}catch(a){throw console.error(" Error fetching customer analytics:",a),a}},[s]),B=(0,e.useCallback)(async()=>{try{let[a,b]=await Promise.all([el(s),em(s)]);return{kpis:a.data,growth:b.data}}catch(a){throw console.error(" Error fetching financial analytics:",a),a}},[s]),C=(0,e.useCallback)(async()=>{try{let a=await en(s);return console.log(" Operational Analytics Response:",a),a.data}catch(a){throw console.error(" Error fetching operational analytics:",a),a}},[s]),D=(0,e.useCallback)(async b=>{let c=b||a;f(!0);try{let a={};switch(c){case"overview":default:a.comprehensive=await w();break;case"revenue":a.revenue=await x();break;case"performance":a.performance=await y();break;case"movies":a.movies=await z();break;case"financial":a.financial=await B();break;case"operational":a.operational=await C()}j(b=>({...b,...a})),u("success","Data Updated","Analytics data has been refreshed successfully.")}catch(a){console.error(" Error fetching analytics data:",a),u("error","Error Loading Data","Failed to load analytics data. Please try again.")}finally{f(!1)}},[a,w,x,y,z,A,B,C,u]),E=(0,e.useCallback)(async()=>{h(!0);try{await D()}finally{h(!1)}},[D]),F=(0,e.useCallback)(a=>{b(a),i[a]||D(a)},[i,D]),G=(0,e.useCallback)(a=>{t(b=>({...b,...a}))},[]);(0,e.useCallback)(()=>{l(!1),D()},[D]);let H=(0,e.useCallback)(()=>{try{let b=[],c=new Date().toISOString().split("T")[0],d=`analytics_${a}_${c}.xlsx`;switch(a){case"overview":{let a=i.comprehensive;if(!a)return void u("warning","No Data","No overview data available to export.");b.push({name:"Quick Stats",rows:[{totalRevenue:a.totalRevenue||0,totalBookings:a.totalBookings||0,avgOccupancy:a.avgOccupancy||0,custSatisfaction:a.platformHealth?.customerSatisfactionScore||0,revenueGrowthRate:a.revenueGrowthRate||0}]},{name:"Platform Health",rows:[a.platformHealth||{}]},{name:"Top Performers",rows:[{topMovie:a.topPerformingMovie||"No data",topTheater:a.topPerformingTheater||"No data"}]});break}case"revenue":{let a=i.revenue;if(!a)return void u("warning","No Data","No revenue data available to export.");b.push({name:"Overview",rows:[a.overview||{}]},{name:"Daily Trends",rows:Array.isArray(a.daily?.trends)?a.daily.trends:[]},{name:"Monthly Trends",rows:Array.isArray(a.monthly?.trends)?a.monthly.trends:[]},{name:"Theater Revenue",rows:Array.isArray(a.theaterWise?.theaters)?a.theaterWise.theaters:[]},{name:"Owner Revenue",rows:Array.isArray(a.ownerWise?.owners)?a.ownerWise.owners:[]});break}case"performance":{let a=i.performance;if(!a)return void u("warning","No Data","No performance data available to export.");b.push({name:"Metrics",rows:[a.metrics||{}]},{name:"Occupancy",rows:Array.isArray(a.occupancy)?a.occupancy:[]},{name:"Time Slots",rows:Array.isArray(a.timeSlots)?a.timeSlots:[]});break}case"customers":{let a=i.customers;if(!a)return void u("warning","No Data","No customer data available to export.");b.push({name:"Insights",rows:[a.insights||{}]},{name:"Age Groups",rows:Array.isArray(a.insights?.demographics?.ageGroups)?a.insights.demographics.ageGroups:[]},{name:"Cities",rows:Array.isArray(a.insights?.demographics?.locations)?a.insights.demographics.locations:[]},{name:"Rating Distribution",rows:Array.isArray(a.satisfaction?.ratingDistribution)?a.satisfaction.ratingDistribution:[]});break}case"operational":{let a=i.operational;if(!a)return void u("warning","No Data","No operational data available to export.");b.push({name:"Platform Health",rows:[a.platformHealth||{}]},{name:"Payment Gateways",rows:Array.isArray(a.paymentAnalytics?.gatewayPerformance)?a.paymentAnalytics.gatewayPerformance:[]},{name:"Cancellation Reasons",rows:Array.isArray(a.cancellationAnalytics?.topCancellationReasons)?a.cancellationAnalytics.topCancellationReasons:[]},{name:"Seasonal Trends",rows:Array.isArray(a.seasonalTrends)?a.seasonalTrends:[]});break}default:u("error","Export Error","Unknown tab selected for export.");return}if(0===b.length)return void u("warning","No Data","No data available to export for the current tab.");!function(a,b="analytics.xlsx"){let c=eH.Wp.book_new();a.forEach(a=>{let b=eH.Wp.json_to_sheet(a.rows);eH.Wp.book_append_sheet(c,b,a.name)}),eH._h(c,b)}(b,d),u("success","Export Complete",`Analytics data exported successfully as ${d}`)}catch(a){console.error(" Export error:",a),u("error","Export Failed","Failed to export analytics data. Please try again.")}},[a,i,u]),I=(0,e.useCallback)(()=>{H()},[H]);return(0,e.useEffect)(()=>{D()},[]),(0,d.jsx)(dX,{children:(0,d.jsxs)("div",{className:"min-h-screen bg-black p-6",children:[(0,d.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,d.jsx)(dZ,{title:"Analytics Dashboard",subtitle:"Comprehensive analytics and insights for your movie ticket booking platform",onFilterClick:()=>l(!0),onExportClick:I,onRefreshClick:E,isRefreshing:g,activeFilters:(()=>{let a={};return s.startDate&&s.endDate&&(a.dateRange=`${s.startDate} to ${s.endDate}`),a})()}),(0,d.jsx)(d_,{startDate:s.startDate,endDate:s.endDate,onStartDateChange:a=>t(b=>({...b,startDate:a})),onEndDateChange:a=>t(b=>({...b,endDate:a}))}),(0,d.jsxs)("div",{className:"bg-black rounded-lg shadow-sm border",children:[(0,d.jsx)("div",{className:"px-6",children:(0,d.jsx)(d1,{tabs:[{id:"overview",label:"Overview",count:void 0},{id:"revenue",label:"Revenue",count:void 0},{id:"performance",label:"Performance",count:void 0},{id:"movies",label:"Movies",count:void 0},{id:"financial",label:"Financial",count:void 0}],activeTab:a,onTabChange:F})}),(0,d.jsx)("div",{className:"p-6",children:(()=>{switch(a){case"overview":default:return(0,d.jsx)(ex,{data:i,loading:c,fetchData:D});case"revenue":return(0,d.jsx)(eF,{data:i,loading:c,fetchData:D});case"performance":return(0,d.jsx)(eG,{data:i,loading:c,fetchData:D})}})()})]})]}),(0,d.jsx)(d0,{isOpen:k,onClose:()=>l(!1),filters:s,onFiltersChange:G}),(0,d.jsx)(d4,{isOpen:m,onClose:()=>n(!1),title:"Detailed Analytics",size:"xl",children:o}),(0,d.jsx)(d3,{type:q.type,title:q.title,message:q.message,visible:q.visible,onClose:v})]})})};var eJ=c(27137),eK=c.n(eJ),eL=c(82188),eM=c.n(eL);let eN=({balance:a,onRefresh:b})=>{let c=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(a);return(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsx)("div",{className:"p-4 bg-yellow-500/20 rounded-2xl",children:(0,d.jsx)(eD.A,{className:"w-8 h-8 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm mb-1",style:{fontFamily:eM().style.fontFamily},children:"Platform Commission Balance"}),(0,d.jsx)("h2",{className:`${eM().className} text-4xl text-yellow-400 font-bold`,children:c(a)}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,d.jsx)(ds.A,{className:"w-4 h-4 text-yellow-400"}),(0,d.jsx)("span",{className:"text-yellow-400 text-sm",style:{fontFamily:eM().style.fontFamily},children:"Platform earnings"})]})]})]}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsxs)("button",{onClick:b,className:"flex items-center gap-2 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/10 text-gray-400 hover:text-white border border-gray-500/30",style:{fontFamily:eM().style.fontFamily},children:[(0,d.jsx)(dW.A,{className:"w-4 h-4"}),"Refresh"]}),(0,d.jsxs)("button",{className:"flex items-center gap-2 px-6 py-3 rounded-xl transition-all duration-300 bg-yellow-500 hover:bg-yellow-400 text-black font-medium",style:{fontFamily:eM().style.fontFamily},children:[(0,d.jsx)(dY.A,{className:"w-4 h-4"}),"Export Data"]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-yellow-500/20",children:[(0,d.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:eM().style.fontFamily},children:"Today"}),(0,d.jsx)("p",{className:`${eM().className} text-xl text-yellow-400 mt-1`,children:"₹0"})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:eM().style.fontFamily},children:"This Week"}),(0,d.jsx)("p",{className:`${eM().className} text-xl text-yellow-400 mt-1`,children:"₹0"})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:eM().style.fontFamily},children:"This Month"}),(0,d.jsx)("p",{className:`${eM().className} text-xl text-yellow-400 mt-1`,children:"₹0"})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:eM().style.fontFamily},children:"Total Commission"}),(0,d.jsx)("p",{className:`${eM().className} text-xl text-yellow-400 font-bold mt-1`,children:c(a)})]})]})]})};var eO=c(86578),eP=c(67327),eQ=c(10701),eR=c.n(eQ);let eS=({transactions:a})=>{let[b,c]=(0,e.useState)(!1),f=b?a:a.slice(0,3);return(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h3",{className:`${eR().className} text-2xl text-yellow-400`,children:"Transaction History"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,d.jsx)(o.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{style:{fontFamily:eR().style.fontFamily},children:"Commission Activity"})]})]}),0===a.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"p-4 bg-yellow-500/20 rounded-2xl w-fit mx-auto mb-4",children:(0,d.jsx)(eO.A,{className:"w-8 h-8 text-yellow-400"})}),(0,d.jsx)("p",{className:`${eR().className} text-gray-400 text-lg`,children:"No transactions yet"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-2",style:{fontFamily:eR().style.fontFamily},children:"Platform commission history will appear here"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"space-y-4",children:f.map(a=>{let b;return(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700/30 rounded-xl hover:bg-gray-700/50 transition-all duration-300",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-600/50 rounded-lg",children:"credit"===a.type?(0,d.jsx)(eO.A,{className:"w-5 h-5 text-yellow-400"}):(0,d.jsx)(eP.A,{className:"w-5 h-5 text-red-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:`${eR().className} text-white font-medium`,children:a.description}),(0,d.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,d.jsx)("span",{className:`px-2 py-1 rounded-lg border text-xs ${{revenue:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",refund:"bg-red-500/20 text-red-400 border-red-500/30",withdrawal:"bg-blue-500/20 text-blue-400 border-blue-500/30",commission:"bg-purple-500/20 text-purple-400 border-purple-500/30"}[a.category]||"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,style:{fontFamily:eR().style.fontFamily},children:a.category.toUpperCase()}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:eR().style.fontFamily},children:new Date(a.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:`text-lg font-semibold ${"credit"===a.type?"text-yellow-400":"text-red-400"} ${eR().className}`,children:["credit"===a.type?"+":"-",(b=a.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(b))]}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:eR().style.fontFamily},children:a.status})]})]},a._id)})}),a.length>3&&(0,d.jsx)("div",{className:"flex justify-center mt-6",children:(0,d.jsx)("button",{onClick:()=>c(!b),className:"flex items-center gap-2 px-6 py-3 rounded-xl transition-all duration-300 hover:bg-white/10 text-gray-400 hover:text-white border border-gray-500/30",style:{fontFamily:eR().style.fontFamily},children:b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ey.A,{className:"w-4 h-4"}),"Show Less"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ez.A,{className:"w-4 h-4"}),"See More (",a.length-3," more)"]})})})]})]})},eT={WALLET:"/admin/wallet",TRANSACTIONS:"/admin/transaction"},eU=async()=>(await a2.A.get(eT.WALLET)).data,eV=async()=>(await a2.A.get(eT.TRANSACTIONS)).data,eW=()=>{let[a,b]=(0,e.useState)({balance:0,transactions:[]}),[c,f]=(0,e.useState)(!0),[g,h]=(0,e.useState)(!1);(0,e.useEffect)(()=>{i()},[]);let i=async()=>{try{f(!0),console.log("Fetching admin wallet data...");let a=await eU();console.log("Admin wallet data:",a.data);let c=await eV();console.log("Admin transaction data:",c),b({balance:a.data?.balance||0,transactions:c.data||[]})}catch(a){console.error("Error fetching admin wallet data:",a)}finally{f(!1)}};return c?(0,d.jsx)("div",{className:"min-h-screen bg-gray-900 p-6 flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-white text-xl",style:{fontFamily:eK().style.fontFamily},children:"Loading admin wallet..."})}):(0,d.jsx)("div",{className:"min-h-screen bg-gray-900 p-6",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:`${eK().className} text-3xl text-white mb-2 flex items-center gap-2`,children:[(0,d.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,d.jsx)(n.A,{className:"w-6 h-6 text-yellow-400"})}),"Admin Wallet Management"]}),(0,d.jsx)("p",{className:"text-gray-400",style:{fontFamily:eK().style.fontFamily},children:"View platform earnings, commission breakdown and transaction history."})]})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(eN,{balance:a.balance,onRefresh:i}),(0,d.jsx)(eS,{transactions:a.transactions})]})]})})},eX={BASE:"/admin/coupons",TOGGLE_STATUS:a=>`/admin/coupons/${a}`},eY=async a=>{let b=new URLSearchParams;return a?.page&&b.append("page",a.page.toString()),a?.limit&&b.append("limit",a.limit.toString()),(await a2.A.get(eX.BASE,{params:b})).data},eZ=async(a,b)=>(await a2.A.patch(eX.TOGGLE_STATUS(a),{isActive:b})).data;var e$=c(51215);let e_=(0,W.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),e0=({coupon:a,lexend:b,onClose:c,onToggleStatus:e,loading:f})=>{let g=new Date(a.expiryDate)<=new Date,h=a.currentUsageCount>=a.maxUsageCount,i=a.currentUsageCount/a.maxUsageCount*100,k=a.isActive?g?{text:"Expired",color:"text-red-400 bg-red-400/10 border-red-400/20",icon:cl.A}:h?{text:"Fully Used",color:"text-orange-400 bg-orange-400/10 border-orange-400/20",icon:j.A}:{text:"Active",color:"text-green-400 bg-green-400/10 border-green-400/20",icon:e_}:{text:"Disabled",color:"text-gray-400 bg-gray-400/10 border-gray-400/20",icon:by.A},l=k.icon,m=(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:a=>{a.target===a.currentTarget&&c()},children:(0,d.jsxs)("div",{className:"bg-gray-800 border border-yellow-500/20 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-yellow-500/20",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,d.jsx)(es.A,{className:"w-6 h-6 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:`${b.className} text-2xl text-white font-bold`,children:a.name}),(0,d.jsx)("p",{className:"text-gray-400 font-mono",style:{fontFamily:b.style.fontFamily},children:a.uniqueId})]})]}),(0,d.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors",children:(0,d.jsx)(aC.A,{className:"w-5 h-5 text-gray-400"})})]}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:`border rounded-xl p-4 ${k.color}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(l,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"font-medium",style:{fontFamily:b.style.fontFamily},children:"Status"})]}),(0,d.jsx)("p",{className:`${b.className} text-xl font-bold`,children:k.text})]}),(0,d.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(es.A,{className:"w-5 h-5 text-yellow-400"}),(0,d.jsx)("span",{className:"text-yellow-400 font-medium",style:{fontFamily:b.style.fontFamily},children:"Discount"})]}),(0,d.jsxs)("p",{className:`${b.className} text-3xl text-yellow-400 font-bold`,children:[a.discountPercentage,"%"]})]}),(0,d.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(dr.A,{className:"w-5 h-5 text-green-400"}),(0,d.jsx)("span",{className:"text-green-400 font-medium",style:{fontFamily:b.style.fontFamily},children:"Min Amount"})]}),(0,d.jsxs)("p",{className:`${b.className} text-3xl text-green-400 font-bold`,children:["₹",a.minAmount]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)(bk.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400 font-medium",style:{fontFamily:b.style.fontFamily},children:"Description"})]}),(0,d.jsx)("p",{className:"text-white leading-relaxed",style:{fontFamily:b.style.fontFamily},children:a.description||"No description provided"})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(j.A,{className:"w-5 h-5 text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400 font-medium text-lg",style:{fontFamily:b.style.fontFamily},children:"Usage Statistics"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,d.jsxs)("div",{className:"text-center bg-gray-600/30 rounded-lg p-4",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm mb-2",style:{fontFamily:b.style.fontFamily},children:"Current Usage"}),(0,d.jsx)("p",{className:`${b.className} text-3xl text-yellow-400 font-bold`,children:a.currentUsageCount})]}),(0,d.jsxs)("div",{className:"text-center bg-gray-600/30 rounded-lg p-4",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm mb-2",style:{fontFamily:b.style.fontFamily},children:"Max Usage"}),(0,d.jsx)("p",{className:`${b.className} text-3xl text-white font-bold`,children:a.maxUsageCount})]}),(0,d.jsxs)("div",{className:"text-center bg-gray-600/30 rounded-lg p-4",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm mb-2",style:{fontFamily:b.style.fontFamily},children:"Usage Rate"}),(0,d.jsxs)("p",{className:`${b.className} text-3xl text-blue-400 font-bold`,children:[i.toFixed(1),"%"]})]})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-4",children:(0,d.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 h-4 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:`${Math.min(i,100)}%`},children:(0,d.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),(0,d.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[(0,d.jsx)("span",{children:"0"}),(0,d.jsxs)("span",{className:"text-yellow-400 font-semibold",children:[i.toFixed(1),"%"]}),(0,d.jsx)("span",{children:a.maxUsageCount})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(b4.A,{className:"w-5 h-5 text-gray-400"}),(0,d.jsxs)("span",{className:"text-gray-400 font-medium text-lg",style:{fontFamily:b.style.fontFamily},children:["Valid Theaters (",a.theaterIds.length,")"]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.theaterIds.map(a=>(0,d.jsx)("div",{className:"bg-gray-600/30 border border-gray-500/30 rounded-lg p-3",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(b4.A,{className:"w-4 h-4 text-yellow-400"}),(0,d.jsx)("p",{className:"text-white font-medium",style:{fontFamily:b.style.fontFamily},children:a.name})]})},a._id))})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-400 font-medium",style:{fontFamily:b.style.fontFamily},children:"Created Date"})]}),(0,d.jsx)("p",{className:"text-white text-lg",style:{fontFamily:b.style.fontFamily},children:new Date(a.createdAt).toLocaleString()})]}),(0,d.jsxs)("div",{className:`border rounded-xl p-4 ${g?"bg-red-500/10 border-red-500/20":"bg-gray-700/30 border-gray-600/50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)(C.A,{className:`w-4 h-4 ${g?"text-red-400":"text-gray-400"}`}),(0,d.jsx)("span",{className:`font-medium ${g?"text-red-400":"text-gray-400"}`,style:{fontFamily:b.style.fontFamily},children:"Expiry Date"})]}),(0,d.jsx)("p",{className:`text-lg ${g?"text-red-400":"text-white"}`,style:{fontFamily:b.style.fontFamily},children:new Date(a.expiryDate).toLocaleString()}),g&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",style:{fontFamily:b.style.fontFamily},children:"This coupon has expired"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-yellow-500/20",children:[(0,d.jsx)("button",{onClick:c,className:"px-6 py-3 text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-xl transition-all duration-300",style:{fontFamily:b.style.fontFamily},children:"Close"}),(0,d.jsx)("button",{onClick:()=>e(a._id),disabled:f,className:`flex items-center gap-2 px-6 py-3 rounded-xl transition-all duration-300 disabled:opacity-50 ${a.isActive?"bg-red-500/20 hover:bg-red-500/30 text-red-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"}`,style:{fontFamily:b.style.fontFamily},children:a.isActive?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(by.A,{className:"w-4 h-4"}),"Disable Coupon"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e_,{className:"w-4 h-4"}),"Enable Coupon"]})})]})]})});return(0,e$.createPortal)(m,document.body)},e1=({coupon:a,lexend:b,onViewDetails:c,onToggleStatus:e,loading:f})=>{let g=new Date(a.expiryDate)<=new Date,h=a.currentUsageCount>=a.maxUsageCount,i=a.currentUsageCount/a.maxUsageCount*100,j=a.isActive?g?{text:"Expired",color:"text-red-400 bg-red-400/10"}:h?{text:"Fully Used",color:"text-orange-400 bg-orange-400/10"}:{text:"Active",color:"text-green-400 bg-green-400/10"}:{text:"Disabled",color:"text-gray-400 bg-gray-400/10"};return(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6 hover:border-yellow-500/30 transition-all duration-300",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:(0,d.jsx)(es.A,{className:"w-4 h-4 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:`${b.className} text-lg text-white font-semibold line-clamp-1`,children:a.name}),(0,d.jsx)("p",{className:"text-gray-400 text-sm font-mono",style:{fontFamily:b.style.fontFamily},children:a.uniqueId})]})]}),(0,d.jsx)("div",{className:`px-2 py-1 rounded-lg text-xs font-medium ${j.color}`,children:j.text})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(es.A,{className:"w-4 h-4 text-yellow-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:b.style.fontFamily},children:"Discount"})]}),(0,d.jsxs)("p",{className:`${b.className} text-xl text-yellow-400 font-bold`,children:[a.discountPercentage,"%"]})]}),(0,d.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(dr.A,{className:"w-4 h-4 text-green-400"}),(0,d.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:b.style.fontFamily},children:"Min Amount"})]}),(0,d.jsxs)("p",{className:`${b.className} text-lg text-green-400 font-semibold`,children:["₹",a.minAmount]})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",style:{fontFamily:b.style.fontFamily},children:"Usage Progress"}),(0,d.jsxs)("span",{className:"text-gray-400 text-sm",style:{fontFamily:b.style.fontFamily},children:[a.currentUsageCount,"/",a.maxUsageCount]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(i,100)}%`}})})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(b4.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsxs)("span",{className:"text-gray-400 text-sm",style:{fontFamily:b.style.fontFamily},children:["Valid at ",a.theaterIds.length," theater(s)"]})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[a.theaterIds.slice(0,2).map((a,c)=>(0,d.jsx)("div",{className:"bg-gray-700/30 rounded-lg p-2",children:(0,d.jsx)("p",{className:"text-white text-sm",style:{fontFamily:b.style.fontFamily},children:a.name})},a._id)),a.theaterIds.length>2&&(0,d.jsxs)("div",{className:"text-gray-500 text-sm",style:{fontFamily:b.style.fontFamily},children:["+",a.theaterIds.length-2," more theaters"]})]})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsxs)("span",{className:"text-gray-400 text-sm",style:{fontFamily:b.style.fontFamily},children:["Expires: ",new Date(a.expiryDate).toLocaleDateString()]})]})}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("button",{onClick:()=>c(a),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg transition-all duration-300",style:{fontFamily:b.style.fontFamily},children:[(0,d.jsx)(bk.A,{className:"w-4 h-4"}),"Details"]}),(0,d.jsxs)("button",{onClick:()=>e(a._id,a.isActive),disabled:f,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 disabled:opacity-50 ${a.isActive?"bg-red-500/20 hover:bg-red-500/30 text-red-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"}`,style:{fontFamily:b.style.fontFamily},children:[a.isActive?(0,d.jsx)(by.A,{className:"w-4 h-4"}):(0,d.jsx)(e_,{className:"w-4 h-4"}),a.isActive?"Disable":"Enable"]})]})]})},e2=({lexend:a})=>{let[b,c]=(0,e.useState)([]),[f,g]=(0,e.useState)(null),[h,i]=(0,e.useState)(null),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(!0),[n,o]=(0,e.useState)(!1),[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(""),[u,v]=(0,e.useState)("all"),[w,x]=(0,e.useState)("all"),[y,z]=(0,e.useState)(1),[A]=(0,e.useState)(12),B=(0,e.useCallback)(async(a=1)=>{try{m(!0),r(null);let b=await eY({page:a,limit:A});if(console.log(b),b.success&&b.data)c(b.data.data),g({currentPage:b.data.currentPage,totalPages:b.data.totalPages,hasNextPage:b.data.hasNextPage,hasPreviousPage:b.data.hasPreviousPage,totalCount:b.data.totalCount});else throw Error(b.message||"Failed to fetch coupons")}catch(a){r("Failed to fetch coupons. Please try again."),console.error("Error fetching coupons:",err)}finally{m(!1)}},[A]);(0,e.useEffect)(()=>{B(y)},[B,y]);let C=(0,e.useCallback)(()=>{if(!b||0===b.length)return[];let a=[...b];if(s){let b=s.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b)||a.uniqueId.toLowerCase().includes(b)||a.theaterIds.some(a=>a.name.toLowerCase().includes(b)))}if("all"!==u){let b=new Date;a=a.filter(a=>{switch(u){case"active":return a.isActive&&new Date(a.expiryDate)>b&&a.currentUsageCount<a.maxUsageCount;case"expired":return new Date(a.expiryDate)<=b;case"used":return a.currentUsageCount>=a.maxUsageCount;default:return!0}})}return"all"!==w&&(a=a.filter(a=>a.theaterIds.some(a=>a._id===w))),a},[b,s,u,w]),D=(0,e.useCallback)(()=>{if(!b||0===b.length)return[];let a=new Map;return b.forEach(b=>{b.theaterIds.forEach(b=>{a.has(b._id)||a.set(b._id,b)})}),Array.from(a.values())},[b]),E=(0,e.useCallback)(()=>{if(!b||0===b.length)return{active:0,expired:0,used:0,total:0};let a=new Date;return b.reduce((b,c)=>(b.total++,c.isActive&&(new Date(c.expiryDate)<=a?b.expired++:c.currentUsageCount>=c.maxUsageCount?b.used++:b.active++),b),{active:0,expired:0,used:0,total:0})},[b]),F=(0,e.useCallback)(a=>{i(a),k(!0)},[]),G=async(a,b)=>{try{if(!await (0,ba.f)({title:" Toggle Status?",message:'Are you sure you want to change status of this coupon"?',confirmText:"Confirm",cancelText:"Cancel"}))return;o(!0),console.log(a);let d=await eZ(a,!b);if(console.log(d),d.success||d.data)c(b=>b.map(b=>b._id===a?{...b,isActive:!b.isActive}:b)),h?._id===a&&i(a=>a?{...a,isActive:!a.isActive}:null);else throw Error("Failed to update coupon status");a9.Ay.success("Status changed")}catch(a){r("Failed to update coupon status. Please try again."),console.error("Error toggling coupon status:",err)}finally{o(!1)}},H=(0,e.useCallback)(()=>{B(y)},[B,y]),I=C(),J=E(),K=D();return l&&(!b||0===b.length)?(0,d.jsx)("div",{className:"min-h-screen bg-gray-900 p-6 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-400",style:{fontFamily:a.style.fontFamily},children:"Loading coupons..."})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gray-900 p-6",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:`${a.className} text-3xl text-white mb-2 flex items-center gap-2`,children:[(0,d.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,d.jsx)(p.A,{className:"w-6 h-6 text-yellow-400"})}),"Coupon Management"]}),(0,d.jsx)("p",{className:"text-gray-400",style:{fontFamily:a.style.fontFamily},children:"Manage discount coupons, monitor usage, and control availability across theaters."})]}),(0,d.jsxs)("button",{onClick:H,disabled:l,className:"flex items-center gap-2 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/10 text-gray-400 hover:text-white border border-gray-500/30 disabled:opacity-50",style:{fontFamily:a.style.fontFamily},children:[(0,d.jsx)(dW.A,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Refresh"]})]}),q&&(0,d.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-center gap-2",children:[(0,d.jsx)(bU.A,{className:"w-5 h-5 text-red-400"}),(0,d.jsx)("p",{className:"text-red-400",style:{fontFamily:a.style.fontFamily},children:q}),(0,d.jsx)("button",{onClick:()=>r(null),className:"ml-auto text-red-400 hover:text-red-300",children:"\xd7"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,d.jsx)(p.A,{className:"w-5 h-5 text-green-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:"Active"}),(0,d.jsx)("p",{className:`${a.className} text-xl text-green-400 font-bold`,children:J.active})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-red-500/20 rounded-lg",children:(0,d.jsx)(p.A,{className:"w-5 h-5 text-red-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:"Expired"}),(0,d.jsx)("p",{className:`${a.className} text-xl text-red-400 font-bold`,children:J.expired})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:(0,d.jsx)(p.A,{className:"w-5 h-5 text-orange-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:"Fully Used"}),(0,d.jsx)("p",{className:`${a.className} text-xl text-orange-400 font-bold`,children:J.used})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-xl p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:(0,d.jsx)(p.A,{className:"w-5 h-5 text-yellow-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:"Total"}),(0,d.jsx)("p",{className:`${a.className} text-xl text-yellow-400 font-bold`,children:J.total})]})]})})]}),(0,d.jsx)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6",children:(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(T.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,d.jsx)("input",{type:"text",placeholder:"Search by coupon name, code, or theater name...",value:s,onChange:a=>t(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:border-yellow-500/50 focus:outline-none",style:{fontFamily:a.style.fontFamily}})]})}),(0,d.jsxs)("select",{value:u,onChange:a=>v(a.target.value),className:"px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white focus:border-yellow-500/50 focus:outline-none",style:{fontFamily:a.style.fontFamily},children:[(0,d.jsx)("option",{value:"all",children:"All Status"}),(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"expired",children:"Expired"}),(0,d.jsx)("option",{value:"used",children:"Fully Used"})]}),(0,d.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white focus:border-yellow-500/50 focus:outline-none",style:{fontFamily:a.style.fontFamily},children:[(0,d.jsx)("option",{value:"all",children:"All Theaters"}),K.map(a=>(0,d.jsx)("option",{value:a._id,children:a.name},a._id))]})]})}),l?(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,b)=>(0,d.jsxs)("div",{className:"bg-gray-800/50 border border-yellow-500/20 rounded-2xl p-6 animate-pulse",children:[(0,d.jsx)("div",{className:"h-6 bg-gray-700 rounded mb-4"}),(0,d.jsx)("div",{className:"h-4 bg-gray-700 rounded mb-2"}),(0,d.jsx)("div",{className:"h-4 bg-gray-700 rounded mb-4"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"h-10 bg-gray-700 rounded flex-1"}),(0,d.jsx)("div",{className:"h-10 bg-gray-700 rounded w-20"})]})]},b))}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(b=>(0,d.jsx)(e1,{coupon:b,lexend:a,onViewDetails:F,onToggleStatus:G,loading:n},b._id))}),!l&&0===I.length&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(p.A,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-400 text-lg",style:{fontFamily:a.style.fontFamily},children:0===b.length?"No coupons found":"No coupons match your search criteria"})]}),f&&f.totalPages>1&&(0,d.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>z(a=>Math.max(1,a-1)),disabled:!f.hasPreviousPage||l,className:"px-4 py-2 bg-gray-700/50 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600/50",style:{fontFamily:a.style.fontFamily},children:"Previous"}),(0,d.jsxs)("span",{className:"text-gray-400 px-4",style:{fontFamily:a.style.fontFamily},children:["Page ",f.currentPage," of ",f.totalPages]}),(0,d.jsx)("button",{onClick:()=>z(a=>Math.min(f.totalPages,a+1)),disabled:!f.hasNextPage||l,className:"px-4 py-2 bg-gray-700/50 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600/50",style:{fontFamily:a.style.fontFamily},children:"Next"})]}),f&&(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("p",{className:"text-gray-400 text-sm",style:{fontFamily:a.style.fontFamily},children:["Showing ",I.length," of ",f.totalCount," total coupons"]})})]}),j&&h&&(0,d.jsx)(e0,{coupon:h,lexend:a,onClose:()=>{k(!1),i(null)},onToggleStatus:G,loading:n})]})},e3={fontFamily:"Lexend",fontWeight:"500"},e4={fontFamily:"Lexend",fontWeight:"400"},e5=()=>{let[a,b]=(0,e.useState)("movies"),[c,f]=(0,e.useState)(!0);return(0,d.jsx)(cY.A,{allowedRoles:["admin"],children:(0,d.jsx)(M,{children:(0,d.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex",children:[(0,d.jsx)(x,{activeTab:a,setActiveTab:b,sidebarOpen:c,setSidebarOpen:f}),(0,d.jsx)("div",{className:"flex-1 p-6 overflow-auto space-y-6",children:(()=>{switch(a){case"movies":return(0,d.jsx)(bm,{});case"owners":return(0,d.jsx)(cB,{});case"users":return(0,d.jsx)(cX,{});case"screens":return(0,d.jsx)(dk,{});case"bookings":return(0,d.jsx)(dV,{});case"wallet":return(0,d.jsx)(eW,{});case"analytics":return(0,d.jsx)(eI,{});case"coupon":return(0,d.jsx)(e2,{lexend:h()});default:return(0,d.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,d.jsxs)("div",{className:"bg-black/95 backdrop-blur-sm border border-yellow-500/20 rounded-2xl p-8 text-center",children:[(0,d.jsx)("h2",{className:"text-2xl text-yellow-400 mb-2",style:e3,children:a.charAt(0).toUpperCase()+a.slice(1)}),(0,d.jsx)("p",{className:"text-gray-300",style:e4,children:"This section is under development"})]})})}})()})]})})})}},71031:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\BROTOTYPE\\\\mern-project II-full-stack-mern-Next.js\\\\frontend\\\\app\\\\src\\\\app\\\\admin\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\admin\\dashboard\\page.tsx","default")},72950:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},74075:a=>{"use strict";a.exports=require("zlib")},74901:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},75153:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},82188:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontStyle:"normal"},className:"__className_7511d4"}},83011:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},83461:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},83578:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},83720:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},83997:a=>{"use strict";a.exports=require("tty")},84192:(a,b,c)=>{"use strict";c.d(b,{d:()=>e});var d=c(43210);function e(a,b){let c=(0,d.useRef)(null);return(0,d.useCallback)((...d)=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{a(...d)},b)},[a,b])}},85913:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},86106:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},86561:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},86594:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},88889:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},90508:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},92363:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},94735:a=>{"use strict";a.exports=require("events")},95246:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(65239),e=c(48088),f=c(47220),g=c(81289),h=c(26191),i=c(14823),j=c(71998),k=c(92603),l=c(54649),m=c(32781),n=c(82602),o=c(61268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(26713),u=c(43365),v=c(71454),w=c(67778),x=c(46143),y=c(39105),z=c(38171),A=c(86439),B=c(16133),C=c.n(B),D=c(30893),E=c(52836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,71031)),"D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,51520))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,94431)),"D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(c.bind(c,54413)),"D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\not-found.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,16133,23)),"next/dist/client/components/builtin/global-error.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,29868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,79615,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,51520))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,H=["D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\admin\\dashboard\\page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/admin/dashboard/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||b instanceof A.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},96052:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},96621:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},96729:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:300,fontStyle:"normal"},className:"__className_a698ad"}},97436:a=>{a.exports={style:{fontFamily:"'Lexend', 'Lexend Fallback'",fontWeight:500,fontStyle:"normal"},className:"__className_5a1147"}},97992:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99270:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[985,106,58,442,434,668,22,949],()=>b(b.s=95246));module.exports=c})();