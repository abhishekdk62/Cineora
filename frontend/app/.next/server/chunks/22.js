exports.id=22,exports.ids=[22],exports.modules={5376:(a,b,c)=>{"use strict";c.d(b,{A:()=>j});var d=c(51060),e=c(56756);let f=d.A.create({baseURL:"https://cineora.fun/api",headers:{"Content-Type":"application/json"},withCredentials:!0}),g=!1,h=[],i=a=>{h.forEach(({resolve:b,reject:c})=>{a?c(a):b()}),h=[],g=!1};f.interceptors.response.use(a=>a,async a=>{let b=a.config;if(b.url?.includes(e.A.REFRESH))return Promise.reject(a);if(a.response?.status===401&&!b._retry){if(g)return new Promise((a,b)=>{h.push({resolve:a,reject:b})}).then(()=>f(b)).catch(a=>Promise.reject(a));b._retry=!0,g=!0;try{return await f.post(e.A.REFRESH),i(null),f(b)}catch(a){return console.error(" Refresh failed:",a),i(a),window.location.href="/login",Promise.reject(a)}}return a.response?.status===401&&(window.location.href="/login"),Promise.reject(a)});let j=f},8971:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>C,TY:()=>A,VY:()=>z,Zz:()=>s,_Z:()=>e});let d=(0,c(76067).Z0)({name:"booking",initialState:{bookingData:null,isLoading:!1,error:null},reducers:{setBookingData:(a,b)=>{a.bookingData?a.bookingData={...a.bookingData,...b.payload}:a.bookingData={selectedRows:[],selectedSeats:[],selectedSeatIds:[],seatPricing:[],priceDetails:{subtotal:0,convenienceFee:0,taxes:0,discount:0,total:0},totalAmount:0,tax:0,amount:0,selectedRowIds:[],...b.payload},a.error=null},updateSelectedRows:(a,b)=>{if(a.bookingData){a.bookingData.selectedRows=b.payload;let c=b.payload.flatMap(a=>a.seatsSelected.map(b=>`${a.rowLabel}${b}`));a.bookingData.selectedSeats=c,a.bookingData.seatPricing=b.payload.map(a=>({rowId:a.rowId,rowLabel:a.rowLabel,seatType:a.seatType,basePrice:a.pricePerSeat,finalPrice:a.pricePerSeat,seatsSelected:a.seatsSelected,seatCount:a.seatCount}));let d=b.payload.reduce((a,b)=>a+b.totalPrice,0);a.bookingData.priceDetails.subtotal=d,a.bookingData.amount=d;let e=Math.round(.05*d),f=Math.round(.18*d),g=d+e+f-a.bookingData.priceDetails.discount;a.bookingData.priceDetails.convenienceFee=e,a.bookingData.priceDetails.taxes=f,a.bookingData.priceDetails.total=g,a.bookingData.tax=f,a.bookingData.totalAmount=g}},applyCoupon:(a,b)=>{if(a.bookingData){a.bookingData.appliedCoupon=b.payload.coupon,a.bookingData.couponCode=b.payload.coupon.uniqueId,a.bookingData.discountApplied=b.payload.discountAmount,a.bookingData.priceDetails.discount=b.payload.discountAmount;let{subtotal:c,convenienceFee:d,taxes:e,discount:f}=a.bookingData.priceDetails,g=c+d+e-f;a.bookingData.priceDetails.total=g,a.bookingData.totalAmount=g}},removeCoupon:a=>{if(a.bookingData){a.bookingData.appliedCoupon=void 0,a.bookingData.couponCode=void 0,a.bookingData.discountApplied=0,a.bookingData.priceDetails.discount=0;let{subtotal:b,convenienceFee:c,taxes:d}=a.bookingData.priceDetails,e=b+c+d;a.bookingData.priceDetails.total=e,a.bookingData.totalAmount=e}},addSeatToRow:(a,b)=>{if(a.bookingData){let{rowId:c,rowLabel:d,seatNumber:e,seatType:f,pricePerSeat:g}=b.payload,h=a.bookingData.selectedRows.findIndex(a=>a.rowId===c);h>=0?a.bookingData.selectedRows[h].seatsSelected.includes(e)||(a.bookingData.selectedRows[h].seatsSelected.push(e),a.bookingData.selectedRows[h].seatCount+=1,a.bookingData.selectedRows[h].totalPrice+=g):a.bookingData.selectedRows.push({rowId:c,rowLabel:d,seatsSelected:[e],seatCount:1,seatType:f,pricePerSeat:g,totalPrice:g});let i=a.bookingData.selectedRows.flatMap(a=>a.seatsSelected.map(b=>`${a.rowLabel}${b}`));a.bookingData.selectedSeats=i;let j=a.bookingData.selectedRows.reduce((a,b)=>a+b.totalPrice,0);a.bookingData.priceDetails.subtotal=j,a.bookingData.amount=j;let k=Math.round(.05*j),l=Math.round(.18*j),m=j+k+l-a.bookingData.priceDetails.discount;a.bookingData.priceDetails.convenienceFee=k,a.bookingData.priceDetails.taxes=l,a.bookingData.priceDetails.total=m,a.bookingData.tax=l,a.bookingData.totalAmount=m}},removeSeatFromRow:(a,b)=>{if(a.bookingData){let{rowId:c,seatNumber:d,pricePerSeat:e}=b.payload,f=a.bookingData.selectedRows.findIndex(a=>a.rowId===c);if(f>=0){let b=a.bookingData.selectedRows[f],c=b.seatsSelected.indexOf(d);if(c>=0){b.seatsSelected.splice(c,1),b.seatCount-=1,b.totalPrice-=e,0===b.seatCount&&a.bookingData.selectedRows.splice(f,1);let d=a.bookingData.selectedRows.flatMap(a=>a.seatsSelected.map(b=>`${a.rowLabel}${b}`));a.bookingData.selectedSeats=d;let g=a.bookingData.selectedRows.reduce((a,b)=>a+b.totalPrice,0);a.bookingData.priceDetails.subtotal=g,a.bookingData.amount=g;let h=Math.round(.05*g),i=Math.round(.18*g),j=g+h+i-a.bookingData.priceDetails.discount;a.bookingData.priceDetails.convenienceFee=h,a.bookingData.priceDetails.taxes=i,a.bookingData.priceDetails.total=j,a.bookingData.tax=i,a.bookingData.totalAmount=j}}}},updateSelectedSeats:(a,b)=>{a.bookingData&&(a.bookingData.selectedSeats=b.payload)},updateSeatPricing:(a,b)=>{if(a.bookingData){a.bookingData.seatPricing=b.payload;let c=b.payload.reduce((a,b)=>a+b.finalPrice*b.seatCount,0);a.bookingData.priceDetails.subtotal=c,a.bookingData.amount=c;let d=Math.round(.05*c),e=Math.round(.18*c),f=c+d+e-a.bookingData.priceDetails.discount;a.bookingData.priceDetails.convenienceFee=d,a.bookingData.priceDetails.taxes=e,a.bookingData.priceDetails.total=f,a.bookingData.tax=e,a.bookingData.totalAmount=f}},updatePriceDetails:(a,b)=>{a.bookingData&&(a.bookingData.priceDetails={...a.bookingData.priceDetails,...b.payload},a.bookingData.amount=a.bookingData.priceDetails.subtotal,a.bookingData.tax=a.bookingData.priceDetails.taxes,a.bookingData.totalAmount=a.bookingData.priceDetails.total)},updateShowDetails:(a,b)=>{a.bookingData&&(a.bookingData={...a.bookingData,...b.payload})},updateUserDetails:(a,b)=>{a.bookingData&&(a.bookingData={...a.bookingData,...b.payload})},updatePaymentDetails:(a,b)=>{a.bookingData&&(a.bookingData={...a.bookingData,...b.payload})},updateBookingStatus:(a,b)=>{a.bookingData&&(a.bookingData={...a.bookingData,...b.payload})},updateAmount:(a,b)=>{a.bookingData&&(a.bookingData.amount=b.payload,a.bookingData.priceDetails.subtotal=b.payload)},updateTax:(a,b)=>{a.bookingData&&(a.bookingData.tax=b.payload,a.bookingData.priceDetails.taxes=b.payload)},updateTotalAmount:(a,b)=>{a.bookingData&&(a.bookingData.totalAmount=b.payload,a.bookingData.priceDetails.total=b.payload)},calculateTotalAmount:a=>{if(a.bookingData){let{subtotal:b,convenienceFee:c,taxes:d,discount:e}=a.bookingData.priceDetails,f=b+c+d-e;a.bookingData.priceDetails.total=f,a.bookingData.totalAmount=f}},applyDiscount:(a,b)=>{if(a.bookingData){a.bookingData.priceDetails.discount=b.payload.discount,b.payload.couponCode&&(a.bookingData.couponCode=b.payload.couponCode);let{subtotal:c,convenienceFee:d,taxes:e,discount:f}=a.bookingData.priceDetails,g=c+d+e-f;a.bookingData.priceDetails.total=g,a.bookingData.totalAmount=g}},removeDiscount:a=>{if(a.bookingData){a.bookingData.priceDetails.discount=0,a.bookingData.couponCode=void 0;let{subtotal:b,convenienceFee:c,taxes:d}=a.bookingData.priceDetails,e=b+c+d;a.bookingData.priceDetails.total=e,a.bookingData.totalAmount=e}},setLoading:(a,b)=>{a.isLoading=b.payload},setError:(a,b)=>{a.error=b.payload,a.isLoading=!1},resetBookingData:a=>{a.bookingData=null,a.isLoading=!1,a.error=null},clearError:a=>{a.error=null},clearSelectedSeats:a=>{a.bookingData&&(a.bookingData.selectedRows=[],a.bookingData.selectedSeats=[],a.bookingData.seatPricing=[],a.bookingData.priceDetails={subtotal:0,convenienceFee:0,taxes:0,discount:0,total:0},a.bookingData.amount=0,a.bookingData.tax=0,a.bookingData.totalAmount=0)}}}),{setBookingData:e,updateSelectedRows:f,addSeatToRow:g,removeSeatFromRow:h,updateSelectedSeats:i,updateSeatPricing:j,updatePriceDetails:k,updateShowDetails:l,updateUserDetails:m,updatePaymentDetails:n,updateBookingStatus:o,updateAmount:p,updateTax:q,updateTotalAmount:r,calculateTotalAmount:s,applyDiscount:t,removeDiscount:u,setLoading:v,setError:w,resetBookingData:x,clearError:y,applyCoupon:z,removeCoupon:A,clearSelectedSeats:B}=d.actions,C=d.reducer},9564:(a,b,c)=>{"use strict";c.d(b,{ConfirmDialog:()=>v,f:()=>w});var d=c(60687),e=c(43210),f=c(29093),g=c(49384),h=c(82348);function i(...a){return(0,h.QP)((0,g.$)(a))}let j=(0,c(24224).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function k({...a}){return(0,d.jsx)(f.bL,{"data-slot":"alert-dialog",...a})}function l({...a}){return(0,d.jsx)(f.ZL,{"data-slot":"alert-dialog-portal",...a})}function m({className:a,...b}){return(0,d.jsx)(f.hJ,{"data-slot":"alert-dialog-overlay",className:i("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function n({className:a,...b}){return(0,d.jsxs)(l,{children:[(0,d.jsx)(m,{}),(0,d.jsx)(f.UC,{"data-slot":"alert-dialog-content",className:i("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...b})]})}function o({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"alert-dialog-header",className:i("flex flex-col gap-2 text-center sm:text-left",a),...b})}function p({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"alert-dialog-footer",className:i("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function q({className:a,...b}){return(0,d.jsx)(f.hE,{"data-slot":"alert-dialog-title",className:i("text-lg font-semibold",a),...b})}function r({className:a,...b}){return(0,d.jsx)(f.VY,{"data-slot":"alert-dialog-description",className:i("text-muted-foreground text-sm",a),...b})}function s({className:a,...b}){return(0,d.jsx)(f.rc,{className:i(j(),a),...b})}function t({className:a,...b}){return(0,d.jsx)(f.ZD,{className:i(j({variant:"outline"}),a),...b})}let u=null;function v({title:a,message:b,confirmText:c="Confirm",cancelText:f="Cancel"}){let[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)({title:a,message:b,confirmText:c,cancelText:f}),l=a=>{h(!1),u?.(a),u=null};return(0,d.jsx)(k,{open:g,onOpenChange:h,children:(0,d.jsxs)(n,{className:"bg-slate-800 text-slate-50 dark:bg-slate-900 dark:text-slate-100 rounded-lg shadow-lg p-6 border border-slate-700",children:[(0,d.jsxs)(o,{children:[(0,d.jsx)(q,{children:i.title}),(0,d.jsx)(r,{children:i.message})]}),(0,d.jsxs)(p,{className:"flex justify-end space-x-2",children:[(0,d.jsx)(t,{onClick:()=>l(!1),className:"px-4 py-2 bg-muted text-muted-foreground rounded hover:bg-muted/90",children:i.cancelText}),(0,d.jsx)(s,{onClick:()=>l(!0),className:"px-4 py-2 bg-destructive text-destructive-foreground rounded hover:bg-destructive/90",children:i.confirmText})]})]})})}function w(a){return window.__openConfirmDialog(a)}},18160:(a,b,c)=>{"use strict";c.d(b,{BD:()=>f,Ky:()=>i,ZO:()=>g,ri:()=>j,xw:()=>h});var d=c(56756),e=c(5376);let f=async a=>(await e.A.post(d.A.FORGOT_PASSWORD_SEND_OTP,{email:a})).data,g=async(a,b)=>(await e.A.post(d.A.VERIFY_OTP,{email:a,otp:b})).data,h=async(a,b,c)=>(await e.A.post(d.A.RESET_PASSWORD,{email:a,otp:b,newPassword:c})).data,i=async a=>(await e.A.post(d.A.GOOGLE_AUTH,{credential:a.credential})).data,j=async()=>{try{let a=await e.A.post(d.A.LOGOUT,{});return localStorage.removeItem("authToken"),a.data?.success||!1}catch{return localStorage.removeItem("authToken"),!1}}},28286:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},33506:(a,b,c)=>{"use strict";c.d(b,{ConfirmDialog:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ConfirmDialog() from the server but ConfirmDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\others\\components\\utils\\ConfirmDialog.tsx","ConfirmDialog");(0,d.registerClientReference)(function(){throw Error("Attempted to call confirmAction() from the server but confirmAction is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\others\\components\\utils\\ConfirmDialog.tsx","confirmAction")},39932:(a,b,c)=>{Promise.resolve().then(c.bind(c,89349)),Promise.resolve().then(c.bind(c,37590)),Promise.resolve().then(c.bind(c,9564)),Promise.resolve().then(c.bind(c,77705))},51520:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"2000x1946",url:(0,d.fillMetadataSegment)(".",await a.params,"icon.ico")+"?8c561eeed44ac2de"}]},53500:(a,b,c)=>{Promise.resolve().then(c.bind(c,74559)),Promise.resolve().then(c.bind(c,5625)),Promise.resolve().then(c.bind(c,33506)),Promise.resolve().then(c.bind(c,77236))},54413:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(37413);function e(){return(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen text-white bg-black",children:[(0,d.jsx)("h1",{className:"text-5xl font-bold",children:"404"}),(0,d.jsx)("p",{className:"mt-4 text-xl",children:"Page Not Found"})]})}},56756:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d={LOGIN:"/auth/login",FORGOT_PASSWORD_SEND_OTP:"/auth/forgot-password/send-otp",VERIFY_OTP:"/auth/forgot-password/verify-otp",RESET_PASSWORD:"/auth/forgot-password/reset-password",GOOGLE_AUTH:"/auth/google",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh"}},61135:()=>{},77236:(a,b,c)=>{"use strict";c.d(b,{ReduxProvider:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call ReduxProvider() from the server but ReduxProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\BROTOTYPE\\mern-project II-full-stack-mern-Next.js\\frontend\\app\\src\\app\\others\\redux\\providers\\ReduxProvider.tsx","ReduxProvider")},77705:(a,b,c)=>{"use strict";c.d(b,{ReduxProvider:()=>C});var d=c(60687),e=c(54864),f=c(76067),g=c(61792),h=c(23599),i=c(94926);let j=(0,f.Z0)({name:"user",initialState:{profile:null,nearbyUsers:[],loading:!1,error:null},reducers:{setLoading:(a,b)=>{a.loading=b.payload},setProfile:(a,b)=>{a.profile=b.payload},setNearbyUsers:(a,b)=>{a.nearbyUsers=b.payload},setError:(a,b)=>{a.error=b.payload},clearUserState:a=>{a.profile=null,a.nearbyUsers=[],a.loading=!1,a.error=null}}}),{setLoading:k,setProfile:l,setNearbyUsers:m,setError:n,clearUserState:o}=j.actions,p=j.reducer,q=(0,f.Z0)({name:"admin",initialState:{users:[],movies:[],analytics:null,loading:!1,error:null},reducers:{setLoading:(a,b)=>{a.loading=b.payload},setUsers:(a,b)=>{a.users=b.payload},setMovies:(a,b)=>{a.movies=b.payload},setAnalytics:(a,b)=>{a.analytics=b.payload},setError:(a,b)=>{a.error=b.payload},clearAdminState:a=>{a.users=[],a.movies=[],a.analytics=null,a.loading=!1,a.error=null}}}),{setLoading:r,setUsers:s,setMovies:t,setAnalytics:u,setError:v,clearAdminState:w}=q.actions,x=q.reducer;var y=c(8971);let z={key:"auth",storage:h.A},A=(0,g.rL)(z,i.Ay),B=(0,f.U1)({reducer:{auth:A,user:p,admin:x,booking:y.Ay},middleware:a=>a({serializableCheck:{ignoredActions:[g.ZM,g.r2,g.Hz,g.DY,g.Cq,g.eY]}})});function C({children:a}){return(0,d.jsx)(e.Kq,{store:B,children:a})}(0,g.GM)(B)},78335:()=>{},79640:(a,b,c)=>{"use strict";c.d(b,{VM:()=>j,iD:()=>i,LK:()=>h,xw:()=>k,uV:()=>l,$5:()=>f,Dl:()=>m,vJ:()=>g});let d={SIGNUP:"/auth/signup",VERIFY_OTP:"/auth/verify-otp",RESEND_OTP:"/auth/resend-otp",LOGIN:"/auth/login",PROFILE:"/users/profile",RESET_PASSWORD:"/users/reset-password",EMAIL_CHANGE_OTP_SEND:"/users/email/change",EMAIL_CHANGE_OTP_VERIFY:"/users/email/verify"};var e=c(5376);let f=async a=>(await e.A.post(d.SIGNUP,a)).data,g=async(a,b)=>(await e.A.post(d.VERIFY_OTP,{email:a,otp:b})).data,h=async a=>(await e.A.post(d.RESEND_OTP,{email:a})).data,i=async(a,b)=>(await e.A.post(d.LOGIN,{email:a,password:b})).data,j=async()=>(await e.A.get(d.PROFILE)).data,k=async(a,b)=>(await e.A.patch(d.RESET_PASSWORD,{newPassword:a,oldpassword:b})).data,l=async a=>(await e.A.post(d.EMAIL_CHANGE_OTP_SEND,{newEmail:a.newEmail,password:a.password})).data,m=async a=>(await e.A.post(d.EMAIL_CHANGE_OTP_VERIFY,{email:a.email,otp:a.otp})).data},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>n,metadata:()=>m});var d=c(37413),e=c(22376),f=c.n(e),g=c(68726),h=c.n(g);c(61135);var i=c(5625),j=c(77236),k=c(33506),l=c(74559);let m={title:"Cineora",description:"Generated by create next app",icons:{icon:"/icon.ico"}};function n({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(l.GoogleOAuthProvider,{clientId:"1018328723839-9jhmtd8jdu31tlvc9vnuv7eeoq4180nm.apps.googleusercontent.com",children:(0,d.jsxs)(j.ReduxProvider,{children:[(0,d.jsx)(i.Toaster,{position:"top-center"}),a,(0,d.jsx)(k.ConfirmDialog,{title:"",message:""})]})})})})}},94630:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},94926:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>t,ET:()=>r,Lx:()=>i,RY:()=>h,p3:()=>j,y4:()=>l});var d=c(76067),e=c(79640),f=c(18160),g=c(1510);let h=(0,d.zD)("auth/verifyOtp",async({email:a,otp:b},{rejectWithValue:c})=>{try{let d=await (0,e.vJ)(a,b);if(d.success)return{user:d.data.user,role:d.data.role,redirectTo:d.data.redirectTo};return c(d.message)}catch(b){let a="OTP verification failed";return b instanceof g.pe&&(b.response?.data?.message?a=b.response.data.message:b.response?.status===401?a="Invalid OTP":b.response?.status&&b.response?.status>=500?a="Server error. Please try again later.":b.request&&(a="Network error. Please check your connection.")),c(a)}}),i=(0,d.zD)("auth/loginUser",async({email:a,password:b},{rejectWithValue:c})=>{try{let d=await (0,e.iD)(a,b);if(console.log("auth slice result is :",d),d.success)return{user:d.data.user,role:d.data.role,redirectTo:d.data.redirectTo};return c(d.message)}catch(b){let a="Login failed";return b instanceof g.pe&&(b.response?.data?.message?a=b.response.data.message:b.response?.status===401?a="Invalid email or password":b.response?.status&&b.response?.status>=500?a="Server error. Please try again later.":b.request&&(a="Network error. Please check your connection.")),c(a)}}),j=(0,d.zD)("auth/googleLogin",async(a,{rejectWithValue:b})=>{try{let c=await (0,f.Ky)(a);if(c.success)return{user:c.data.user,role:c.data.user.role||"user",isNewUser:c.data.isNewUser,redirectTo:c.data.redirectTo||"/dashboard"};return b(c.message||"Google authentication failed")}catch(a){if(a instanceof g.pe){let c="Google Sign-In failed";return a.response?.data?.message?c=a.response.data.message:a.response?.status&&a.response?.status>=500?c="Server error. Please try again later.":a.request&&(c="Network error. Please check your connection."),b(c)}}}),k=(0,d.zD)("auth/checkStatus",async(a,{rejectWithValue:b})=>{try{let a=await fetch("/api/auth/me",{credentials:"include"});if(a.ok){let b=await a.json();return{user:b.data.user,role:b.data.user.role}}throw Error("Not authenticated")}catch(a){return b("Authentication check failed")}}),l=(0,d.zD)("auth/logout",async(a,{rejectWithValue:b})=>{try{return await (0,f.ri)(),null}catch(a){return null}}),m=(0,d.Z0)({name:"auth",initialState:{user:null,role:null,isAuthenticated:!1,loading:!1,error:null},reducers:{setUser:(a,b)=>{a.user=b.payload.user,a.role=b.payload.role,a.isAuthenticated=!0,a.error=null},clearUser:a=>{a.loading=!1,a.user=null,a.role=null,a.isAuthenticated=!1,a.error=null},setLoading:(a,b)=>{a.loading=b.payload},setError:(a,b)=>{a.error=b.payload},clearError:a=>{a.error=null},updateUser:(a,b)=>{a.user&&(a.user={...a.user,...b.payload})}},extraReducers:a=>{a.addCase(i.pending,a=>{a.loading=!0,a.error=null}).addCase(i.fulfilled,(a,b)=>{a.loading=!1,a.user=b.payload.user,a.role=b.payload.role,a.isAuthenticated=!0,a.error=null}).addCase(i.rejected,(a,b)=>{a.loading=!1,a.error=b.payload,a.isAuthenticated=!1}).addCase(j.pending,a=>{a.loading=!0,a.error=null}).addCase(j.fulfilled,(a,b)=>{a.loading=!1,a.user=b.payload&&b.payload.user,a.role=b.payload&&b.payload.role,a.isAuthenticated=!0,a.error=null}).addCase(j.rejected,(a,b)=>{a.loading=!1,a.error=b.payload,a.isAuthenticated=!1}).addCase(k.pending,a=>{a.loading=!0}).addCase(k.fulfilled,(a,b)=>{a.loading=!1,a.user=b.payload.user,a.role=b.payload.role,a.isAuthenticated=!0,a.error=null}).addCase(k.rejected,a=>{a.loading=!1,a.user=null,a.role=null,a.isAuthenticated=!1,a.error=null}).addCase(l.fulfilled,a=>{a.loading=!1,a.user=null,a.role=null,a.isAuthenticated=!1,a.error=null}).addCase(h.pending,a=>{a.loading=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{a.loading=!1,a.user=b.payload.user,a.role=b.payload.role,a.isAuthenticated=!0,a.error=null}).addCase(h.rejected,(a,b)=>{a.loading=!1,a.error=b.payload,a.isAuthenticated=!1})}}),{setUser:n,clearUser:o,setLoading:p,setError:q,clearError:r,updateUser:s}=m.actions,t=m.reducer},96487:()=>{}};