"use strict";exports.id=949,exports.ids=[949],exports.modules={7823:(a,b,c)=>{c.d(b,{dW:()=>p,Vd:()=>n,_7:()=>m,kX:()=>f,d8:()=>l,vn:()=>i,Vi:()=>o,O_:()=>j,bm:()=>h,i6:()=>g,Zw:()=>k});let d={REVENUE_MONTHLY:"/analytics/revenue/monthly",REVENUE_THEATER_WISE:"/analytics/revenue/theater-wise",REVENUE_SCREEN_WISE:"/analytics/revenue/screen-wise",REVENUE_MOVIE_WISE:"/analytics/revenue/movie-wise",PERFORMANCE:"/analytics/performance",PERFORMANCE_TIME_SLOTS:"/analytics/performance/time-slots",MOVIES:"/analytics/movies",MOVIES_FORMAT_PERFORMANCE:"/analytics/movies/format-performance",FINANCIAL:"/analytics/financial",OPERATIONAL:"/analytics/operational",SUMMARY:"/analytics/summary"};var e=c(5376);let f=async a=>(await e.A.get(d.REVENUE_MONTHLY,{params:a})).data,g=async a=>(await e.A.get(d.REVENUE_THEATER_WISE,{params:a})).data,h=async a=>(await e.A.get(d.REVENUE_SCREEN_WISE,{params:a})).data,i=async a=>(await e.A.get(d.REVENUE_MOVIE_WISE,{params:a})).data,j=async a=>(await e.A.get(d.PERFORMANCE,{params:a})).data,k=async a=>(await e.A.get(d.PERFORMANCE_TIME_SLOTS,{params:a})).data,l=async a=>(await e.A.get(d.MOVIES,{params:a})).data,m=async a=>(await e.A.get(d.MOVIES_FORMAT_PERFORMANCE,{params:a})).data,n=async a=>(await e.A.get(d.FINANCIAL,{params:a})).data,o=async a=>(await e.A.get(d.OPERATIONAL,{params:a})).data,p=async a=>(await e.A.get(d.SUMMARY,{params:a})).data},54712:(a,b,c)=>{c.d(b,{GW:()=>g,O5:()=>e,X5:()=>f,u7:()=>h});var d=c(37566);let e=d.Ik({email:d.Yj().min(1,"Email is required").email("Invalid email").trim().regex(/^(?!.*[_]{2,}).*$/,"Email cannot contain consecutive underscores").regex(/^\S+$/,"Email cannot contain spaces"),password:d.Yj().min(6,"Password must be at least 6 characters").regex(/^(?!.*(.)\1{4,}).*$/,"Password cannot have 5+ repeating characters"),confirmPassword:d.Yj().min(1,"Please confirm your password")}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),f=d.Ik({email:d.Yj().min(1,"Email is required").email("Invalid email").trim().regex(/^(?!.*[_]{2,}).*$/).regex(/^\S+$/),password:d.Yj().min(6,"Password must be at least 6 characters").trim().regex(/^(?!.*[_]{2,}).*$/).regex(/^\S+$/)}),g=d.Ik({title:d.Yj().min(1,"Title is required").max(100,"Title too long"),description:d.Yj().min(10,"Description must be at least 10 characters").max(1e3,"Description too long"),releaseDate:d.Yj().min(1,"Release date is required"),duration:d.ai().min(1,"Duration must be at least 1 minute").max(500,"Duration too long"),rating:d.Yj().min(1,"Rating is required"),genre:d.YO(d.Yj()).min(1,"At least one genre is required"),director:d.Yj().min(1,"Director is required").max(100,"Director name too long"),language:d.Yj().min(1,"Language is required"),poster:d.Yj().url("Must be a valid URL").optional().or(d.eu("")),trailer:d.Yj().url("Must be a valid URL").optional().or(d.eu("")),cast:d.YO(d.Yj()).min(1,"At least one cast member is required"),tmdbId:d.ai().optional(),isActive:d.zM().optional()}),h=d.Ik({name:d.Yj().min(2,"Screen name must be at least 2 characters").max(50,"Screen name too long"),totalSeats:d.ai().min(1,"Total seats must be greater than 0").max(5e3,"Maximum 5000 total seats allowed"),features:d.YO(d.Yj()).optional(),screenType:d.Yj().min(1,"Screen type is required"),layout:d.Ik({rows:d.ai().min(1,"At least one row is required"),seatsPerRow:d.ai().min(1,"At least one seat per row required"),advancedLayout:d.Ik({rows:d.YO(d.Ik({rowLabel:d.Yj(),offset:d.ai().min(0),seats:d.YO(d.Ik({col:d.ai(),id:d.Yj(),type:d.Yj(),price:d.ai().min(0)}))})).min(1,"At least one row is required"),aisles:d.Ik({vertical:d.YO(d.Ik({id:d.Yj(),position:d.ai().min(1,"Aisle position must be at least 1"),width:d.ai().min(1,"Aisle width must be at least 1").max(2,"Aisle width cannot exceed 2 units")})).optional().default([]),horizontal:d.YO(d.Ik({id:d.Yj(),afterRow:d.ai().min(0,"Aisle afterRow must be at least 0"),width:d.ai().min(1,"Aisle width must be at least 1").max(2,"Aisle width cannot exceed 2 units")})).optional().default([])}).optional().default({vertical:[],horizontal:[]})})})}),i=d.Ik({movieId:d.Yj().min(1,"Please select a movie"),theaterId:d.Yj().min(1,"Please select a theater"),screenId:d.Yj().min(1,"Please select a screen"),format:d.Yj().min(1,"Please select a format"),language:d.Yj().min(1,"Movie language is required"),ageRestriction:d.ai().nullable(),rowPricing:d.YO(d.Ik({rowLabel:d.Yj(),seatType:d.Yj(),basePrice:d.ai().min(0),showtimePrice:d.ai().min(0),totalSeats:d.ai().min(1,"Row must have at least one seat"),availableSeats:d.ai(),bookedSeats:d.YO(d.Yj())})).min(1,"Row pricing is required")}).refine(a=>a.rowPricing.every(a=>a.showtimePrice>=a.basePrice),{message:"Showtime price must be at least base price for all rows",path:["rowPricing"]});i.merge(d.Ik({dateRange:d.Ik({start:d.Yj().min(1,"Please select start date"),end:d.Yj().min(1,"Please select end date")}),timeSlots:d.YO(d.Yj()).min(1,"Add at least one showtime slot")})),i.merge(d.Ik({singleDate:d.Yj().min(1,"Please select a date"),singleTime:d.Yj().min(1,"Please select a time")})),d.Ik({name:d.Yj().min(1,"Theater name is required").max(100,"Theater name is too long"),address:d.Yj().min(1,"Address is required").max(200,"Address is too long"),city:d.Yj().min(1,"City is required").max(50,"City is too long"),state:d.Yj().min(1,"State is required").max(50,"State is too long"),pincode:d.Yj().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be 6 digits"),phone:d.Yj().min(1,"Phone number is required").transform(a=>a.replace(/\D/g,"")).refine(a=>10===a.length,"Phone number must be 10 digits"),location:d.Ik({coordinates:d.YO(d.ai()).length(2,"Location must have latitude and longitude").refine(a=>0!==a[0]||0!==a[1],"Location coordinates are required")})})},74650:(a,b,c)=>{c.d(b,{l:()=>g});var d=c(60687);c(43210);var e=c(9322),f=c.n(e);let g=({advancedLayoutJSON:a,maxCols:b,showAisles:c=!1})=>{let e=a.aisles||{vertical:[],horizontal:[]},g=(()=>{let b=[];return a.rows.forEach((a,d)=>{if(b.push({type:"seats",data:a,originalIndex:d}),c&&e.horizontal){let a=e.horizontal.find(a=>a.afterRow===d);if(a)for(let c=0;c<a.width;c++)b.push({type:"horizontal-aisle",data:a,aisleRowIndex:c})}}),b})();return(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("h3",{className:`${f().className} text-sm text-gray-300`,children:["Layout Preview ",c&&"(with Aisles)"]}),(0,d.jsxs)("div",{className:"bg-white/5 border border-gray-500/30 rounded-xl p-6",children:[(0,d.jsx)("div",{className:"text-center mb-4",children:(0,d.jsx)("div",{className:"inline-block px-8 py-2 bg-white/10 rounded text-gray-300 text-sm font-medium",children:"SCREEN"})}),(0,d.jsx)("div",{className:"flex flex-col items-center space-y-1",children:g.map((a,f)=>(0,d.jsx)("div",{children:"horizontal-aisle"===a.type?(0,d.jsx)("div",{className:"w-full rounded bg-red-500",style:{width:`${32*b+(b-1)*4}px`,height:"3px"},title:`Horizontal aisle: ${a.data.label||"Walkway"}`}):(0,d.jsx)("div",{className:"grid",style:{gridTemplateColumns:`repeat(${b}, 32px)`,gap:"4px"},children:Array.from({length:b}).map((b,f)=>{if(c&&(a=>!!c&&!!e.vertical&&e.vertical.some(b=>a>=b.position&&a<b.position+b.width))(f))return(0,d.jsx)("div",{style:{width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center"},title:"Vertical Aisle",children:(0,d.jsx)("div",{className:"rounded bg-red-500",style:{width:"3px",height:"24px"}})},`aisle-${f}`);if(f<a.data.offset)return(0,d.jsx)("div",{style:{width:28,height:28}},`offset-${f}`);let g=f-a.data.offset,h=a.data.seats[g];return h?(0,d.jsx)("div",{style:{width:28,height:28,backgroundColor:"VIP"===h.type?"#ffd700":"Premium"===h.type?"#9333ea":"#6b7280",color:"VIP"===h.type?"#1f2937":"#ffffff",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,fontWeight:"bold"},title:`${h.id}: ${h.type} @ â‚¹${h.price}`,children:h.col},h.id):(0,d.jsx)("div",{style:{width:28,height:28}},`empty-${f}`)})})},`expanded-${f}`))}),(0,d.jsxs)("div",{className:"flex justify-center gap-4 mt-4 text-xs flex-wrap",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 bg-gray-500 rounded"}),(0,d.jsx)("span",{className:"text-gray-400",children:"Normal"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 bg-purple-600 rounded"}),(0,d.jsx)("span",{className:"text-gray-400",children:"Premium"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),(0,d.jsx)("span",{className:"text-gray-400",children:"VIP"})]}),c&&(e.vertical.length>0||e.horizontal.length>0)&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-1 bg-red-500 rounded"}),(0,d.jsx)("span",{className:"text-gray-400",children:"Aisle"})]})]}),c&&(e.vertical.length>0||e.horizontal.length>0)&&(0,d.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-500/30",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h4",{className:`${f().className} text-white text-sm mb-2`,children:"Configured Aisles"}),(0,d.jsxs)("div",{className:"flex justify-center gap-6 text-xs",children:[e.vertical.length>0&&(0,d.jsxs)("div",{className:"text-red-300",children:[(0,d.jsx)("span",{className:"font-medium",children:e.vertical.length})," Vertical Aisles"]}),e.horizontal.length>0&&(0,d.jsxs)("div",{className:"text-red-300",children:[(0,d.jsx)("span",{className:"font-medium",children:e.horizontal.length})," Horizontal Aisles"]})]})]})})]})]})}},93973:(a,b,c)=>{c.d(b,{A:()=>i});var d=c(60687),e=c(54864),f=c(94926),g=c(16189),h=c(43210);function i({children:a,allowedRoles:b,excludedRoles:c,allowUnauthenticated:i=!1,redirectOnAuth:j=!0}){let{role:k,loading:l,isAuthenticated:m}=(()=>{let a=(0,e.wA)(),{user:b,role:c,isAuthenticated:d,loading:g}=(0,e.d4)(a=>a.auth);return{user:b,role:c,loading:g,isAuthenticated:d,logout:async()=>{await a((0,f.y4)()),localStorage.removeItem("role"),window.location.href="/login"}}})(),n=(0,g.useRouter)(),[o,p]=(0,h.useState)(!1),q=a=>(()=>{switch(a){case"admin":return"/admin/dashboard";case"owner":return"/owner/dashboard";default:return"/"}})();if(!o)return null;if(l)return(0,d.jsx)("div",{className:"min-h-screen bg-[#040404] flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("p",{className:"text-gray-400",children:"Please wait..."})})});if(b&&b.length>0){if(!m&&!i||m&&k&&!b.includes(k))if(j)return(0,d.jsx)("div",{className:"min-h-screen bg-[#040404] flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("p",{className:"text-gray-400",children:"Taking you back..."})})});else return(0,d.jsx)("div",{className:"min-h-screen bg-[#040404] flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-gray-400",children:"Access Denied"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"You don't have permission to view this page"}),m?(0,d.jsx)("button",{onClick:()=>n.replace(q(k)),className:"mt-4 bg-white text-black px-4 py-2 rounded hover:bg-gray-200",children:"Go to Dashboard"}):(0,d.jsx)("button",{onClick:()=>n.replace("/login"),className:"mt-4 bg-white text-black px-4 py-2 rounded hover:bg-gray-200",children:"Login"})]})});return(0,d.jsx)(d.Fragment,{children:a})}if(c&&c.length>0&&m&&k&&c.includes(k))if(j)return(0,d.jsx)("div",{className:"min-h-screen bg-[#040404] flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("p",{className:"text-gray-400",children:"Taking you back..."})})});else return(0,d.jsx)("div",{className:"min-h-screen bg-[#040404] flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-gray-400",children:"Access Denied"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"You're already logged in"}),(0,d.jsx)("button",{onClick:()=>n.replace(q(k)),className:"mt-4 bg-white text-black px-4 py-2 rounded hover:bg-gray-200",children:"Go to Dashboard"})]})});return(0,d.jsx)(d.Fragment,{children:a})}}};